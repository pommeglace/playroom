const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browserAll-CxmdXcSQ.js","assets/webworkerAll-CXaWPuJj.js","assets/colorToUniform-DmtBy-2V.js","assets/WebGPURenderer-EOoTU0rD.js","assets/SharedSystems-DGvv-14h.js","assets/WebGLRenderer-BM-M3Aqs.js"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function i(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(l){if(l.ep)return;l.ep=!0;const u=i(l);fetch(l.href,u)}})();function My(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Rc={exports:{}},Ia={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wm;function Ob(){if(Wm)return Ia;Wm=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,u){var c=null;if(u!==void 0&&(c=""+u),l.key!==void 0&&(c=""+l.key),"key"in l){u={};for(var f in l)f!=="key"&&(u[f]=l[f])}else u=l;return l=u.ref,{$$typeof:s,type:a,key:c,ref:l!==void 0?l:null,props:u}}return Ia.Fragment=t,Ia.jsx=i,Ia.jsxs=i,Ia}var Zm;function Db(){return Zm||(Zm=1,Rc.exports=Ob()),Rc.exports}var Z=Db(),Bc={exports:{}},Wa={},zc={exports:{}},Oc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qm;function kb(){return Qm||(Qm=1,(function(s){function t(O,X){var rt=O.length;O.push(X);t:for(;0<rt;){var at=rt-1>>>1,R=O[at];if(0<l(R,X))O[at]=X,O[rt]=R,rt=at;else break t}}function i(O){return O.length===0?null:O[0]}function a(O){if(O.length===0)return null;var X=O[0],rt=O.pop();if(rt!==X){O[0]=rt;t:for(var at=0,R=O.length,I=R>>>1;at<I;){var $=2*(at+1)-1,Q=O[$],st=$+1,mt=O[st];if(0>l(Q,rt))st<R&&0>l(mt,Q)?(O[at]=mt,O[st]=rt,at=st):(O[at]=Q,O[$]=rt,at=$);else if(st<R&&0>l(mt,rt))O[at]=mt,O[st]=rt,at=st;else break t}}return X}function l(O,X){var rt=O.sortIndex-X.sortIndex;return rt!==0?rt:O.id-X.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var c=Date,f=c.now();s.unstable_now=function(){return c.now()-f}}var d=[],p=[],g=1,y=null,_=3,b=!1,A=!1,w=!1,S=!1,T=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function D(O){for(var X=i(p);X!==null;){if(X.callback===null)a(p);else if(X.startTime<=O)a(p),X.sortIndex=X.expirationTime,t(d,X);else break;X=i(p)}}function H(O){if(w=!1,D(O),!A)if(i(d)!==null)A=!0,F||(F=!0,ht());else{var X=i(p);X!==null&&wt(H,X.startTime-O)}}var F=!1,N=-1,J=5,j=-1;function W(){return S?!0:!(s.unstable_now()-j<J)}function K(){if(S=!1,F){var O=s.unstable_now();j=O;var X=!0;try{t:{A=!1,w&&(w=!1,C(N),N=-1),b=!0;var rt=_;try{e:{for(D(O),y=i(d);y!==null&&!(y.expirationTime>O&&W());){var at=y.callback;if(typeof at=="function"){y.callback=null,_=y.priorityLevel;var R=at(y.expirationTime<=O);if(O=s.unstable_now(),typeof R=="function"){y.callback=R,D(O),X=!0;break e}y===i(d)&&a(d),D(O)}else a(d);y=i(d)}if(y!==null)X=!0;else{var I=i(p);I!==null&&wt(H,I.startTime-O),X=!1}}break t}finally{y=null,_=rt,b=!1}X=void 0}}finally{X?ht():F=!1}}}var ht;if(typeof E=="function")ht=function(){E(K)};else if(typeof MessageChannel<"u"){var _t=new MessageChannel,Ht=_t.port2;_t.port1.onmessage=K,ht=function(){Ht.postMessage(null)}}else ht=function(){T(K,0)};function wt(O,X){N=T(function(){O(s.unstable_now())},X)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(O){O.callback=null},s.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<O?Math.floor(1e3/O):5},s.unstable_getCurrentPriorityLevel=function(){return _},s.unstable_next=function(O){switch(_){case 1:case 2:case 3:var X=3;break;default:X=_}var rt=_;_=X;try{return O()}finally{_=rt}},s.unstable_requestPaint=function(){S=!0},s.unstable_runWithPriority=function(O,X){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var rt=_;_=O;try{return X()}finally{_=rt}},s.unstable_scheduleCallback=function(O,X,rt){var at=s.unstable_now();switch(typeof rt=="object"&&rt!==null?(rt=rt.delay,rt=typeof rt=="number"&&0<rt?at+rt:at):rt=at,O){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=rt+R,O={id:g++,callback:X,priorityLevel:O,startTime:rt,expirationTime:R,sortIndex:-1},rt>at?(O.sortIndex=rt,t(p,O),i(d)===null&&O===i(p)&&(w?(C(N),N=-1):w=!0,wt(H,rt-at))):(O.sortIndex=R,t(d,O),A||b||(A=!0,F||(F=!0,ht()))),O},s.unstable_shouldYield=W,s.unstable_wrapCallback=function(O){var X=_;return function(){var rt=_;_=X;try{return O.apply(this,arguments)}finally{_=rt}}}})(Oc)),Oc}var Km;function Ub(){return Km||(Km=1,zc.exports=kb()),zc.exports}var Dc={exports:{}},ft={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $m;function Gb(){if($m)return ft;$m=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function _(R){return R===null||typeof R!="object"?null:(R=y&&R[y]||R["@@iterator"],typeof R=="function"?R:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,w={};function S(R,I,$){this.props=R,this.context=I,this.refs=w,this.updater=$||b}S.prototype.isReactComponent={},S.prototype.setState=function(R,I){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,I,"setState")},S.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function T(){}T.prototype=S.prototype;function C(R,I,$){this.props=R,this.context=I,this.refs=w,this.updater=$||b}var E=C.prototype=new T;E.constructor=C,A(E,S.prototype),E.isPureReactComponent=!0;var D=Array.isArray,H={H:null,A:null,T:null,S:null,V:null},F=Object.prototype.hasOwnProperty;function N(R,I,$,Q,st,mt){return $=mt.ref,{$$typeof:s,type:R,key:I,ref:$!==void 0?$:null,props:mt}}function J(R,I){return N(R.type,I,void 0,void 0,void 0,R.props)}function j(R){return typeof R=="object"&&R!==null&&R.$$typeof===s}function W(R){var I={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function($){return I[$]})}var K=/\/+/g;function ht(R,I){return typeof R=="object"&&R!==null&&R.key!=null?W(""+R.key):I.toString(36)}function _t(){}function Ht(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(_t,_t):(R.status="pending",R.then(function(I){R.status==="pending"&&(R.status="fulfilled",R.value=I)},function(I){R.status==="pending"&&(R.status="rejected",R.reason=I)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function wt(R,I,$,Q,st){var mt=typeof R;(mt==="undefined"||mt==="boolean")&&(R=null);var ot=!1;if(R===null)ot=!0;else switch(mt){case"bigint":case"string":case"number":ot=!0;break;case"object":switch(R.$$typeof){case s:case t:ot=!0;break;case g:return ot=R._init,wt(ot(R._payload),I,$,Q,st)}}if(ot)return st=st(R),ot=Q===""?"."+ht(R,0):Q,D(st)?($="",ot!=null&&($=ot.replace(K,"$&/")+"/"),wt(st,I,$,"",function(Ce){return Ce})):st!=null&&(j(st)&&(st=J(st,$+(st.key==null||R&&R.key===st.key?"":(""+st.key).replace(K,"$&/")+"/")+ot)),I.push(st)),1;ot=0;var fe=Q===""?".":Q+":";if(D(R))for(var Dt=0;Dt<R.length;Dt++)Q=R[Dt],mt=fe+ht(Q,Dt),ot+=wt(Q,I,$,mt,st);else if(Dt=_(R),typeof Dt=="function")for(R=Dt.call(R),Dt=0;!(Q=R.next()).done;)Q=Q.value,mt=fe+ht(Q,Dt++),ot+=wt(Q,I,$,mt,st);else if(mt==="object"){if(typeof R.then=="function")return wt(Ht(R),I,$,Q,st);throw I=String(R),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.")}return ot}function O(R,I,$){if(R==null)return R;var Q=[],st=0;return wt(R,Q,"","",function(mt){return I.call($,mt,st++)}),Q}function X(R){if(R._status===-1){var I=R._result;I=I(),I.then(function($){(R._status===0||R._status===-1)&&(R._status=1,R._result=$)},function($){(R._status===0||R._status===-1)&&(R._status=2,R._result=$)}),R._status===-1&&(R._status=0,R._result=I)}if(R._status===1)return R._result.default;throw R._result}var rt=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var I=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(I))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)};function at(){}return ft.Children={map:O,forEach:function(R,I,$){O(R,function(){I.apply(this,arguments)},$)},count:function(R){var I=0;return O(R,function(){I++}),I},toArray:function(R){return O(R,function(I){return I})||[]},only:function(R){if(!j(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},ft.Component=S,ft.Fragment=i,ft.Profiler=l,ft.PureComponent=C,ft.StrictMode=a,ft.Suspense=d,ft.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,ft.__COMPILER_RUNTIME={__proto__:null,c:function(R){return H.H.useMemoCache(R)}},ft.cache=function(R){return function(){return R.apply(null,arguments)}},ft.cloneElement=function(R,I,$){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var Q=A({},R.props),st=R.key,mt=void 0;if(I!=null)for(ot in I.ref!==void 0&&(mt=void 0),I.key!==void 0&&(st=""+I.key),I)!F.call(I,ot)||ot==="key"||ot==="__self"||ot==="__source"||ot==="ref"&&I.ref===void 0||(Q[ot]=I[ot]);var ot=arguments.length-2;if(ot===1)Q.children=$;else if(1<ot){for(var fe=Array(ot),Dt=0;Dt<ot;Dt++)fe[Dt]=arguments[Dt+2];Q.children=fe}return N(R.type,st,void 0,void 0,mt,Q)},ft.createContext=function(R){return R={$$typeof:c,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:u,_context:R},R},ft.createElement=function(R,I,$){var Q,st={},mt=null;if(I!=null)for(Q in I.key!==void 0&&(mt=""+I.key),I)F.call(I,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(st[Q]=I[Q]);var ot=arguments.length-2;if(ot===1)st.children=$;else if(1<ot){for(var fe=Array(ot),Dt=0;Dt<ot;Dt++)fe[Dt]=arguments[Dt+2];st.children=fe}if(R&&R.defaultProps)for(Q in ot=R.defaultProps,ot)st[Q]===void 0&&(st[Q]=ot[Q]);return N(R,mt,void 0,void 0,null,st)},ft.createRef=function(){return{current:null}},ft.forwardRef=function(R){return{$$typeof:f,render:R}},ft.isValidElement=j,ft.lazy=function(R){return{$$typeof:g,_payload:{_status:-1,_result:R},_init:X}},ft.memo=function(R,I){return{$$typeof:p,type:R,compare:I===void 0?null:I}},ft.startTransition=function(R){var I=H.T,$={};H.T=$;try{var Q=R(),st=H.S;st!==null&&st($,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(at,rt)}catch(mt){rt(mt)}finally{H.T=I}},ft.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},ft.use=function(R){return H.H.use(R)},ft.useActionState=function(R,I,$){return H.H.useActionState(R,I,$)},ft.useCallback=function(R,I){return H.H.useCallback(R,I)},ft.useContext=function(R){return H.H.useContext(R)},ft.useDebugValue=function(){},ft.useDeferredValue=function(R,I){return H.H.useDeferredValue(R,I)},ft.useEffect=function(R,I,$){var Q=H.H;if(typeof $=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Q.useEffect(R,I)},ft.useId=function(){return H.H.useId()},ft.useImperativeHandle=function(R,I,$){return H.H.useImperativeHandle(R,I,$)},ft.useInsertionEffect=function(R,I){return H.H.useInsertionEffect(R,I)},ft.useLayoutEffect=function(R,I){return H.H.useLayoutEffect(R,I)},ft.useMemo=function(R,I){return H.H.useMemo(R,I)},ft.useOptimistic=function(R,I){return H.H.useOptimistic(R,I)},ft.useReducer=function(R,I,$){return H.H.useReducer(R,I,$)},ft.useRef=function(R){return H.H.useRef(R)},ft.useState=function(R){return H.H.useState(R)},ft.useSyncExternalStore=function(R,I,$){return H.H.useSyncExternalStore(R,I,$)},ft.useTransition=function(){return H.H.useTransition()},ft.version="19.1.1",ft}var Jm;function kh(){return Jm||(Jm=1,Dc.exports=Gb()),Dc.exports}var kc={exports:{}},me={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tg;function Lb(){if(tg)return me;tg=1;var s=kh();function t(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(d,p,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:y==null?null:""+y,children:d,containerInfo:p,implementation:g}}var c=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return me.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,me.createPortal=function(d,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return u(d,p,null,g)},me.flushSync=function(d){var p=c.T,g=a.p;try{if(c.T=null,a.p=2,d)return d()}finally{c.T=p,a.p=g,a.d.f()}},me.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(d,p))},me.prefetchDNS=function(d){typeof d=="string"&&a.d.D(d)},me.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var g=p.as,y=f(g,p.crossOrigin),_=typeof p.integrity=="string"?p.integrity:void 0,b=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?a.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:_,fetchPriority:b}):g==="script"&&a.d.X(d,{crossOrigin:y,integrity:_,fetchPriority:b,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},me.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=f(p.as,p.crossOrigin);a.d.M(d,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(d)},me.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,y=f(g,p.crossOrigin);a.d.L(d,g,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},me.preloadModule=function(d,p){if(typeof d=="string")if(p){var g=f(p.as,p.crossOrigin);a.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(d)},me.requestFormReset=function(d){a.d.r(d)},me.unstable_batchedUpdates=function(d,p){return d(p)},me.useFormState=function(d,p,g){return c.H.useFormState(d,p,g)},me.useFormStatus=function(){return c.H.useHostTransitionStatus()},me.version="19.1.1",me}var eg;function Hb(){if(eg)return kc.exports;eg=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),kc.exports=Lb(),kc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ig;function Nb(){if(ig)return Wa;ig=1;var s=Ub(),t=kh(),i=Hb();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function c(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function f(e){if(u(e)!==e)throw Error(a(188))}function d(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(a(188));return n!==e?null:e}for(var r=e,o=n;;){var h=r.return;if(h===null)break;var m=h.alternate;if(m===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===r)return f(h),e;if(m===o)return f(h),n;m=m.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=m;else{for(var x=!1,v=h.child;v;){if(v===r){x=!0,r=h,o=m;break}if(v===o){x=!0,o=h,r=m;break}v=v.sibling}if(!x){for(v=m.child;v;){if(v===r){x=!0,r=m,o=h;break}if(v===o){x=!0,o=m,r=h;break}v=v.sibling}if(!x)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:n}function p(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=p(e),n!==null)return n;e=e.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),E=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),K=Symbol.iterator;function ht(e){return e===null||typeof e!="object"?null:(e=K&&e[K]||e["@@iterator"],typeof e=="function"?e:null)}var _t=Symbol.for("react.client.reference");function Ht(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===_t?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case A:return"Fragment";case S:return"Profiler";case w:return"StrictMode";case H:return"Suspense";case F:return"SuspenseList";case j:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case b:return"Portal";case E:return(e.displayName||"Context")+".Provider";case C:return(e._context.displayName||"Context")+".Consumer";case D:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:Ht(e.type)||"Memo";case J:n=e._payload,e=e._init;try{return Ht(e(n))}catch{}}return null}var wt=Array.isArray,O=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt={pending:!1,data:null,method:null,action:null},at=[],R=-1;function I(e){return{current:e}}function $(e){0>R||(e.current=at[R],at[R]=null,R--)}function Q(e,n){R++,at[R]=e.current,e.current=n}var st=I(null),mt=I(null),ot=I(null),fe=I(null);function Dt(e,n){switch(Q(ot,n),Q(mt,e),Q(st,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Sm(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Sm(n),e=Am(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}$(st),Q(st,e)}function Ce(){$(st),$(mt),$(ot)}function qi(e){e.memoizedState!==null&&Q(fe,e);var n=st.current,r=Am(n,e.type);n!==r&&(Q(mt,e),Q(st,r))}function Ii(e){mt.current===e&&($(st),$(mt)),fe.current===e&&($(fe),Ya._currentValue=rt)}var $e=Object.prototype.hasOwnProperty,Je=s.unstable_scheduleCallback,ti=s.unstable_cancelCallback,vi=s.unstable_shouldYield,mo=s.unstable_requestPaint,Me=s.unstable_now,go=s.unstable_getCurrentPriorityLevel,yo=s.unstable_ImmediatePriority,nf=s.unstable_UserBlockingPriority,_r=s.unstable_NormalPriority,dx=s.unstable_LowPriority,sf=s.unstable_IdlePriority,px=s.log,mx=s.unstable_setDisableYieldValue,Qs=null,Ee=null;function Wi(e){if(typeof px=="function"&&mx(e),Ee&&typeof Ee.setStrictMode=="function")try{Ee.setStrictMode(Qs,e)}catch{}}var Re=Math.clz32?Math.clz32:xx,gx=Math.log,yx=Math.LN2;function xx(e){return e>>>=0,e===0?32:31-(gx(e)/yx|0)|0}var br=256,vr=4194304;function Sn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Sr(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var h=0,m=e.suspendedLanes,x=e.pingedLanes;e=e.warmLanes;var v=o&134217727;return v!==0?(o=v&~m,o!==0?h=Sn(o):(x&=v,x!==0?h=Sn(x):r||(r=v&~e,r!==0&&(h=Sn(r))))):(v=o&~m,v!==0?h=Sn(v):x!==0?h=Sn(x):r||(r=o&~e,r!==0&&(h=Sn(r)))),h===0?0:n!==0&&n!==h&&(n&m)===0&&(m=h&-h,r=n&-n,m>=r||m===32&&(r&4194048)!==0)?n:h}function Ks(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function _x(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function af(){var e=br;return br<<=1,(br&4194048)===0&&(br=256),e}function rf(){var e=vr;return vr<<=1,(vr&62914560)===0&&(vr=4194304),e}function xo(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function $s(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function bx(e,n,r,o,h,m){var x=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var v=e.entanglements,M=e.expirationTimes,U=e.hiddenUpdates;for(r=x&~r;0<r;){var Y=31-Re(r),q=1<<Y;v[Y]=0,M[Y]=-1;var G=U[Y];if(G!==null)for(U[Y]=null,Y=0;Y<G.length;Y++){var L=G[Y];L!==null&&(L.lane&=-536870913)}r&=~q}o!==0&&lf(e,o,0),m!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=m&~(x&~n))}function lf(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Re(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&4194090}function of(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-Re(r),h=1<<o;h&n|e[o]&n&&(e[o]|=n),r&=~h}}function _o(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function bo(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function uf(){var e=X.p;return e!==0?e:(e=window.event,e===void 0?32:Ym(e.type))}function vx(e,n){var r=X.p;try{return X.p=e,n()}finally{X.p=r}}var Zi=Math.random().toString(36).slice(2),de="__reactFiber$"+Zi,_e="__reactProps$"+Zi,Kn="__reactContainer$"+Zi,vo="__reactEvents$"+Zi,Sx="__reactListeners$"+Zi,Ax="__reactHandles$"+Zi,cf="__reactResources$"+Zi,Js="__reactMarker$"+Zi;function So(e){delete e[de],delete e[_e],delete e[vo],delete e[Sx],delete e[Ax]}function $n(e){var n=e[de];if(n)return n;for(var r=e.parentNode;r;){if(n=r[Kn]||r[de]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=Mm(e);e!==null;){if(r=e[de])return r;e=Mm(e)}return n}e=r,r=e.parentNode}return null}function Jn(e){if(e=e[de]||e[Kn]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function ta(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function ts(e){var n=e[cf];return n||(n=e[cf]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ie(e){e[Js]=!0}var hf=new Set,ff={};function An(e,n){es(e,n),es(e+"Capture",n)}function es(e,n){for(ff[e]=n,e=0;e<n.length;e++)hf.add(n[e])}var wx=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),df={},pf={};function Tx(e){return $e.call(pf,e)?!0:$e.call(df,e)?!1:wx.test(e)?pf[e]=!0:(df[e]=!0,!1)}function Ar(e,n,r){if(Tx(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function wr(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function Si(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}var Ao,mf;function is(e){if(Ao===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Ao=n&&n[1]||"",mf=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ao+e+mf}var wo=!1;function To(e,n){if(!e||wo)return"";wo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var q=function(){throw Error()};if(Object.defineProperty(q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(q,[])}catch(L){var G=L}Reflect.construct(e,[],q)}else{try{q.call()}catch(L){G=L}e.call(q.prototype)}}else{try{throw Error()}catch(L){G=L}(q=e())&&typeof q.catch=="function"&&q.catch(function(){})}}catch(L){if(L&&G&&typeof L.stack=="string")return[L.stack,G.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=o.DetermineComponentFrameRoot(),x=m[0],v=m[1];if(x&&v){var M=x.split(`
`),U=v.split(`
`);for(h=o=0;o<M.length&&!M[o].includes("DetermineComponentFrameRoot");)o++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(o===M.length||h===U.length)for(o=M.length-1,h=U.length-1;1<=o&&0<=h&&M[o]!==U[h];)h--;for(;1<=o&&0<=h;o--,h--)if(M[o]!==U[h]){if(o!==1||h!==1)do if(o--,h--,0>h||M[o]!==U[h]){var Y=`
`+M[o].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=o&&0<=h);break}}}finally{wo=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?is(r):""}function Cx(e){switch(e.tag){case 26:case 27:case 5:return is(e.type);case 16:return is("Lazy");case 13:return is("Suspense");case 19:return is("SuspenseList");case 0:case 15:return To(e.type,!1);case 11:return To(e.type.render,!1);case 1:return To(e.type,!0);case 31:return is("Activity");default:return""}}function gf(e){try{var n="";do n+=Cx(e),e=e.return;while(e);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Ne(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function yf(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Mx(e){var n=yf(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var h=r.get,m=r.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(x){o=""+x,m.call(this,x)}}),Object.defineProperty(e,n,{enumerable:r.enumerable}),{getValue:function(){return o},setValue:function(x){o=""+x},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Tr(e){e._valueTracker||(e._valueTracker=Mx(e))}function xf(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=yf(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function Cr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ex=/[\n"\\]/g;function Pe(e){return e.replace(Ex,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Co(e,n,r,o,h,m,x,v){e.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.type=x:e.removeAttribute("type"),n!=null?x==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ne(n)):e.value!==""+Ne(n)&&(e.value=""+Ne(n)):x!=="submit"&&x!=="reset"||e.removeAttribute("value"),n!=null?Mo(e,x,Ne(n)):r!=null?Mo(e,x,Ne(r)):o!=null&&e.removeAttribute("value"),h==null&&m!=null&&(e.defaultChecked=!!m),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+Ne(v):e.removeAttribute("name")}function _f(e,n,r,o,h,m,x,v){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),n!=null||r!=null){if(!(m!=="submit"&&m!=="reset"||n!=null))return;r=r!=null?""+Ne(r):"",n=n!=null?""+Ne(n):r,v||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=v?e.checked:!!o,e.defaultChecked=!!o,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(e.name=x)}function Mo(e,n,r){n==="number"&&Cr(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function ns(e,n,r,o){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&o&&(e[r].defaultSelected=!0)}else{for(r=""+Ne(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function bf(e,n,r){if(n!=null&&(n=""+Ne(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+Ne(r):""}function vf(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(wt(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=Ne(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o)}function ss(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var Rx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sf(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||Rx.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function Af(e,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&Sf(e,h,o)}else for(var m in n)n.hasOwnProperty(m)&&Sf(e,m,n[m])}function Eo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mr(e){return zx.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ro=null;function Bo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var as=null,rs=null;function wf(e){var n=Jn(e);if(n&&(e=n.stateNode)){var r=e[_e]||null;t:switch(e=n.stateNode,n.type){case"input":if(Co(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Pe(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var h=o[_e]||null;if(!h)throw Error(a(90));Co(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&xf(o)}break t;case"textarea":bf(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&ns(e,!!r.multiple,n,!1)}}}var zo=!1;function Tf(e,n,r){if(zo)return e(n,r);zo=!0;try{var o=e(n);return o}finally{if(zo=!1,(as!==null||rs!==null)&&(fl(),as&&(n=as,e=rs,rs=as=null,wf(n),e)))for(n=0;n<e.length;n++)wf(e[n])}}function ea(e,n){var r=e.stateNode;if(r===null)return null;var o=r[_e]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Ai=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Oo=!1;if(Ai)try{var ia={};Object.defineProperty(ia,"passive",{get:function(){Oo=!0}}),window.addEventListener("test",ia,ia),window.removeEventListener("test",ia,ia)}catch{Oo=!1}var Qi=null,Do=null,Er=null;function Cf(){if(Er)return Er;var e,n=Do,r=n.length,o,h="value"in Qi?Qi.value:Qi.textContent,m=h.length;for(e=0;e<r&&n[e]===h[e];e++);var x=r-e;for(o=1;o<=x&&n[r-o]===h[m-o];o++);return Er=h.slice(e,1<o?1-o:void 0)}function Rr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Br(){return!0}function Mf(){return!1}function be(e){function n(r,o,h,m,x){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=m,this.target=x,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(r=e[v],this[v]=r?r(m):m[v]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Br:Mf,this.isPropagationStopped=Mf,this}return g(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Br)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Br)},persist:function(){},isPersistent:Br}),n}var wn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zr=be(wn),na=g({},wn,{view:0,detail:0}),Ox=be(na),ko,Uo,sa,Or=g({},na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sa&&(sa&&e.type==="mousemove"?(ko=e.screenX-sa.screenX,Uo=e.screenY-sa.screenY):Uo=ko=0,sa=e),ko)},movementY:function(e){return"movementY"in e?e.movementY:Uo}}),Ef=be(Or),Dx=g({},Or,{dataTransfer:0}),kx=be(Dx),Ux=g({},na,{relatedTarget:0}),Go=be(Ux),Gx=g({},wn,{animationName:0,elapsedTime:0,pseudoElement:0}),Lx=be(Gx),Hx=g({},wn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Nx=be(Hx),Px=g({},wn,{data:0}),Rf=be(Px),jx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vx(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Fx[e])?!!n[e]:!1}function Lo(){return Vx}var Xx=g({},na,{key:function(e){if(e.key){var n=jx[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Rr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Yx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lo,charCode:function(e){return e.type==="keypress"?Rr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Rr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),qx=be(Xx),Ix=g({},Or,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bf=be(Ix),Wx=g({},na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lo}),Zx=be(Wx),Qx=g({},wn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kx=be(Qx),$x=g({},Or,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Jx=be($x),t_=g({},wn,{newState:0,oldState:0}),e_=be(t_),i_=[9,13,27,32],Ho=Ai&&"CompositionEvent"in window,aa=null;Ai&&"documentMode"in document&&(aa=document.documentMode);var n_=Ai&&"TextEvent"in window&&!aa,zf=Ai&&(!Ho||aa&&8<aa&&11>=aa),Of=" ",Df=!1;function kf(e,n){switch(e){case"keyup":return i_.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Uf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ls=!1;function s_(e,n){switch(e){case"compositionend":return Uf(n);case"keypress":return n.which!==32?null:(Df=!0,Of);case"textInput":return e=n.data,e===Of&&Df?null:e;default:return null}}function a_(e,n){if(ls)return e==="compositionend"||!Ho&&kf(e,n)?(e=Cf(),Er=Do=Qi=null,ls=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return zf&&n.locale!=="ko"?null:n.data;default:return null}}var r_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gf(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!r_[e.type]:n==="textarea"}function Lf(e,n,r,o){as?rs?rs.push(o):rs=[o]:as=o,n=xl(n,"onChange"),0<n.length&&(r=new zr("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var ra=null,la=null;function l_(e){ym(e,0)}function Dr(e){var n=ta(e);if(xf(n))return e}function Hf(e,n){if(e==="change")return n}var Nf=!1;if(Ai){var No;if(Ai){var Po="oninput"in document;if(!Po){var Pf=document.createElement("div");Pf.setAttribute("oninput","return;"),Po=typeof Pf.oninput=="function"}No=Po}else No=!1;Nf=No&&(!document.documentMode||9<document.documentMode)}function jf(){ra&&(ra.detachEvent("onpropertychange",Yf),la=ra=null)}function Yf(e){if(e.propertyName==="value"&&Dr(la)){var n=[];Lf(n,la,e,Bo(e)),Tf(l_,n)}}function o_(e,n,r){e==="focusin"?(jf(),ra=n,la=r,ra.attachEvent("onpropertychange",Yf)):e==="focusout"&&jf()}function u_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Dr(la)}function c_(e,n){if(e==="click")return Dr(n)}function h_(e,n){if(e==="input"||e==="change")return Dr(n)}function f_(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Be=typeof Object.is=="function"?Object.is:f_;function oa(e,n){if(Be(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!$e.call(n,h)||!Be(e[h],n[h]))return!1}return!0}function Ff(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Vf(e,n){var r=Ff(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Ff(r)}}function Xf(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Xf(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function qf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Cr(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=Cr(e.document)}return n}function jo(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var d_=Ai&&"documentMode"in document&&11>=document.documentMode,os=null,Yo=null,ua=null,Fo=!1;function If(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Fo||os==null||os!==Cr(o)||(o=os,"selectionStart"in o&&jo(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),ua&&oa(ua,o)||(ua=o,o=xl(Yo,"onSelect"),0<o.length&&(n=new zr("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=os)))}function Tn(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var us={animationend:Tn("Animation","AnimationEnd"),animationiteration:Tn("Animation","AnimationIteration"),animationstart:Tn("Animation","AnimationStart"),transitionrun:Tn("Transition","TransitionRun"),transitionstart:Tn("Transition","TransitionStart"),transitioncancel:Tn("Transition","TransitionCancel"),transitionend:Tn("Transition","TransitionEnd")},Vo={},Wf={};Ai&&(Wf=document.createElement("div").style,"AnimationEvent"in window||(delete us.animationend.animation,delete us.animationiteration.animation,delete us.animationstart.animation),"TransitionEvent"in window||delete us.transitionend.transition);function Cn(e){if(Vo[e])return Vo[e];if(!us[e])return e;var n=us[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in Wf)return Vo[e]=n[r];return e}var Zf=Cn("animationend"),Qf=Cn("animationiteration"),Kf=Cn("animationstart"),p_=Cn("transitionrun"),m_=Cn("transitionstart"),g_=Cn("transitioncancel"),$f=Cn("transitionend"),Jf=new Map,Xo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xo.push("scrollEnd");function ei(e,n){Jf.set(e,n),An(n,[e])}var td=new WeakMap;function je(e,n){if(typeof e=="object"&&e!==null){var r=td.get(e);return r!==void 0?r:(n={value:e,source:n,stack:gf(n)},td.set(e,n),n)}return{value:e,source:n,stack:gf(n)}}var Ye=[],cs=0,qo=0;function kr(){for(var e=cs,n=qo=cs=0;n<e;){var r=Ye[n];Ye[n++]=null;var o=Ye[n];Ye[n++]=null;var h=Ye[n];Ye[n++]=null;var m=Ye[n];if(Ye[n++]=null,o!==null&&h!==null){var x=o.pending;x===null?h.next=h:(h.next=x.next,x.next=h),o.pending=h}m!==0&&ed(r,h,m)}}function Ur(e,n,r,o){Ye[cs++]=e,Ye[cs++]=n,Ye[cs++]=r,Ye[cs++]=o,qo|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Io(e,n,r,o){return Ur(e,n,r,o),Gr(e)}function hs(e,n){return Ur(e,null,null,n),Gr(e)}function ed(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var h=!1,m=e.return;m!==null;)m.childLanes|=r,o=m.alternate,o!==null&&(o.childLanes|=r),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(h=!0)),e=m,m=m.return;return e.tag===3?(m=e.stateNode,h&&n!==null&&(h=31-Re(r),e=m.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=r|536870912),m):null}function Gr(e){if(50<ka)throw ka=0,Ju=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var fs={};function y_(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ze(e,n,r,o){return new y_(e,n,r,o)}function Wo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function wi(e,n){var r=e.alternate;return r===null?(r=ze(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function id(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Lr(e,n,r,o,h,m){var x=0;if(o=e,typeof e=="function")Wo(e)&&(x=1);else if(typeof e=="string")x=_b(e,r,st.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case j:return e=ze(31,r,n,h),e.elementType=j,e.lanes=m,e;case A:return Mn(r.children,h,m,n);case w:x=8,h|=24;break;case S:return e=ze(12,r,n,h|2),e.elementType=S,e.lanes=m,e;case H:return e=ze(13,r,n,h),e.elementType=H,e.lanes=m,e;case F:return e=ze(19,r,n,h),e.elementType=F,e.lanes=m,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case T:case E:x=10;break t;case C:x=9;break t;case D:x=11;break t;case N:x=14;break t;case J:x=16,o=null;break t}x=29,r=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=ze(x,r,n,h),n.elementType=e,n.type=o,n.lanes=m,n}function Mn(e,n,r,o){return e=ze(7,e,o,n),e.lanes=r,e}function Zo(e,n,r){return e=ze(6,e,null,n),e.lanes=r,e}function Qo(e,n,r){return n=ze(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var ds=[],ps=0,Hr=null,Nr=0,Fe=[],Ve=0,En=null,Ti=1,Ci="";function Rn(e,n){ds[ps++]=Nr,ds[ps++]=Hr,Hr=e,Nr=n}function nd(e,n,r){Fe[Ve++]=Ti,Fe[Ve++]=Ci,Fe[Ve++]=En,En=e;var o=Ti;e=Ci;var h=32-Re(o)-1;o&=~(1<<h),r+=1;var m=32-Re(n)+h;if(30<m){var x=h-h%5;m=(o&(1<<x)-1).toString(32),o>>=x,h-=x,Ti=1<<32-Re(n)+h|r<<h|o,Ci=m+e}else Ti=1<<m|r<<h|o,Ci=e}function Ko(e){e.return!==null&&(Rn(e,1),nd(e,1,0))}function $o(e){for(;e===Hr;)Hr=ds[--ps],ds[ps]=null,Nr=ds[--ps],ds[ps]=null;for(;e===En;)En=Fe[--Ve],Fe[Ve]=null,Ci=Fe[--Ve],Fe[Ve]=null,Ti=Fe[--Ve],Fe[Ve]=null}var ye=null,Xt=null,Tt=!1,Bn=null,hi=!1,Jo=Error(a(519));function zn(e){var n=Error(a(418,""));throw fa(je(n,e)),Jo}function sd(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[de]=e,n[_e]=o,r){case"dialog":yt("cancel",n),yt("close",n);break;case"iframe":case"object":case"embed":yt("load",n);break;case"video":case"audio":for(r=0;r<Ga.length;r++)yt(Ga[r],n);break;case"source":yt("error",n);break;case"img":case"image":case"link":yt("error",n),yt("load",n);break;case"details":yt("toggle",n);break;case"input":yt("invalid",n),_f(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Tr(n);break;case"select":yt("invalid",n);break;case"textarea":yt("invalid",n),vf(n,o.value,o.defaultValue,o.children),Tr(n)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||vm(n.textContent,r)?(o.popover!=null&&(yt("beforetoggle",n),yt("toggle",n)),o.onScroll!=null&&yt("scroll",n),o.onScrollEnd!=null&&yt("scrollend",n),o.onClick!=null&&(n.onclick=_l),n=!0):n=!1,n||zn(e)}function ad(e){for(ye=e.return;ye;)switch(ye.tag){case 5:case 13:hi=!1;return;case 27:case 3:hi=!0;return;default:ye=ye.return}}function ca(e){if(e!==ye)return!1;if(!Tt)return ad(e),Tt=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||mc(e.type,e.memoizedProps)),r=!r),r&&Xt&&zn(e),ad(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(r=e.data,r==="/$"){if(n===0){Xt=ni(e.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;e=e.nextSibling}Xt=null}}else n===27?(n=Xt,dn(e.type)?(e=_c,_c=null,Xt=e):Xt=n):Xt=ye?ni(e.stateNode.nextSibling):null;return!0}function ha(){Xt=ye=null,Tt=!1}function rd(){var e=Bn;return e!==null&&(Ae===null?Ae=e:Ae.push.apply(Ae,e),Bn=null),e}function fa(e){Bn===null?Bn=[e]:Bn.push(e)}var tu=I(null),On=null,Mi=null;function Ki(e,n,r){Q(tu,n._currentValue),n._currentValue=r}function Ei(e){e._currentValue=tu.current,$(tu)}function eu(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function iu(e,n,r,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var m=h.dependencies;if(m!==null){var x=h.child;m=m.firstContext;t:for(;m!==null;){var v=m;m=h;for(var M=0;M<n.length;M++)if(v.context===n[M]){m.lanes|=r,v=m.alternate,v!==null&&(v.lanes|=r),eu(m.return,r,e),o||(x=null);break t}m=v.next}}else if(h.tag===18){if(x=h.return,x===null)throw Error(a(341));x.lanes|=r,m=x.alternate,m!==null&&(m.lanes|=r),eu(x,r,e),x=null}else x=h.child;if(x!==null)x.return=h;else for(x=h;x!==null;){if(x===e){x=null;break}if(h=x.sibling,h!==null){h.return=x.return,x=h;break}x=x.return}h=x}}function da(e,n,r,o){e=null;for(var h=n,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var x=h.alternate;if(x===null)throw Error(a(387));if(x=x.memoizedProps,x!==null){var v=h.type;Be(h.pendingProps.value,x.value)||(e!==null?e.push(v):e=[v])}}else if(h===fe.current){if(x=h.alternate,x===null)throw Error(a(387));x.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Ya):e=[Ya])}h=h.return}e!==null&&iu(n,e,r,o),n.flags|=262144}function Pr(e){for(e=e.firstContext;e!==null;){if(!Be(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Dn(e){On=e,Mi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function pe(e){return ld(On,e)}function jr(e,n){return On===null&&Dn(e),ld(e,n)}function ld(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Mi===null){if(e===null)throw Error(a(308));Mi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Mi=Mi.next=n;return r}var x_=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},__=s.unstable_scheduleCallback,b_=s.unstable_NormalPriority,te={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nu(){return{controller:new x_,data:new Map,refCount:0}}function pa(e){e.refCount--,e.refCount===0&&__(b_,function(){e.controller.abort()})}var ma=null,su=0,ms=0,gs=null;function v_(e,n){if(ma===null){var r=ma=[];su=0,ms=rc(),gs={status:"pending",value:void 0,then:function(o){r.push(o)}}}return su++,n.then(od,od),n}function od(){if(--su===0&&ma!==null){gs!==null&&(gs.status="fulfilled");var e=ma;ma=null,ms=0,gs=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function S_(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var ud=O.S;O.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&v_(e,n),ud!==null&&ud(e,n)};var kn=I(null);function au(){var e=kn.current;return e!==null?e:Ut.pooledCache}function Yr(e,n){n===null?Q(kn,kn.current):Q(kn,n.pool)}function cd(){var e=au();return e===null?null:{parent:te._currentValue,pool:e}}var ga=Error(a(460)),hd=Error(a(474)),Fr=Error(a(542)),ru={then:function(){}};function fd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Vr(){}function dd(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(Vr,Vr),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,md(e),e;default:if(typeof n.status=="string")n.then(Vr,Vr);else{if(e=Ut,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,md(e),e}throw ya=n,ga}}var ya=null;function pd(){if(ya===null)throw Error(a(459));var e=ya;return ya=null,e}function md(e){if(e===ga||e===Fr)throw Error(a(483))}var $i=!1;function lu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ou(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ji(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function tn(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ct&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Gr(e),ed(e,null,r),n}return Ur(e,o,n,r),Gr(e)}function xa(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,of(e,r)}}function uu(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,m=null;if(r=r.firstBaseUpdate,r!==null){do{var x={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};m===null?h=m=x:m=m.next=x,r=r.next}while(r!==null);m===null?h=m=n:m=m.next=n}else h=m=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var cu=!1;function _a(){if(cu){var e=gs;if(e!==null)throw e}}function ba(e,n,r,o){cu=!1;var h=e.updateQueue;$i=!1;var m=h.firstBaseUpdate,x=h.lastBaseUpdate,v=h.shared.pending;if(v!==null){h.shared.pending=null;var M=v,U=M.next;M.next=null,x===null?m=U:x.next=U,x=M;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,v=Y.lastBaseUpdate,v!==x&&(v===null?Y.firstBaseUpdate=U:v.next=U,Y.lastBaseUpdate=M))}if(m!==null){var q=h.baseState;x=0,Y=U=M=null,v=m;do{var G=v.lane&-536870913,L=G!==v.lane;if(L?(St&G)===G:(o&G)===G){G!==0&&G===ms&&(cu=!0),Y!==null&&(Y=Y.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});t:{var ct=e,lt=v;G=n;var zt=r;switch(lt.tag){case 1:if(ct=lt.payload,typeof ct=="function"){q=ct.call(zt,q,G);break t}q=ct;break t;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=lt.payload,G=typeof ct=="function"?ct.call(zt,q,G):ct,G==null)break t;q=g({},q,G);break t;case 2:$i=!0}}G=v.callback,G!==null&&(e.flags|=64,L&&(e.flags|=8192),L=h.callbacks,L===null?h.callbacks=[G]:L.push(G))}else L={lane:G,tag:v.tag,payload:v.payload,callback:v.callback,next:null},Y===null?(U=Y=L,M=q):Y=Y.next=L,x|=G;if(v=v.next,v===null){if(v=h.shared.pending,v===null)break;L=v,v=L.next,L.next=null,h.lastBaseUpdate=L,h.shared.pending=null}}while(!0);Y===null&&(M=q),h.baseState=M,h.firstBaseUpdate=U,h.lastBaseUpdate=Y,m===null&&(h.shared.lanes=0),un|=x,e.lanes=x,e.memoizedState=q}}function gd(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function yd(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)gd(r[e],n)}var ys=I(null),Xr=I(0);function xd(e,n){e=Ui,Q(Xr,e),Q(ys,n),Ui=e|n.baseLanes}function hu(){Q(Xr,Ui),Q(ys,ys.current)}function fu(){Ui=Xr.current,$(ys),$(Xr)}var en=0,dt=null,Rt=null,$t=null,qr=!1,xs=!1,Un=!1,Ir=0,va=0,_s=null,A_=0;function Wt(){throw Error(a(321))}function du(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!Be(e[r],n[r]))return!1;return!0}function pu(e,n,r,o,h,m){return en=m,dt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,O.H=e===null||e.memoizedState===null?ep:ip,Un=!1,m=r(o,h),Un=!1,xs&&(m=bd(n,r,o,h)),_d(e),m}function _d(e){O.H=Jr;var n=Rt!==null&&Rt.next!==null;if(en=0,$t=Rt=dt=null,qr=!1,va=0,_s=null,n)throw Error(a(300));e===null||ne||(e=e.dependencies,e!==null&&Pr(e)&&(ne=!0))}function bd(e,n,r,o){dt=e;var h=0;do{if(xs&&(_s=null),va=0,xs=!1,25<=h)throw Error(a(301));if(h+=1,$t=Rt=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}O.H=B_,m=n(r,o)}while(xs);return m}function w_(){var e=O.H,n=e.useState()[0];return n=typeof n.then=="function"?Sa(n):n,e=e.useState()[0],(Rt!==null?Rt.memoizedState:null)!==e&&(dt.flags|=1024),n}function mu(){var e=Ir!==0;return Ir=0,e}function gu(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function yu(e){if(qr){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}qr=!1}en=0,$t=Rt=dt=null,xs=!1,va=Ir=0,_s=null}function ve(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?dt.memoizedState=$t=e:$t=$t.next=e,$t}function Jt(){if(Rt===null){var e=dt.alternate;e=e!==null?e.memoizedState:null}else e=Rt.next;var n=$t===null?dt.memoizedState:$t.next;if(n!==null)$t=n,Rt=e;else{if(e===null)throw dt.alternate===null?Error(a(467)):Error(a(310));Rt=e,e={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},$t===null?dt.memoizedState=$t=e:$t=$t.next=e}return $t}function xu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Sa(e){var n=va;return va+=1,_s===null&&(_s=[]),e=dd(_s,e,n),n=dt,($t===null?n.memoizedState:$t.next)===null&&(n=n.alternate,O.H=n===null||n.memoizedState===null?ep:ip),e}function Wr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Sa(e);if(e.$$typeof===E)return pe(e)}throw Error(a(438,String(e)))}function _u(e){var n=null,r=dt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=dt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=xu(),dt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=W;return n.index++,r}function Ri(e,n){return typeof n=="function"?n(e):n}function Zr(e){var n=Jt();return bu(n,Rt,e)}function bu(e,n,r){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=e.baseQueue,m=o.pending;if(m!==null){if(h!==null){var x=h.next;h.next=m.next,m.next=x}n.baseQueue=h=m,o.pending=null}if(m=e.baseState,h===null)e.memoizedState=m;else{n=h.next;var v=x=null,M=null,U=n,Y=!1;do{var q=U.lane&-536870913;if(q!==U.lane?(St&q)===q:(en&q)===q){var G=U.revertLane;if(G===0)M!==null&&(M=M.next={lane:0,revertLane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),q===ms&&(Y=!0);else if((en&G)===G){U=U.next,G===ms&&(Y=!0);continue}else q={lane:0,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},M===null?(v=M=q,x=m):M=M.next=q,dt.lanes|=G,un|=G;q=U.action,Un&&r(m,q),m=U.hasEagerState?U.eagerState:r(m,q)}else G={lane:q,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},M===null?(v=M=G,x=m):M=M.next=G,dt.lanes|=q,un|=q;U=U.next}while(U!==null&&U!==n);if(M===null?x=m:M.next=v,!Be(m,e.memoizedState)&&(ne=!0,Y&&(r=gs,r!==null)))throw r;e.memoizedState=m,e.baseState=x,e.baseQueue=M,o.lastRenderedState=m}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function vu(e){var n=Jt(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var o=r.dispatch,h=r.pending,m=n.memoizedState;if(h!==null){r.pending=null;var x=h=h.next;do m=e(m,x.action),x=x.next;while(x!==h);Be(m,n.memoizedState)||(ne=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),r.lastRenderedState=m}return[m,o]}function vd(e,n,r){var o=dt,h=Jt(),m=Tt;if(m){if(r===void 0)throw Error(a(407));r=r()}else r=n();var x=!Be((Rt||h).memoizedState,r);x&&(h.memoizedState=r,ne=!0),h=h.queue;var v=wd.bind(null,o,h,e);if(Aa(2048,8,v,[e]),h.getSnapshot!==n||x||$t!==null&&$t.memoizedState.tag&1){if(o.flags|=2048,bs(9,Qr(),Ad.bind(null,o,h,r,n),null),Ut===null)throw Error(a(349));m||(en&124)!==0||Sd(o,n,r)}return r}function Sd(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=dt.updateQueue,n===null?(n=xu(),dt.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function Ad(e,n,r,o){n.value=r,n.getSnapshot=o,Td(n)&&Cd(e)}function wd(e,n,r){return r(function(){Td(n)&&Cd(e)})}function Td(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!Be(e,r)}catch{return!0}}function Cd(e){var n=hs(e,2);n!==null&&Ge(n,e,2)}function Su(e){var n=ve();if(typeof e=="function"){var r=e;if(e=r(),Un){Wi(!0);try{r()}finally{Wi(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:e},n}function Md(e,n,r,o){return e.baseState=r,bu(e,Rt,typeof o=="function"?o:Ri)}function T_(e,n,r,o,h){if($r(e))throw Error(a(485));if(e=n.action,e!==null){var m={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){m.listeners.push(x)}};O.T!==null?r(!0):m.isTransition=!1,o(m),r=n.pending,r===null?(m.next=n.pending=m,Ed(n,m)):(m.next=r.next,n.pending=r.next=m)}}function Ed(e,n){var r=n.action,o=n.payload,h=e.state;if(n.isTransition){var m=O.T,x={};O.T=x;try{var v=r(h,o),M=O.S;M!==null&&M(x,v),Rd(e,n,v)}catch(U){Au(e,n,U)}finally{O.T=m}}else try{m=r(h,o),Rd(e,n,m)}catch(U){Au(e,n,U)}}function Rd(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){Bd(e,n,o)},function(o){return Au(e,n,o)}):Bd(e,n,r)}function Bd(e,n,r){n.status="fulfilled",n.value=r,zd(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,Ed(e,r)))}function Au(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,zd(n),n=n.next;while(n!==o)}e.action=null}function zd(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Od(e,n){return n}function Dd(e,n){if(Tt){var r=Ut.formState;if(r!==null){t:{var o=dt;if(Tt){if(Xt){e:{for(var h=Xt,m=hi;h.nodeType!==8;){if(!m){h=null;break e}if(h=ni(h.nextSibling),h===null){h=null;break e}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){Xt=ni(h.nextSibling),o=h.data==="F!";break t}}zn(o)}o=!1}o&&(n=r[0])}}return r=ve(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Od,lastRenderedState:n},r.queue=o,r=$d.bind(null,dt,o),o.dispatch=r,o=Su(!1),m=Eu.bind(null,dt,!1,o.queue),o=ve(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,r=T_.bind(null,dt,h,m,r),h.dispatch=r,o.memoizedState=e,[n,r,!1]}function kd(e){var n=Jt();return Ud(n,Rt,e)}function Ud(e,n,r){if(n=bu(e,n,Od)[0],e=Zr(Ri)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Sa(n)}catch(x){throw x===ga?Fr:x}else o=n;n=Jt();var h=n.queue,m=h.dispatch;return r!==n.memoizedState&&(dt.flags|=2048,bs(9,Qr(),C_.bind(null,h,r),null)),[o,m,e]}function C_(e,n){e.action=n}function Gd(e){var n=Jt(),r=Rt;if(r!==null)return Ud(n,r,e);Jt(),n=n.memoizedState,r=Jt();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function bs(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=dt.updateQueue,n===null&&(n=xu(),dt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function Qr(){return{destroy:void 0,resource:void 0}}function Ld(){return Jt().memoizedState}function Kr(e,n,r,o){var h=ve();o=o===void 0?null:o,dt.flags|=e,h.memoizedState=bs(1|n,Qr(),r,o)}function Aa(e,n,r,o){var h=Jt();o=o===void 0?null:o;var m=h.memoizedState.inst;Rt!==null&&o!==null&&du(o,Rt.memoizedState.deps)?h.memoizedState=bs(n,m,r,o):(dt.flags|=e,h.memoizedState=bs(1|n,m,r,o))}function Hd(e,n){Kr(8390656,8,e,n)}function Nd(e,n){Aa(2048,8,e,n)}function Pd(e,n){return Aa(4,2,e,n)}function jd(e,n){return Aa(4,4,e,n)}function Yd(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Fd(e,n,r){r=r!=null?r.concat([e]):null,Aa(4,4,Yd.bind(null,n,e),r)}function wu(){}function Vd(e,n){var r=Jt();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&du(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function Xd(e,n){var r=Jt();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&du(n,o[1]))return o[0];if(o=e(),Un){Wi(!0);try{e()}finally{Wi(!1)}}return r.memoizedState=[o,n],o}function Tu(e,n,r){return r===void 0||(en&1073741824)!==0?e.memoizedState=n:(e.memoizedState=r,e=Wp(),dt.lanes|=e,un|=e,r)}function qd(e,n,r,o){return Be(r,n)?r:ys.current!==null?(e=Tu(e,r,o),Be(e,n)||(ne=!0),e):(en&42)===0?(ne=!0,e.memoizedState=r):(e=Wp(),dt.lanes|=e,un|=e,n)}function Id(e,n,r,o,h){var m=X.p;X.p=m!==0&&8>m?m:8;var x=O.T,v={};O.T=v,Eu(e,!1,n,r);try{var M=h(),U=O.S;if(U!==null&&U(v,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var Y=S_(M,o);wa(e,n,Y,Ue(e))}else wa(e,n,o,Ue(e))}catch(q){wa(e,n,{then:function(){},status:"rejected",reason:q},Ue())}finally{X.p=m,O.T=x}}function M_(){}function Cu(e,n,r,o){if(e.tag!==5)throw Error(a(476));var h=Wd(e).queue;Id(e,h,n,rt,r===null?M_:function(){return Zd(e),r(o)})}function Wd(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:rt,baseState:rt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:rt},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Zd(e){var n=Wd(e).next.queue;wa(e,n,{},Ue())}function Mu(){return pe(Ya)}function Qd(){return Jt().memoizedState}function Kd(){return Jt().memoizedState}function E_(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=Ue();e=Ji(r);var o=tn(n,e,r);o!==null&&(Ge(o,n,r),xa(o,n,r)),n={cache:nu()},e.payload=n;return}n=n.return}}function R_(e,n,r){var o=Ue();r={lane:o,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},$r(e)?Jd(n,r):(r=Io(e,n,r,o),r!==null&&(Ge(r,e,o),tp(r,n,o)))}function $d(e,n,r){var o=Ue();wa(e,n,r,o)}function wa(e,n,r,o){var h={lane:o,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if($r(e))Jd(n,h);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var x=n.lastRenderedState,v=m(x,r);if(h.hasEagerState=!0,h.eagerState=v,Be(v,x))return Ur(e,n,h,0),Ut===null&&kr(),!1}catch{}finally{}if(r=Io(e,n,h,o),r!==null)return Ge(r,e,o),tp(r,n,o),!0}return!1}function Eu(e,n,r,o){if(o={lane:2,revertLane:rc(),action:o,hasEagerState:!1,eagerState:null,next:null},$r(e)){if(n)throw Error(a(479))}else n=Io(e,r,o,2),n!==null&&Ge(n,e,2)}function $r(e){var n=e.alternate;return e===dt||n!==null&&n===dt}function Jd(e,n){xs=qr=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function tp(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,of(e,r)}}var Jr={readContext:pe,use:Wr,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useLayoutEffect:Wt,useInsertionEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useSyncExternalStore:Wt,useId:Wt,useHostTransitionStatus:Wt,useFormState:Wt,useActionState:Wt,useOptimistic:Wt,useMemoCache:Wt,useCacheRefresh:Wt},ep={readContext:pe,use:Wr,useCallback:function(e,n){return ve().memoizedState=[e,n===void 0?null:n],e},useContext:pe,useEffect:Hd,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Kr(4194308,4,Yd.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Kr(4194308,4,e,n)},useInsertionEffect:function(e,n){Kr(4,2,e,n)},useMemo:function(e,n){var r=ve();n=n===void 0?null:n;var o=e();if(Un){Wi(!0);try{e()}finally{Wi(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=ve();if(r!==void 0){var h=r(n);if(Un){Wi(!0);try{r(n)}finally{Wi(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=R_.bind(null,dt,e),[o.memoizedState,e]},useRef:function(e){var n=ve();return e={current:e},n.memoizedState=e},useState:function(e){e=Su(e);var n=e.queue,r=$d.bind(null,dt,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:wu,useDeferredValue:function(e,n){var r=ve();return Tu(r,e,n)},useTransition:function(){var e=Su(!1);return e=Id.bind(null,dt,e.queue,!0,!1),ve().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=dt,h=ve();if(Tt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Ut===null)throw Error(a(349));(St&124)!==0||Sd(o,n,r)}h.memoizedState=r;var m={value:r,getSnapshot:n};return h.queue=m,Hd(wd.bind(null,o,m,e),[e]),o.flags|=2048,bs(9,Qr(),Ad.bind(null,o,m,r,n),null),r},useId:function(){var e=ve(),n=Ut.identifierPrefix;if(Tt){var r=Ci,o=Ti;r=(o&~(1<<32-Re(o)-1)).toString(32)+r,n="«"+n+"R"+r,r=Ir++,0<r&&(n+="H"+r.toString(32)),n+="»"}else r=A_++,n="«"+n+"r"+r.toString(32)+"»";return e.memoizedState=n},useHostTransitionStatus:Mu,useFormState:Dd,useActionState:Dd,useOptimistic:function(e){var n=ve();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Eu.bind(null,dt,!0,r),r.dispatch=n,[e,n]},useMemoCache:_u,useCacheRefresh:function(){return ve().memoizedState=E_.bind(null,dt)}},ip={readContext:pe,use:Wr,useCallback:Vd,useContext:pe,useEffect:Nd,useImperativeHandle:Fd,useInsertionEffect:Pd,useLayoutEffect:jd,useMemo:Xd,useReducer:Zr,useRef:Ld,useState:function(){return Zr(Ri)},useDebugValue:wu,useDeferredValue:function(e,n){var r=Jt();return qd(r,Rt.memoizedState,e,n)},useTransition:function(){var e=Zr(Ri)[0],n=Jt().memoizedState;return[typeof e=="boolean"?e:Sa(e),n]},useSyncExternalStore:vd,useId:Qd,useHostTransitionStatus:Mu,useFormState:kd,useActionState:kd,useOptimistic:function(e,n){var r=Jt();return Md(r,Rt,e,n)},useMemoCache:_u,useCacheRefresh:Kd},B_={readContext:pe,use:Wr,useCallback:Vd,useContext:pe,useEffect:Nd,useImperativeHandle:Fd,useInsertionEffect:Pd,useLayoutEffect:jd,useMemo:Xd,useReducer:vu,useRef:Ld,useState:function(){return vu(Ri)},useDebugValue:wu,useDeferredValue:function(e,n){var r=Jt();return Rt===null?Tu(r,e,n):qd(r,Rt.memoizedState,e,n)},useTransition:function(){var e=vu(Ri)[0],n=Jt().memoizedState;return[typeof e=="boolean"?e:Sa(e),n]},useSyncExternalStore:vd,useId:Qd,useHostTransitionStatus:Mu,useFormState:Gd,useActionState:Gd,useOptimistic:function(e,n){var r=Jt();return Rt!==null?Md(r,Rt,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:_u,useCacheRefresh:Kd},vs=null,Ta=0;function tl(e){var n=Ta;return Ta+=1,vs===null&&(vs=[]),dd(vs,e,n)}function Ca(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function el(e,n){throw n.$$typeof===y?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function np(e){var n=e._init;return n(e._payload)}function sp(e){function n(z,B){if(e){var k=z.deletions;k===null?(z.deletions=[B],z.flags|=16):k.push(B)}}function r(z,B){if(!e)return null;for(;B!==null;)n(z,B),B=B.sibling;return null}function o(z){for(var B=new Map;z!==null;)z.key!==null?B.set(z.key,z):B.set(z.index,z),z=z.sibling;return B}function h(z,B){return z=wi(z,B),z.index=0,z.sibling=null,z}function m(z,B,k){return z.index=k,e?(k=z.alternate,k!==null?(k=k.index,k<B?(z.flags|=67108866,B):k):(z.flags|=67108866,B)):(z.flags|=1048576,B)}function x(z){return e&&z.alternate===null&&(z.flags|=67108866),z}function v(z,B,k,V){return B===null||B.tag!==6?(B=Zo(k,z.mode,V),B.return=z,B):(B=h(B,k),B.return=z,B)}function M(z,B,k,V){var tt=k.type;return tt===A?Y(z,B,k.props.children,V,k.key):B!==null&&(B.elementType===tt||typeof tt=="object"&&tt!==null&&tt.$$typeof===J&&np(tt)===B.type)?(B=h(B,k.props),Ca(B,k),B.return=z,B):(B=Lr(k.type,k.key,k.props,null,z.mode,V),Ca(B,k),B.return=z,B)}function U(z,B,k,V){return B===null||B.tag!==4||B.stateNode.containerInfo!==k.containerInfo||B.stateNode.implementation!==k.implementation?(B=Qo(k,z.mode,V),B.return=z,B):(B=h(B,k.children||[]),B.return=z,B)}function Y(z,B,k,V,tt){return B===null||B.tag!==7?(B=Mn(k,z.mode,V,tt),B.return=z,B):(B=h(B,k),B.return=z,B)}function q(z,B,k){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Zo(""+B,z.mode,k),B.return=z,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case _:return k=Lr(B.type,B.key,B.props,null,z.mode,k),Ca(k,B),k.return=z,k;case b:return B=Qo(B,z.mode,k),B.return=z,B;case J:var V=B._init;return B=V(B._payload),q(z,B,k)}if(wt(B)||ht(B))return B=Mn(B,z.mode,k,null),B.return=z,B;if(typeof B.then=="function")return q(z,tl(B),k);if(B.$$typeof===E)return q(z,jr(z,B),k);el(z,B)}return null}function G(z,B,k,V){var tt=B!==null?B.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return tt!==null?null:v(z,B,""+k,V);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case _:return k.key===tt?M(z,B,k,V):null;case b:return k.key===tt?U(z,B,k,V):null;case J:return tt=k._init,k=tt(k._payload),G(z,B,k,V)}if(wt(k)||ht(k))return tt!==null?null:Y(z,B,k,V,null);if(typeof k.then=="function")return G(z,B,tl(k),V);if(k.$$typeof===E)return G(z,B,jr(z,k),V);el(z,k)}return null}function L(z,B,k,V,tt){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return z=z.get(k)||null,v(B,z,""+V,tt);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case _:return z=z.get(V.key===null?k:V.key)||null,M(B,z,V,tt);case b:return z=z.get(V.key===null?k:V.key)||null,U(B,z,V,tt);case J:var pt=V._init;return V=pt(V._payload),L(z,B,k,V,tt)}if(wt(V)||ht(V))return z=z.get(k)||null,Y(B,z,V,tt,null);if(typeof V.then=="function")return L(z,B,k,tl(V),tt);if(V.$$typeof===E)return L(z,B,k,jr(B,V),tt);el(B,V)}return null}function ct(z,B,k,V){for(var tt=null,pt=null,et=B,ut=B=0,ae=null;et!==null&&ut<k.length;ut++){et.index>ut?(ae=et,et=null):ae=et.sibling;var At=G(z,et,k[ut],V);if(At===null){et===null&&(et=ae);break}e&&et&&At.alternate===null&&n(z,et),B=m(At,B,ut),pt===null?tt=At:pt.sibling=At,pt=At,et=ae}if(ut===k.length)return r(z,et),Tt&&Rn(z,ut),tt;if(et===null){for(;ut<k.length;ut++)et=q(z,k[ut],V),et!==null&&(B=m(et,B,ut),pt===null?tt=et:pt.sibling=et,pt=et);return Tt&&Rn(z,ut),tt}for(et=o(et);ut<k.length;ut++)ae=L(et,z,ut,k[ut],V),ae!==null&&(e&&ae.alternate!==null&&et.delete(ae.key===null?ut:ae.key),B=m(ae,B,ut),pt===null?tt=ae:pt.sibling=ae,pt=ae);return e&&et.forEach(function(xn){return n(z,xn)}),Tt&&Rn(z,ut),tt}function lt(z,B,k,V){if(k==null)throw Error(a(151));for(var tt=null,pt=null,et=B,ut=B=0,ae=null,At=k.next();et!==null&&!At.done;ut++,At=k.next()){et.index>ut?(ae=et,et=null):ae=et.sibling;var xn=G(z,et,At.value,V);if(xn===null){et===null&&(et=ae);break}e&&et&&xn.alternate===null&&n(z,et),B=m(xn,B,ut),pt===null?tt=xn:pt.sibling=xn,pt=xn,et=ae}if(At.done)return r(z,et),Tt&&Rn(z,ut),tt;if(et===null){for(;!At.done;ut++,At=k.next())At=q(z,At.value,V),At!==null&&(B=m(At,B,ut),pt===null?tt=At:pt.sibling=At,pt=At);return Tt&&Rn(z,ut),tt}for(et=o(et);!At.done;ut++,At=k.next())At=L(et,z,ut,At.value,V),At!==null&&(e&&At.alternate!==null&&et.delete(At.key===null?ut:At.key),B=m(At,B,ut),pt===null?tt=At:pt.sibling=At,pt=At);return e&&et.forEach(function(zb){return n(z,zb)}),Tt&&Rn(z,ut),tt}function zt(z,B,k,V){if(typeof k=="object"&&k!==null&&k.type===A&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case _:t:{for(var tt=k.key;B!==null;){if(B.key===tt){if(tt=k.type,tt===A){if(B.tag===7){r(z,B.sibling),V=h(B,k.props.children),V.return=z,z=V;break t}}else if(B.elementType===tt||typeof tt=="object"&&tt!==null&&tt.$$typeof===J&&np(tt)===B.type){r(z,B.sibling),V=h(B,k.props),Ca(V,k),V.return=z,z=V;break t}r(z,B);break}else n(z,B);B=B.sibling}k.type===A?(V=Mn(k.props.children,z.mode,V,k.key),V.return=z,z=V):(V=Lr(k.type,k.key,k.props,null,z.mode,V),Ca(V,k),V.return=z,z=V)}return x(z);case b:t:{for(tt=k.key;B!==null;){if(B.key===tt)if(B.tag===4&&B.stateNode.containerInfo===k.containerInfo&&B.stateNode.implementation===k.implementation){r(z,B.sibling),V=h(B,k.children||[]),V.return=z,z=V;break t}else{r(z,B);break}else n(z,B);B=B.sibling}V=Qo(k,z.mode,V),V.return=z,z=V}return x(z);case J:return tt=k._init,k=tt(k._payload),zt(z,B,k,V)}if(wt(k))return ct(z,B,k,V);if(ht(k)){if(tt=ht(k),typeof tt!="function")throw Error(a(150));return k=tt.call(k),lt(z,B,k,V)}if(typeof k.then=="function")return zt(z,B,tl(k),V);if(k.$$typeof===E)return zt(z,B,jr(z,k),V);el(z,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,B!==null&&B.tag===6?(r(z,B.sibling),V=h(B,k),V.return=z,z=V):(r(z,B),V=Zo(k,z.mode,V),V.return=z,z=V),x(z)):r(z,B)}return function(z,B,k,V){try{Ta=0;var tt=zt(z,B,k,V);return vs=null,tt}catch(et){if(et===ga||et===Fr)throw et;var pt=ze(29,et,null,z.mode);return pt.lanes=V,pt.return=z,pt}finally{}}}var Ss=sp(!0),ap=sp(!1),Xe=I(null),fi=null;function nn(e){var n=e.alternate;Q(ee,ee.current&1),Q(Xe,e),fi===null&&(n===null||ys.current!==null||n.memoizedState!==null)&&(fi=e)}function rp(e){if(e.tag===22){if(Q(ee,ee.current),Q(Xe,e),fi===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(fi=e)}}else sn()}function sn(){Q(ee,ee.current),Q(Xe,Xe.current)}function Bi(e){$(Xe),fi===e&&(fi=null),$(ee)}var ee=I(0);function il(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||xc(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Ru(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:g({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Bu={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=Ue(),h=Ji(o);h.payload=n,r!=null&&(h.callback=r),n=tn(e,h,o),n!==null&&(Ge(n,e,o),xa(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=Ue(),h=Ji(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=tn(e,h,o),n!==null&&(Ge(n,e,o),xa(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=Ue(),o=Ji(r);o.tag=2,n!=null&&(o.callback=n),n=tn(e,o,r),n!==null&&(Ge(n,e,r),xa(n,e,r))}};function lp(e,n,r,o,h,m,x){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,m,x):n.prototype&&n.prototype.isPureReactComponent?!oa(r,o)||!oa(h,m):!0}function op(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&Bu.enqueueReplaceState(n,n.state,null)}function Gn(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=g({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}var nl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function up(e){nl(e)}function cp(e){console.error(e)}function hp(e){nl(e)}function sl(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function fp(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function zu(e,n,r){return r=Ji(r),r.tag=3,r.payload={element:null},r.callback=function(){sl(e,n)},r}function dp(e){return e=Ji(e),e.tag=3,e}function pp(e,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var m=o.value;e.payload=function(){return h(m)},e.callback=function(){fp(n,r,o)}}var x=r.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(e.callback=function(){fp(n,r,o),typeof h!="function"&&(cn===null?cn=new Set([this]):cn.add(this));var v=o.stack;this.componentDidCatch(o.value,{componentStack:v!==null?v:""})})}function z_(e,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&da(n,r,h,!0),r=Xe.current,r!==null){switch(r.tag){case 13:return fi===null?ec():r.alternate===null&&qt===0&&(qt=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===ru?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),nc(e,o,h)),!1;case 22:return r.flags|=65536,o===ru?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),nc(e,o,h)),!1}throw Error(a(435,r.tag))}return nc(e,o,h),ec(),!1}if(Tt)return n=Xe.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Jo&&(e=Error(a(422),{cause:o}),fa(je(e,r)))):(o!==Jo&&(n=Error(a(423),{cause:o}),fa(je(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=je(o,r),h=zu(e.stateNode,o,h),uu(e,h),qt!==4&&(qt=2)),!1;var m=Error(a(520),{cause:o});if(m=je(m,r),Da===null?Da=[m]:Da.push(m),qt!==4&&(qt=2),n===null)return!0;o=je(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=zu(r.stateNode,o,e),uu(r,e),!1;case 1:if(n=r.type,m=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(cn===null||!cn.has(m))))return r.flags|=65536,h&=-h,r.lanes|=h,h=dp(h),pp(h,e,r,o),uu(r,h),!1}r=r.return}while(r!==null);return!1}var mp=Error(a(461)),ne=!1;function le(e,n,r,o){n.child=e===null?ap(n,null,r,o):Ss(n,e.child,r,o)}function gp(e,n,r,o,h){r=r.render;var m=n.ref;if("ref"in o){var x={};for(var v in o)v!=="ref"&&(x[v]=o[v])}else x=o;return Dn(n),o=pu(e,n,r,x,m,h),v=mu(),e!==null&&!ne?(gu(e,n,h),zi(e,n,h)):(Tt&&v&&Ko(n),n.flags|=1,le(e,n,o,h),n.child)}function yp(e,n,r,o,h){if(e===null){var m=r.type;return typeof m=="function"&&!Wo(m)&&m.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=m,xp(e,n,m,o,h)):(e=Lr(r.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(m=e.child,!Nu(e,h)){var x=m.memoizedProps;if(r=r.compare,r=r!==null?r:oa,r(x,o)&&e.ref===n.ref)return zi(e,n,h)}return n.flags|=1,e=wi(m,o),e.ref=n.ref,e.return=n,n.child=e}function xp(e,n,r,o,h){if(e!==null){var m=e.memoizedProps;if(oa(m,o)&&e.ref===n.ref)if(ne=!1,n.pendingProps=o=m,Nu(e,h))(e.flags&131072)!==0&&(ne=!0);else return n.lanes=e.lanes,zi(e,n,h)}return Ou(e,n,r,o,h)}function _p(e,n,r){var o=n.pendingProps,h=o.children,m=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((n.flags&128)!==0){if(o=m!==null?m.baseLanes|r:r,e!==null){for(h=n.child=e.child,m=0;h!==null;)m=m|h.lanes|h.childLanes,h=h.sibling;n.childLanes=m&~o}else n.childLanes=0,n.child=null;return bp(e,n,o,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Yr(n,m!==null?m.cachePool:null),m!==null?xd(n,m):hu(),rp(n);else return n.lanes=n.childLanes=536870912,bp(e,n,m!==null?m.baseLanes|r:r,r)}else m!==null?(Yr(n,m.cachePool),xd(n,m),sn(),n.memoizedState=null):(e!==null&&Yr(n,null),hu(),sn());return le(e,n,h,r),n.child}function bp(e,n,r,o){var h=au();return h=h===null?null:{parent:te._currentValue,pool:h},n.memoizedState={baseLanes:r,cachePool:h},e!==null&&Yr(n,null),hu(),rp(n),e!==null&&da(e,n,o,!0),null}function al(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function Ou(e,n,r,o,h){return Dn(n),r=pu(e,n,r,o,void 0,h),o=mu(),e!==null&&!ne?(gu(e,n,h),zi(e,n,h)):(Tt&&o&&Ko(n),n.flags|=1,le(e,n,r,h),n.child)}function vp(e,n,r,o,h,m){return Dn(n),n.updateQueue=null,r=bd(n,o,r,h),_d(e),o=mu(),e!==null&&!ne?(gu(e,n,m),zi(e,n,m)):(Tt&&o&&Ko(n),n.flags|=1,le(e,n,r,m),n.child)}function Sp(e,n,r,o,h){if(Dn(n),n.stateNode===null){var m=fs,x=r.contextType;typeof x=="object"&&x!==null&&(m=pe(x)),m=new r(o,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Bu,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=o,m.state=n.memoizedState,m.refs={},lu(n),x=r.contextType,m.context=typeof x=="object"&&x!==null?pe(x):fs,m.state=n.memoizedState,x=r.getDerivedStateFromProps,typeof x=="function"&&(Ru(n,r,x,o),m.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(x=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),x!==m.state&&Bu.enqueueReplaceState(m,m.state,null),ba(n,o,m,h),_a(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){m=n.stateNode;var v=n.memoizedProps,M=Gn(r,v);m.props=M;var U=m.context,Y=r.contextType;x=fs,typeof Y=="object"&&Y!==null&&(x=pe(Y));var q=r.getDerivedStateFromProps;Y=typeof q=="function"||typeof m.getSnapshotBeforeUpdate=="function",v=n.pendingProps!==v,Y||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(v||U!==x)&&op(n,m,o,x),$i=!1;var G=n.memoizedState;m.state=G,ba(n,o,m,h),_a(),U=n.memoizedState,v||G!==U||$i?(typeof q=="function"&&(Ru(n,r,q,o),U=n.memoizedState),(M=$i||lp(n,r,M,o,G,U,x))?(Y||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=U),m.props=o,m.state=U,m.context=x,o=M):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{m=n.stateNode,ou(e,n),x=n.memoizedProps,Y=Gn(r,x),m.props=Y,q=n.pendingProps,G=m.context,U=r.contextType,M=fs,typeof U=="object"&&U!==null&&(M=pe(U)),v=r.getDerivedStateFromProps,(U=typeof v=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(x!==q||G!==M)&&op(n,m,o,M),$i=!1,G=n.memoizedState,m.state=G,ba(n,o,m,h),_a();var L=n.memoizedState;x!==q||G!==L||$i||e!==null&&e.dependencies!==null&&Pr(e.dependencies)?(typeof v=="function"&&(Ru(n,r,v,o),L=n.memoizedState),(Y=$i||lp(n,r,Y,o,G,L,M)||e!==null&&e.dependencies!==null&&Pr(e.dependencies))?(U||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,L,M),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,L,M)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||x===e.memoizedProps&&G===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&G===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=L),m.props=o,m.state=L,m.context=M,o=Y):(typeof m.componentDidUpdate!="function"||x===e.memoizedProps&&G===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&G===e.memoizedState||(n.flags|=1024),o=!1)}return m=o,al(e,n),o=(n.flags&128)!==0,m||o?(m=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,e!==null&&o?(n.child=Ss(n,e.child,null,h),n.child=Ss(n,null,r,h)):le(e,n,r,h),n.memoizedState=m.state,e=n.child):e=zi(e,n,h),e}function Ap(e,n,r,o){return ha(),n.flags|=256,le(e,n,r,o),n.child}var Du={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ku(e){return{baseLanes:e,cachePool:cd()}}function Uu(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=qe),e}function wp(e,n,r){var o=n.pendingProps,h=!1,m=(n.flags&128)!==0,x;if((x=m)||(x=e!==null&&e.memoizedState===null?!1:(ee.current&2)!==0),x&&(h=!0,n.flags&=-129),x=(n.flags&32)!==0,n.flags&=-33,e===null){if(Tt){if(h?nn(n):sn(),Tt){var v=Xt,M;if(M=v){t:{for(M=v,v=hi;M.nodeType!==8;){if(!v){v=null;break t}if(M=ni(M.nextSibling),M===null){v=null;break t}}v=M}v!==null?(n.memoizedState={dehydrated:v,treeContext:En!==null?{id:Ti,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},M=ze(18,null,null,0),M.stateNode=v,M.return=n,n.child=M,ye=n,Xt=null,M=!0):M=!1}M||zn(n)}if(v=n.memoizedState,v!==null&&(v=v.dehydrated,v!==null))return xc(v)?n.lanes=32:n.lanes=536870912,null;Bi(n)}return v=o.children,o=o.fallback,h?(sn(),h=n.mode,v=rl({mode:"hidden",children:v},h),o=Mn(o,h,r,null),v.return=n,o.return=n,v.sibling=o,n.child=v,h=n.child,h.memoizedState=ku(r),h.childLanes=Uu(e,x,r),n.memoizedState=Du,o):(nn(n),Gu(n,v))}if(M=e.memoizedState,M!==null&&(v=M.dehydrated,v!==null)){if(m)n.flags&256?(nn(n),n.flags&=-257,n=Lu(e,n,r)):n.memoizedState!==null?(sn(),n.child=e.child,n.flags|=128,n=null):(sn(),h=o.fallback,v=n.mode,o=rl({mode:"visible",children:o.children},v),h=Mn(h,v,r,null),h.flags|=2,o.return=n,h.return=n,o.sibling=h,n.child=o,Ss(n,e.child,null,r),o=n.child,o.memoizedState=ku(r),o.childLanes=Uu(e,x,r),n.memoizedState=Du,n=h);else if(nn(n),xc(v)){if(x=v.nextSibling&&v.nextSibling.dataset,x)var U=x.dgst;x=U,o=Error(a(419)),o.stack="",o.digest=x,fa({value:o,source:null,stack:null}),n=Lu(e,n,r)}else if(ne||da(e,n,r,!1),x=(r&e.childLanes)!==0,ne||x){if(x=Ut,x!==null&&(o=r&-r,o=(o&42)!==0?1:_o(o),o=(o&(x.suspendedLanes|r))!==0?0:o,o!==0&&o!==M.retryLane))throw M.retryLane=o,hs(e,o),Ge(x,e,o),mp;v.data==="$?"||ec(),n=Lu(e,n,r)}else v.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=M.treeContext,Xt=ni(v.nextSibling),ye=n,Tt=!0,Bn=null,hi=!1,e!==null&&(Fe[Ve++]=Ti,Fe[Ve++]=Ci,Fe[Ve++]=En,Ti=e.id,Ci=e.overflow,En=n),n=Gu(n,o.children),n.flags|=4096);return n}return h?(sn(),h=o.fallback,v=n.mode,M=e.child,U=M.sibling,o=wi(M,{mode:"hidden",children:o.children}),o.subtreeFlags=M.subtreeFlags&65011712,U!==null?h=wi(U,h):(h=Mn(h,v,r,null),h.flags|=2),h.return=n,o.return=n,o.sibling=h,n.child=o,o=h,h=n.child,v=e.child.memoizedState,v===null?v=ku(r):(M=v.cachePool,M!==null?(U=te._currentValue,M=M.parent!==U?{parent:U,pool:U}:M):M=cd(),v={baseLanes:v.baseLanes|r,cachePool:M}),h.memoizedState=v,h.childLanes=Uu(e,x,r),n.memoizedState=Du,o):(nn(n),r=e.child,e=r.sibling,r=wi(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(x=n.deletions,x===null?(n.deletions=[e],n.flags|=16):x.push(e)),n.child=r,n.memoizedState=null,r)}function Gu(e,n){return n=rl({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function rl(e,n){return e=ze(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Lu(e,n,r){return Ss(n,e.child,null,r),e=Gu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Tp(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),eu(e.return,n,r)}function Hu(e,n,r,o,h){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h}:(m.isBackwards=n,m.rendering=null,m.renderingStartTime=0,m.last=o,m.tail=r,m.tailMode=h)}function Cp(e,n,r){var o=n.pendingProps,h=o.revealOrder,m=o.tail;if(le(e,n,o.children,r),o=ee.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Tp(e,r,n);else if(e.tag===19)Tp(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(Q(ee,o),h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&il(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Hu(n,!1,h,r,m);break;case"backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&il(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}Hu(n,!0,r,null,m);break;case"together":Hu(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function zi(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),un|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(da(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,r=wi(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=wi(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Nu(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Pr(e)))}function O_(e,n,r){switch(n.tag){case 3:Dt(n,n.stateNode.containerInfo),Ki(n,te,e.memoizedState.cache),ha();break;case 27:case 5:qi(n);break;case 4:Dt(n,n.stateNode.containerInfo);break;case 10:Ki(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(nn(n),n.flags|=128,null):(r&n.child.childLanes)!==0?wp(e,n,r):(nn(n),e=zi(e,n,r),e!==null?e.sibling:null);nn(n);break;case 19:var h=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(da(e,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return Cp(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Q(ee,ee.current),o)break;return null;case 22:case 23:return n.lanes=0,_p(e,n,r);case 24:Ki(n,te,e.memoizedState.cache)}return zi(e,n,r)}function Mp(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)ne=!0;else{if(!Nu(e,r)&&(n.flags&128)===0)return ne=!1,O_(e,n,r);ne=(e.flags&131072)!==0}else ne=!1,Tt&&(n.flags&1048576)!==0&&nd(n,Nr,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var o=n.elementType,h=o._init;if(o=h(o._payload),n.type=o,typeof o=="function")Wo(o)?(e=Gn(o,e),n.tag=1,n=Sp(null,n,o,e,r)):(n.tag=0,n=Ou(null,n,o,e,r));else{if(o!=null){if(h=o.$$typeof,h===D){n.tag=11,n=gp(null,n,o,e,r);break t}else if(h===N){n.tag=14,n=yp(null,n,o,e,r);break t}}throw n=Ht(o)||o,Error(a(306,n,""))}}return n;case 0:return Ou(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=Gn(o,n.pendingProps),Sp(e,n,o,h,r);case 3:t:{if(Dt(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var m=n.memoizedState;h=m.element,ou(e,n),ba(n,o,null,r);var x=n.memoizedState;if(o=x.cache,Ki(n,te,o),o!==m.cache&&iu(n,[te],r,!0),_a(),o=x.element,m.isDehydrated)if(m={element:o,isDehydrated:!1,cache:x.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=Ap(e,n,o,r);break t}else if(o!==h){h=je(Error(a(424)),n),fa(h),n=Ap(e,n,o,r);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Xt=ni(e.firstChild),ye=n,Tt=!0,Bn=null,hi=!0,r=ap(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(ha(),o===h){n=zi(e,n,r);break t}le(e,n,o,r)}n=n.child}return n;case 26:return al(e,n),e===null?(r=zm(n.type,null,n.pendingProps,null))?n.memoizedState=r:Tt||(r=n.type,e=n.pendingProps,o=bl(ot.current).createElement(r),o[de]=n,o[_e]=e,ue(o,r,e),ie(o),n.stateNode=o):n.memoizedState=zm(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return qi(n),e===null&&Tt&&(o=n.stateNode=Em(n.type,n.pendingProps,ot.current),ye=n,hi=!0,h=Xt,dn(n.type)?(_c=h,Xt=ni(o.firstChild)):Xt=h),le(e,n,n.pendingProps.children,r),al(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Tt&&((h=o=Xt)&&(o=rb(o,n.type,n.pendingProps,hi),o!==null?(n.stateNode=o,ye=n,Xt=ni(o.firstChild),hi=!1,h=!0):h=!1),h||zn(n)),qi(n),h=n.type,m=n.pendingProps,x=e!==null?e.memoizedProps:null,o=m.children,mc(h,m)?o=null:x!==null&&mc(h,x)&&(n.flags|=32),n.memoizedState!==null&&(h=pu(e,n,w_,null,null,r),Ya._currentValue=h),al(e,n),le(e,n,o,r),n.child;case 6:return e===null&&Tt&&((e=r=Xt)&&(r=lb(r,n.pendingProps,hi),r!==null?(n.stateNode=r,ye=n,Xt=null,e=!0):e=!1),e||zn(n)),null;case 13:return wp(e,n,r);case 4:return Dt(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Ss(n,null,o,r):le(e,n,o,r),n.child;case 11:return gp(e,n,n.type,n.pendingProps,r);case 7:return le(e,n,n.pendingProps,r),n.child;case 8:return le(e,n,n.pendingProps.children,r),n.child;case 12:return le(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,Ki(n,n.type,o.value),le(e,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Dn(n),h=pe(h),o=o(h),n.flags|=1,le(e,n,o,r),n.child;case 14:return yp(e,n,n.type,n.pendingProps,r);case 15:return xp(e,n,n.type,n.pendingProps,r);case 19:return Cp(e,n,r);case 31:return o=n.pendingProps,r=n.mode,o={mode:o.mode,children:o.children},e===null?(r=rl(o,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=wi(e.child,o),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return _p(e,n,r);case 24:return Dn(n),o=pe(te),e===null?(h=au(),h===null&&(h=Ut,m=nu(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=r),h=m),n.memoizedState={parent:o,cache:h},lu(n),Ki(n,te,h)):((e.lanes&r)!==0&&(ou(e,n),ba(n,null,null,r),_a()),h=e.memoizedState,m=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ki(n,te,o)):(o=m.cache,Ki(n,te,o),o!==h.cache&&iu(n,[te],r,!0))),le(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Oi(e){e.flags|=4}function Ep(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Gm(n)){if(n=Xe.current,n!==null&&((St&4194048)===St?fi!==null:(St&62914560)!==St&&(St&536870912)===0||n!==fi))throw ya=ru,hd;e.flags|=8192}}function ll(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?rf():536870912,e.lanes|=n,Cs|=n)}function Ma(e,n){if(!Tt)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Yt(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function D_(e,n,r){var o=n.pendingProps;switch($o(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(n),null;case 1:return Yt(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Ei(te),Ce(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ca(n)?Oi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,rd())),Yt(n),null;case 26:return r=n.memoizedState,e===null?(Oi(n),r!==null?(Yt(n),Ep(n,r)):(Yt(n),n.flags&=-16777217)):r?r!==e.memoizedState?(Oi(n),Yt(n),Ep(n,r)):(Yt(n),n.flags&=-16777217):(e.memoizedProps!==o&&Oi(n),Yt(n),n.flags&=-16777217),null;case 27:Ii(n),r=ot.current;var h=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Oi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return Yt(n),null}e=st.current,ca(n)?sd(n):(e=Em(h,o,r),n.stateNode=e,Oi(n))}return Yt(n),null;case 5:if(Ii(n),r=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Oi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return Yt(n),null}if(e=st.current,ca(n))sd(n);else{switch(h=bl(ot.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?h.createElement(r,{is:o.is}):h.createElement(r)}}e[de]=n,e[_e]=o;t:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break t;for(;h.sibling===null;){if(h.return===null||h.return===n)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=e;t:switch(ue(e,r,o),r){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Oi(n)}}return Yt(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Oi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=ot.current,ca(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,h=ye,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[de]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||vm(e.nodeValue,r)),e||zn(n)}else e=bl(e).createTextNode(o),e[de]=n,n.stateNode=e}return Yt(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ca(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[de]=n}else ha(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Yt(n),h=!1}else h=rd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Bi(n),n):(Bi(n),null)}if(Bi(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=o!==null,e=e!==null&&e.memoizedState!==null,r){o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var m=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==h&&(o.flags|=2048)}return r!==e&&r&&(n.child.flags|=8192),ll(n,n.updateQueue),Yt(n),null;case 4:return Ce(),e===null&&cc(n.stateNode.containerInfo),Yt(n),null;case 10:return Ei(n.type),Yt(n),null;case 19:if($(ee),h=n.memoizedState,h===null)return Yt(n),null;if(o=(n.flags&128)!==0,m=h.rendering,m===null)if(o)Ma(h,!1);else{if(qt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(m=il(e),m!==null){for(n.flags|=128,Ma(h,!1),e=m.updateQueue,n.updateQueue=e,ll(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)id(r,e),r=r.sibling;return Q(ee,ee.current&1|2),n.child}e=e.sibling}h.tail!==null&&Me()>cl&&(n.flags|=128,o=!0,Ma(h,!1),n.lanes=4194304)}else{if(!o)if(e=il(m),e!==null){if(n.flags|=128,o=!0,e=e.updateQueue,n.updateQueue=e,ll(n,e),Ma(h,!0),h.tail===null&&h.tailMode==="hidden"&&!m.alternate&&!Tt)return Yt(n),null}else 2*Me()-h.renderingStartTime>cl&&r!==536870912&&(n.flags|=128,o=!0,Ma(h,!1),n.lanes=4194304);h.isBackwards?(m.sibling=n.child,n.child=m):(e=h.last,e!==null?e.sibling=m:n.child=m,h.last=m)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=Me(),n.sibling=null,e=ee.current,Q(ee,o?e&1|2:e&1),n):(Yt(n),null);case 22:case 23:return Bi(n),fu(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(Yt(n),n.subtreeFlags&6&&(n.flags|=8192)):Yt(n),r=n.updateQueue,r!==null&&ll(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&$(kn),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ei(te),Yt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function k_(e,n){switch($o(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ei(te),Ce(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Ii(n),null;case 13:if(Bi(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));ha()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return $(ee),null;case 4:return Ce(),null;case 10:return Ei(n.type),null;case 22:case 23:return Bi(n),fu(),e!==null&&$(kn),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ei(te),null;case 25:return null;default:return null}}function Rp(e,n){switch($o(n),n.tag){case 3:Ei(te),Ce();break;case 26:case 27:case 5:Ii(n);break;case 4:Ce();break;case 13:Bi(n);break;case 19:$(ee);break;case 10:Ei(n.type);break;case 22:case 23:Bi(n),fu(),e!==null&&$(kn);break;case 24:Ei(te)}}function Ea(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&e)===e){o=void 0;var m=r.create,x=r.inst;o=m(),x.destroy=o}r=r.next}while(r!==h)}}catch(v){kt(n,n.return,v)}}function an(e,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var m=h.next;o=m;do{if((o.tag&e)===e){var x=o.inst,v=x.destroy;if(v!==void 0){x.destroy=void 0,h=n;var M=r,U=v;try{U()}catch(Y){kt(h,M,Y)}}}o=o.next}while(o!==m)}}catch(Y){kt(n,n.return,Y)}}function Bp(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{yd(n,r)}catch(o){kt(e,e.return,o)}}}function zp(e,n,r){r.props=Gn(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){kt(e,n,o)}}function Ra(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(h){kt(e,n,h)}}function di(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){kt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){kt(e,n,h)}else r.current=null}function Op(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){kt(e,e.return,h)}}function Pu(e,n,r){try{var o=e.stateNode;eb(o,e.type,r,n),o[_e]=n}catch(h){kt(e,e.return,h)}}function Dp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&dn(e.type)||e.tag===4}function ju(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Dp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&dn(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Yu(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=_l));else if(o!==4&&(o===27&&dn(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Yu(e,n,r),e=e.sibling;e!==null;)Yu(e,n,r),e=e.sibling}function ol(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&dn(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(ol(e,n,r),e=e.sibling;e!==null;)ol(e,n,r),e=e.sibling}function kp(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);ue(n,o,r),n[de]=e,n[_e]=r}catch(m){kt(e,e.return,m)}}var Di=!1,Zt=!1,Fu=!1,Up=typeof WeakSet=="function"?WeakSet:Set,se=null;function U_(e,n){if(e=e.containerInfo,dc=Cl,e=qf(e),jo(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{r.nodeType,m.nodeType}catch{r=null;break t}var x=0,v=-1,M=-1,U=0,Y=0,q=e,G=null;e:for(;;){for(var L;q!==r||h!==0&&q.nodeType!==3||(v=x+h),q!==m||o!==0&&q.nodeType!==3||(M=x+o),q.nodeType===3&&(x+=q.nodeValue.length),(L=q.firstChild)!==null;)G=q,q=L;for(;;){if(q===e)break e;if(G===r&&++U===h&&(v=x),G===m&&++Y===o&&(M=x),(L=q.nextSibling)!==null)break;q=G,G=q.parentNode}q=L}r=v===-1||M===-1?null:{start:v,end:M}}else r=null}r=r||{start:0,end:0}}else r=null;for(pc={focusedElem:e,selectionRange:r},Cl=!1,se=n;se!==null;)if(n=se,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,se=e;else for(;se!==null;){switch(n=se,m=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&m!==null){e=void 0,r=n,h=m.memoizedProps,m=m.memoizedState,o=r.stateNode;try{var ct=Gn(r.type,h,r.elementType===r.type);e=o.getSnapshotBeforeUpdate(ct,m),o.__reactInternalSnapshotBeforeUpdate=e}catch(lt){kt(r,r.return,lt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)yc(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":yc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,se=e;break}se=n.return}}function Gp(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:rn(e,r),o&4&&Ea(5,r);break;case 1:if(rn(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(x){kt(r,r.return,x)}else{var h=Gn(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(x){kt(r,r.return,x)}}o&64&&Bp(r),o&512&&Ra(r,r.return);break;case 3:if(rn(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{yd(e,n)}catch(x){kt(r,r.return,x)}}break;case 27:n===null&&o&4&&kp(r);case 26:case 5:rn(e,r),n===null&&o&4&&Op(r),o&512&&Ra(r,r.return);break;case 12:rn(e,r);break;case 13:rn(e,r),o&4&&Np(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=V_.bind(null,r),ob(e,r))));break;case 22:if(o=r.memoizedState!==null||Di,!o){n=n!==null&&n.memoizedState!==null||Zt,h=Di;var m=Zt;Di=o,(Zt=n)&&!m?ln(e,r,(r.subtreeFlags&8772)!==0):rn(e,r),Di=h,Zt=m}break;case 30:break;default:rn(e,r)}}function Lp(e){var n=e.alternate;n!==null&&(e.alternate=null,Lp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&So(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var jt=null,Se=!1;function ki(e,n,r){for(r=r.child;r!==null;)Hp(e,n,r),r=r.sibling}function Hp(e,n,r){if(Ee&&typeof Ee.onCommitFiberUnmount=="function")try{Ee.onCommitFiberUnmount(Qs,r)}catch{}switch(r.tag){case 26:Zt||di(r,n),ki(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Zt||di(r,n);var o=jt,h=Se;dn(r.type)&&(jt=r.stateNode,Se=!1),ki(e,n,r),Ha(r.stateNode),jt=o,Se=h;break;case 5:Zt||di(r,n);case 6:if(o=jt,h=Se,jt=null,ki(e,n,r),jt=o,Se=h,jt!==null)if(Se)try{(jt.nodeType===9?jt.body:jt.nodeName==="HTML"?jt.ownerDocument.body:jt).removeChild(r.stateNode)}catch(m){kt(r,n,m)}else try{jt.removeChild(r.stateNode)}catch(m){kt(r,n,m)}break;case 18:jt!==null&&(Se?(e=jt,Cm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),qa(e)):Cm(jt,r.stateNode));break;case 4:o=jt,h=Se,jt=r.stateNode.containerInfo,Se=!0,ki(e,n,r),jt=o,Se=h;break;case 0:case 11:case 14:case 15:Zt||an(2,r,n),Zt||an(4,r,n),ki(e,n,r);break;case 1:Zt||(di(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&zp(r,n,o)),ki(e,n,r);break;case 21:ki(e,n,r);break;case 22:Zt=(o=Zt)||r.memoizedState!==null,ki(e,n,r),Zt=o;break;default:ki(e,n,r)}}function Np(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{qa(e)}catch(r){kt(n,n.return,r)}}function G_(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Up),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Up),n;default:throw Error(a(435,e.tag))}}function Vu(e,n){var r=G_(e);n.forEach(function(o){var h=X_.bind(null,e,o);r.has(o)||(r.add(o),o.then(h,h))})}function Oe(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],m=e,x=n,v=x;t:for(;v!==null;){switch(v.tag){case 27:if(dn(v.type)){jt=v.stateNode,Se=!1;break t}break;case 5:jt=v.stateNode,Se=!1;break t;case 3:case 4:jt=v.stateNode.containerInfo,Se=!0;break t}v=v.return}if(jt===null)throw Error(a(160));Hp(m,x,h),jt=null,Se=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Pp(n,e),n=n.sibling}var ii=null;function Pp(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Oe(n,e),De(e),o&4&&(an(3,e,e.return),Ea(3,e),an(5,e,e.return));break;case 1:Oe(n,e),De(e),o&512&&(Zt||r===null||di(r,r.return)),o&64&&Di&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=ii;if(Oe(n,e),De(e),o&512&&(Zt||r===null||di(r,r.return)),o&4){var m=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":m=h.getElementsByTagName("title")[0],(!m||m[Js]||m[de]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(o),h.head.insertBefore(m,h.querySelector("head > title"))),ue(m,o,r),m[de]=e,ie(m),o=m;break t;case"link":var x=km("link","href",h).get(o+(r.href||""));if(x){for(var v=0;v<x.length;v++)if(m=x[v],m.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&m.getAttribute("rel")===(r.rel==null?null:r.rel)&&m.getAttribute("title")===(r.title==null?null:r.title)&&m.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){x.splice(v,1);break e}}m=h.createElement(o),ue(m,o,r),h.head.appendChild(m);break;case"meta":if(x=km("meta","content",h).get(o+(r.content||""))){for(v=0;v<x.length;v++)if(m=x[v],m.getAttribute("content")===(r.content==null?null:""+r.content)&&m.getAttribute("name")===(r.name==null?null:r.name)&&m.getAttribute("property")===(r.property==null?null:r.property)&&m.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&m.getAttribute("charset")===(r.charSet==null?null:r.charSet)){x.splice(v,1);break e}}m=h.createElement(o),ue(m,o,r),h.head.appendChild(m);break;default:throw Error(a(468,o))}m[de]=e,ie(m),o=m}e.stateNode=o}else Um(h,e.type,e.stateNode);else e.stateNode=Dm(h,o,e.memoizedProps);else m!==o?(m===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):m.count--,o===null?Um(h,e.type,e.stateNode):Dm(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Pu(e,e.memoizedProps,r.memoizedProps)}break;case 27:Oe(n,e),De(e),o&512&&(Zt||r===null||di(r,r.return)),r!==null&&o&4&&Pu(e,e.memoizedProps,r.memoizedProps);break;case 5:if(Oe(n,e),De(e),o&512&&(Zt||r===null||di(r,r.return)),e.flags&32){h=e.stateNode;try{ss(h,"")}catch(L){kt(e,e.return,L)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Pu(e,h,r!==null?r.memoizedProps:h)),o&1024&&(Fu=!0);break;case 6:if(Oe(n,e),De(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(L){kt(e,e.return,L)}}break;case 3:if(Al=null,h=ii,ii=vl(n.containerInfo),Oe(n,e),ii=h,De(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{qa(n.containerInfo)}catch(L){kt(e,e.return,L)}Fu&&(Fu=!1,jp(e));break;case 4:o=ii,ii=vl(e.stateNode.containerInfo),Oe(n,e),De(e),ii=o;break;case 12:Oe(n,e),De(e);break;case 13:Oe(n,e),De(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Qu=Me()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Vu(e,o)));break;case 22:h=e.memoizedState!==null;var M=r!==null&&r.memoizedState!==null,U=Di,Y=Zt;if(Di=U||h,Zt=Y||M,Oe(n,e),Zt=Y,Di=U,De(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||M||Di||Zt||Ln(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){M=r=n;try{if(m=M.stateNode,h)x=m.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{v=M.stateNode;var q=M.memoizedProps.style,G=q!=null&&q.hasOwnProperty("display")?q.display:null;v.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(L){kt(M,M.return,L)}}}else if(n.tag===6){if(r===null){M=n;try{M.stateNode.nodeValue=h?"":M.memoizedProps}catch(L){kt(M,M.return,L)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,Vu(e,r))));break;case 19:Oe(n,e),De(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Vu(e,o)));break;case 30:break;case 21:break;default:Oe(n,e),De(e)}}function De(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(Dp(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,m=ju(e);ol(e,m,h);break;case 5:var x=r.stateNode;r.flags&32&&(ss(x,""),r.flags&=-33);var v=ju(e);ol(e,v,x);break;case 3:case 4:var M=r.stateNode.containerInfo,U=ju(e);Yu(e,U,M);break;default:throw Error(a(161))}}catch(Y){kt(e,e.return,Y)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function jp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;jp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function rn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Gp(e,n.alternate,n),n=n.sibling}function Ln(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:an(4,n,n.return),Ln(n);break;case 1:di(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&zp(n,n.return,r),Ln(n);break;case 27:Ha(n.stateNode);case 26:case 5:di(n,n.return),Ln(n);break;case 22:n.memoizedState===null&&Ln(n);break;case 30:Ln(n);break;default:Ln(n)}e=e.sibling}}function ln(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,m=n,x=m.flags;switch(m.tag){case 0:case 11:case 15:ln(h,m,r),Ea(4,m);break;case 1:if(ln(h,m,r),o=m,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){kt(o,o.return,U)}if(o=m,h=o.updateQueue,h!==null){var v=o.stateNode;try{var M=h.shared.hiddenCallbacks;if(M!==null)for(h.shared.hiddenCallbacks=null,h=0;h<M.length;h++)gd(M[h],v)}catch(U){kt(o,o.return,U)}}r&&x&64&&Bp(m),Ra(m,m.return);break;case 27:kp(m);case 26:case 5:ln(h,m,r),r&&o===null&&x&4&&Op(m),Ra(m,m.return);break;case 12:ln(h,m,r);break;case 13:ln(h,m,r),r&&x&4&&Np(h,m);break;case 22:m.memoizedState===null&&ln(h,m,r),Ra(m,m.return);break;case 30:break;default:ln(h,m,r)}n=n.sibling}}function Xu(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&pa(r))}function qu(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&pa(e))}function pi(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Yp(e,n,r,o),n=n.sibling}function Yp(e,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:pi(e,n,r,o),h&2048&&Ea(9,n);break;case 1:pi(e,n,r,o);break;case 3:pi(e,n,r,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&pa(e)));break;case 12:if(h&2048){pi(e,n,r,o),e=n.stateNode;try{var m=n.memoizedProps,x=m.id,v=m.onPostCommit;typeof v=="function"&&v(x,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(M){kt(n,n.return,M)}}else pi(e,n,r,o);break;case 13:pi(e,n,r,o);break;case 23:break;case 22:m=n.stateNode,x=n.alternate,n.memoizedState!==null?m._visibility&2?pi(e,n,r,o):Ba(e,n):m._visibility&2?pi(e,n,r,o):(m._visibility|=2,As(e,n,r,o,(n.subtreeFlags&10256)!==0)),h&2048&&Xu(x,n);break;case 24:pi(e,n,r,o),h&2048&&qu(n.alternate,n);break;default:pi(e,n,r,o)}}function As(e,n,r,o,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var m=e,x=n,v=r,M=o,U=x.flags;switch(x.tag){case 0:case 11:case 15:As(m,x,v,M,h),Ea(8,x);break;case 23:break;case 22:var Y=x.stateNode;x.memoizedState!==null?Y._visibility&2?As(m,x,v,M,h):Ba(m,x):(Y._visibility|=2,As(m,x,v,M,h)),h&&U&2048&&Xu(x.alternate,x);break;case 24:As(m,x,v,M,h),h&&U&2048&&qu(x.alternate,x);break;default:As(m,x,v,M,h)}n=n.sibling}}function Ba(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,h=o.flags;switch(o.tag){case 22:Ba(r,o),h&2048&&Xu(o.alternate,o);break;case 24:Ba(r,o),h&2048&&qu(o.alternate,o);break;default:Ba(r,o)}n=n.sibling}}var za=8192;function ws(e){if(e.subtreeFlags&za)for(e=e.child;e!==null;)Fp(e),e=e.sibling}function Fp(e){switch(e.tag){case 26:ws(e),e.flags&za&&e.memoizedState!==null&&vb(ii,e.memoizedState,e.memoizedProps);break;case 5:ws(e);break;case 3:case 4:var n=ii;ii=vl(e.stateNode.containerInfo),ws(e),ii=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=za,za=16777216,ws(e),za=n):ws(e));break;default:ws(e)}}function Vp(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Oa(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];se=o,qp(o,e)}Vp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Xp(e),e=e.sibling}function Xp(e){switch(e.tag){case 0:case 11:case 15:Oa(e),e.flags&2048&&an(9,e,e.return);break;case 3:Oa(e);break;case 12:Oa(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ul(e)):Oa(e);break;default:Oa(e)}}function ul(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];se=o,qp(o,e)}Vp(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:an(8,n,n.return),ul(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,ul(n));break;default:ul(n)}e=e.sibling}}function qp(e,n){for(;se!==null;){var r=se;switch(r.tag){case 0:case 11:case 15:an(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:pa(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,se=o;else t:for(r=e;se!==null;){o=se;var h=o.sibling,m=o.return;if(Lp(o),o===r){se=null;break t}if(h!==null){h.return=m,se=h;break t}se=m}}}var L_={getCacheForType:function(e){var n=pe(te),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r}},H_=typeof WeakMap=="function"?WeakMap:Map,Ct=0,Ut=null,gt=null,St=0,Mt=0,ke=null,on=!1,Ts=!1,Iu=!1,Ui=0,qt=0,un=0,Hn=0,Wu=0,qe=0,Cs=0,Da=null,Ae=null,Zu=!1,Qu=0,cl=1/0,hl=null,cn=null,oe=0,hn=null,Ms=null,Es=0,Ku=0,$u=null,Ip=null,ka=0,Ju=null;function Ue(){if((Ct&2)!==0&&St!==0)return St&-St;if(O.T!==null){var e=ms;return e!==0?e:rc()}return uf()}function Wp(){qe===0&&(qe=(St&536870912)===0||Tt?af():536870912);var e=Xe.current;return e!==null&&(e.flags|=32),qe}function Ge(e,n,r){(e===Ut&&(Mt===2||Mt===9)||e.cancelPendingCommit!==null)&&(Rs(e,0),fn(e,St,qe,!1)),$s(e,r),((Ct&2)===0||e!==Ut)&&(e===Ut&&((Ct&2)===0&&(Hn|=r),qt===4&&fn(e,St,qe,!1)),mi(e))}function Zp(e,n,r){if((Ct&6)!==0)throw Error(a(327));var o=!r&&(n&124)===0&&(n&e.expiredLanes)===0||Ks(e,n),h=o?j_(e,n):ic(e,n,!0),m=o;do{if(h===0){Ts&&!o&&fn(e,n,0,!1);break}else{if(r=e.current.alternate,m&&!N_(r)){h=ic(e,n,!1),m=!1;continue}if(h===2){if(m=n,e.errorRecoveryDisabledLanes&m)var x=0;else x=e.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){n=x;t:{var v=e;h=Da;var M=v.current.memoizedState.isDehydrated;if(M&&(Rs(v,x).flags|=256),x=ic(v,x,!1),x!==2){if(Iu&&!M){v.errorRecoveryDisabledLanes|=m,Hn|=m,h=4;break t}m=Ae,Ae=h,m!==null&&(Ae===null?Ae=m:Ae.push.apply(Ae,m))}h=x}if(m=!1,h!==2)continue}}if(h===1){Rs(e,0),fn(e,n,0,!0);break}t:{switch(o=e,m=h,m){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:fn(o,n,qe,!on);break t;case 2:Ae=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Qu+300-Me(),10<h)){if(fn(o,n,qe,!on),Sr(o,0,!0)!==0)break t;o.timeoutHandle=wm(Qp.bind(null,o,r,Ae,hl,Zu,n,qe,Hn,Cs,on,m,2,-0,0),h);break t}Qp(o,r,Ae,hl,Zu,n,qe,Hn,Cs,on,m,0,-0,0)}}break}while(!0);mi(e)}function Qp(e,n,r,o,h,m,x,v,M,U,Y,q,G,L){if(e.timeoutHandle=-1,q=n.subtreeFlags,(q&8192||(q&16785408)===16785408)&&(ja={stylesheets:null,count:0,unsuspend:bb},Fp(n),q=Sb(),q!==null)){e.cancelPendingCommit=q(nm.bind(null,e,n,m,r,o,h,x,v,M,Y,1,G,L)),fn(e,m,x,!U);return}nm(e,n,m,r,o,h,x,v,M)}function N_(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],m=h.getSnapshot;h=h.value;try{if(!Be(m(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function fn(e,n,r,o){n&=~Wu,n&=~Hn,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var m=31-Re(h),x=1<<m;o[m]=-1,h&=~x}r!==0&&lf(e,r,n)}function fl(){return(Ct&6)===0?(Ua(0),!1):!0}function tc(){if(gt!==null){if(Mt===0)var e=gt.return;else e=gt,Mi=On=null,yu(e),vs=null,Ta=0,e=gt;for(;e!==null;)Rp(e.alternate,e),e=e.return;gt=null}}function Rs(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,nb(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),tc(),Ut=e,gt=r=wi(e.current,null),St=n,Mt=0,ke=null,on=!1,Ts=Ks(e,n),Iu=!1,Cs=qe=Wu=Hn=un=qt=0,Ae=Da=null,Zu=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-Re(o),m=1<<h;n|=e[h],o&=~m}return Ui=n,kr(),r}function Kp(e,n){dt=null,O.H=Jr,n===ga||n===Fr?(n=pd(),Mt=3):n===hd?(n=pd(),Mt=4):Mt=n===mp?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,ke=n,gt===null&&(qt=1,sl(e,je(n,e.current)))}function $p(){var e=O.H;return O.H=Jr,e===null?Jr:e}function Jp(){var e=O.A;return O.A=L_,e}function ec(){qt=4,on||(St&4194048)!==St&&Xe.current!==null||(Ts=!0),(un&134217727)===0&&(Hn&134217727)===0||Ut===null||fn(Ut,St,qe,!1)}function ic(e,n,r){var o=Ct;Ct|=2;var h=$p(),m=Jp();(Ut!==e||St!==n)&&(hl=null,Rs(e,n)),n=!1;var x=qt;t:do try{if(Mt!==0&&gt!==null){var v=gt,M=ke;switch(Mt){case 8:tc(),x=6;break t;case 3:case 2:case 9:case 6:Xe.current===null&&(n=!0);var U=Mt;if(Mt=0,ke=null,Bs(e,v,M,U),r&&Ts){x=0;break t}break;default:U=Mt,Mt=0,ke=null,Bs(e,v,M,U)}}P_(),x=qt;break}catch(Y){Kp(e,Y)}while(!0);return n&&e.shellSuspendCounter++,Mi=On=null,Ct=o,O.H=h,O.A=m,gt===null&&(Ut=null,St=0,kr()),x}function P_(){for(;gt!==null;)tm(gt)}function j_(e,n){var r=Ct;Ct|=2;var o=$p(),h=Jp();Ut!==e||St!==n?(hl=null,cl=Me()+500,Rs(e,n)):Ts=Ks(e,n);t:do try{if(Mt!==0&&gt!==null){n=gt;var m=ke;e:switch(Mt){case 1:Mt=0,ke=null,Bs(e,n,m,1);break;case 2:case 9:if(fd(m)){Mt=0,ke=null,em(n);break}n=function(){Mt!==2&&Mt!==9||Ut!==e||(Mt=7),mi(e)},m.then(n,n);break t;case 3:Mt=7;break t;case 4:Mt=5;break t;case 7:fd(m)?(Mt=0,ke=null,em(n)):(Mt=0,ke=null,Bs(e,n,m,7));break;case 5:var x=null;switch(gt.tag){case 26:x=gt.memoizedState;case 5:case 27:var v=gt;if(!x||Gm(x)){Mt=0,ke=null;var M=v.sibling;if(M!==null)gt=M;else{var U=v.return;U!==null?(gt=U,dl(U)):gt=null}break e}}Mt=0,ke=null,Bs(e,n,m,5);break;case 6:Mt=0,ke=null,Bs(e,n,m,6);break;case 8:tc(),qt=6;break t;default:throw Error(a(462))}}Y_();break}catch(Y){Kp(e,Y)}while(!0);return Mi=On=null,O.H=o,O.A=h,Ct=r,gt!==null?0:(Ut=null,St=0,kr(),qt)}function Y_(){for(;gt!==null&&!vi();)tm(gt)}function tm(e){var n=Mp(e.alternate,e,Ui);e.memoizedProps=e.pendingProps,n===null?dl(e):gt=n}function em(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=vp(r,n,n.pendingProps,n.type,void 0,St);break;case 11:n=vp(r,n,n.pendingProps,n.type.render,n.ref,St);break;case 5:yu(n);default:Rp(r,n),n=gt=id(n,Ui),n=Mp(r,n,Ui)}e.memoizedProps=e.pendingProps,n===null?dl(e):gt=n}function Bs(e,n,r,o){Mi=On=null,yu(n),vs=null,Ta=0;var h=n.return;try{if(z_(e,h,n,r,St)){qt=1,sl(e,je(r,e.current)),gt=null;return}}catch(m){if(h!==null)throw gt=h,m;qt=1,sl(e,je(r,e.current)),gt=null;return}n.flags&32768?(Tt||o===1?e=!0:Ts||(St&536870912)!==0?e=!1:(on=e=!0,(o===2||o===9||o===3||o===6)&&(o=Xe.current,o!==null&&o.tag===13&&(o.flags|=16384))),im(n,e)):dl(n)}function dl(e){var n=e;do{if((n.flags&32768)!==0){im(n,on);return}e=n.return;var r=D_(n.alternate,n,Ui);if(r!==null){gt=r;return}if(n=n.sibling,n!==null){gt=n;return}gt=n=e}while(n!==null);qt===0&&(qt=5)}function im(e,n){do{var r=k_(e.alternate,e);if(r!==null){r.flags&=32767,gt=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){gt=e;return}gt=e=r}while(e!==null);qt=6,gt=null}function nm(e,n,r,o,h,m,x,v,M){e.cancelPendingCommit=null;do pl();while(oe!==0);if((Ct&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(m=n.lanes|n.childLanes,m|=qo,bx(e,r,m,x,v,M),e===Ut&&(gt=Ut=null,St=0),Ms=n,hn=e,Es=r,Ku=m,$u=h,Ip=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,q_(_r,function(){return om(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=O.T,O.T=null,h=X.p,X.p=2,x=Ct,Ct|=4;try{U_(e,n,r)}finally{Ct=x,X.p=h,O.T=o}}oe=1,sm(),am(),rm()}}function sm(){if(oe===1){oe=0;var e=hn,n=Ms,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=O.T,O.T=null;var o=X.p;X.p=2;var h=Ct;Ct|=4;try{Pp(n,e);var m=pc,x=qf(e.containerInfo),v=m.focusedElem,M=m.selectionRange;if(x!==v&&v&&v.ownerDocument&&Xf(v.ownerDocument.documentElement,v)){if(M!==null&&jo(v)){var U=M.start,Y=M.end;if(Y===void 0&&(Y=U),"selectionStart"in v)v.selectionStart=U,v.selectionEnd=Math.min(Y,v.value.length);else{var q=v.ownerDocument||document,G=q&&q.defaultView||window;if(G.getSelection){var L=G.getSelection(),ct=v.textContent.length,lt=Math.min(M.start,ct),zt=M.end===void 0?lt:Math.min(M.end,ct);!L.extend&&lt>zt&&(x=zt,zt=lt,lt=x);var z=Vf(v,lt),B=Vf(v,zt);if(z&&B&&(L.rangeCount!==1||L.anchorNode!==z.node||L.anchorOffset!==z.offset||L.focusNode!==B.node||L.focusOffset!==B.offset)){var k=q.createRange();k.setStart(z.node,z.offset),L.removeAllRanges(),lt>zt?(L.addRange(k),L.extend(B.node,B.offset)):(k.setEnd(B.node,B.offset),L.addRange(k))}}}}for(q=[],L=v;L=L.parentNode;)L.nodeType===1&&q.push({element:L,left:L.scrollLeft,top:L.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<q.length;v++){var V=q[v];V.element.scrollLeft=V.left,V.element.scrollTop=V.top}}Cl=!!dc,pc=dc=null}finally{Ct=h,X.p=o,O.T=r}}e.current=n,oe=2}}function am(){if(oe===2){oe=0;var e=hn,n=Ms,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=O.T,O.T=null;var o=X.p;X.p=2;var h=Ct;Ct|=4;try{Gp(e,n.alternate,n)}finally{Ct=h,X.p=o,O.T=r}}oe=3}}function rm(){if(oe===4||oe===3){oe=0,mo();var e=hn,n=Ms,r=Es,o=Ip;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?oe=5:(oe=0,Ms=hn=null,lm(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(cn=null),bo(r),n=n.stateNode,Ee&&typeof Ee.onCommitFiberRoot=="function")try{Ee.onCommitFiberRoot(Qs,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=O.T,h=X.p,X.p=2,O.T=null;try{for(var m=e.onRecoverableError,x=0;x<o.length;x++){var v=o[x];m(v.value,{componentStack:v.stack})}}finally{O.T=n,X.p=h}}(Es&3)!==0&&pl(),mi(e),h=e.pendingLanes,(r&4194090)!==0&&(h&42)!==0?e===Ju?ka++:(ka=0,Ju=e):ka=0,Ua(0)}}function lm(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,pa(n)))}function pl(e){return sm(),am(),rm(),om()}function om(){if(oe!==5)return!1;var e=hn,n=Ku;Ku=0;var r=bo(Es),o=O.T,h=X.p;try{X.p=32>r?32:r,O.T=null,r=$u,$u=null;var m=hn,x=Es;if(oe=0,Ms=hn=null,Es=0,(Ct&6)!==0)throw Error(a(331));var v=Ct;if(Ct|=4,Xp(m.current),Yp(m,m.current,x,r),Ct=v,Ua(0,!1),Ee&&typeof Ee.onPostCommitFiberRoot=="function")try{Ee.onPostCommitFiberRoot(Qs,m)}catch{}return!0}finally{X.p=h,O.T=o,lm(e,n)}}function um(e,n,r){n=je(r,n),n=zu(e.stateNode,n,2),e=tn(e,n,2),e!==null&&($s(e,2),mi(e))}function kt(e,n,r){if(e.tag===3)um(e,e,r);else for(;n!==null;){if(n.tag===3){um(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(cn===null||!cn.has(o))){e=je(r,e),r=dp(2),o=tn(n,r,2),o!==null&&(pp(r,o,n,e),$s(o,2),mi(o));break}}n=n.return}}function nc(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new H_;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(Iu=!0,h.add(r),e=F_.bind(null,e,n,r),n.then(e,e))}function F_(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Ut===e&&(St&r)===r&&(qt===4||qt===3&&(St&62914560)===St&&300>Me()-Qu?(Ct&2)===0&&Rs(e,0):Wu|=r,Cs===St&&(Cs=0)),mi(e)}function cm(e,n){n===0&&(n=rf()),e=hs(e,n),e!==null&&($s(e,n),mi(e))}function V_(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),cm(e,r)}function X_(e,n){var r=0;switch(e.tag){case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),cm(e,r)}function q_(e,n){return Je(e,n)}var ml=null,zs=null,sc=!1,gl=!1,ac=!1,Nn=0;function mi(e){e!==zs&&e.next===null&&(zs===null?ml=zs=e:zs=zs.next=e),gl=!0,sc||(sc=!0,W_())}function Ua(e,n){if(!ac&&gl){ac=!0;do for(var r=!1,o=ml;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var m=0;else{var x=o.suspendedLanes,v=o.pingedLanes;m=(1<<31-Re(42|e)+1)-1,m&=h&~(x&~v),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(r=!0,pm(o,m))}else m=St,m=Sr(o,o===Ut?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(m&3)===0||Ks(o,m)||(r=!0,pm(o,m));o=o.next}while(r);ac=!1}}function I_(){hm()}function hm(){gl=sc=!1;var e=0;Nn!==0&&(ib()&&(e=Nn),Nn=0);for(var n=Me(),r=null,o=ml;o!==null;){var h=o.next,m=fm(o,n);m===0?(o.next=null,r===null?ml=h:r.next=h,h===null&&(zs=r)):(r=o,(e!==0||(m&3)!==0)&&(gl=!0)),o=h}Ua(e)}function fm(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var x=31-Re(m),v=1<<x,M=h[x];M===-1?((v&r)===0||(v&o)!==0)&&(h[x]=_x(v,n)):M<=n&&(e.expiredLanes|=v),m&=~v}if(n=Ut,r=St,r=Sr(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(Mt===2||Mt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ti(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Ks(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&ti(o),bo(r)){case 2:case 8:r=nf;break;case 32:r=_r;break;case 268435456:r=sf;break;default:r=_r}return o=dm.bind(null,e),r=Je(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&ti(o),e.callbackPriority=2,e.callbackNode=null,2}function dm(e,n){if(oe!==0&&oe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(pl()&&e.callbackNode!==r)return null;var o=St;return o=Sr(e,e===Ut?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Zp(e,o,n),fm(e,Me()),e.callbackNode!=null&&e.callbackNode===r?dm.bind(null,e):null)}function pm(e,n){if(pl())return null;Zp(e,n,!0)}function W_(){sb(function(){(Ct&6)!==0?Je(yo,I_):hm()})}function rc(){return Nn===0&&(Nn=af()),Nn}function mm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Mr(""+e)}function gm(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function Z_(e,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var m=mm((h[_e]||null).action),x=o.submitter;x&&(n=(n=x[_e]||null)?mm(n.formAction):x.getAttribute("formAction"),n!==null&&(m=n,x=null));var v=new zr("action","action",null,o,h);e.push({event:v,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Nn!==0){var M=x?gm(h,x):new FormData(h);Cu(r,{pending:!0,data:M,method:h.method,action:m},null,M)}}else typeof m=="function"&&(v.preventDefault(),M=x?gm(h,x):new FormData(h),Cu(r,{pending:!0,data:M,method:h.method,action:m},m,M))},currentTarget:h}]})}}for(var lc=0;lc<Xo.length;lc++){var oc=Xo[lc],Q_=oc.toLowerCase(),K_=oc[0].toUpperCase()+oc.slice(1);ei(Q_,"on"+K_)}ei(Zf,"onAnimationEnd"),ei(Qf,"onAnimationIteration"),ei(Kf,"onAnimationStart"),ei("dblclick","onDoubleClick"),ei("focusin","onFocus"),ei("focusout","onBlur"),ei(p_,"onTransitionRun"),ei(m_,"onTransitionStart"),ei(g_,"onTransitionCancel"),ei($f,"onTransitionEnd"),es("onMouseEnter",["mouseout","mouseover"]),es("onMouseLeave",["mouseout","mouseover"]),es("onPointerEnter",["pointerout","pointerover"]),es("onPointerLeave",["pointerout","pointerover"]),An("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),An("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),An("onBeforeInput",["compositionend","keypress","textInput","paste"]),An("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),An("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),An("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ga="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ga));function ym(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],h=o.event;o=o.listeners;t:{var m=void 0;if(n)for(var x=o.length-1;0<=x;x--){var v=o[x],M=v.instance,U=v.currentTarget;if(v=v.listener,M!==m&&h.isPropagationStopped())break t;m=v,h.currentTarget=U;try{m(h)}catch(Y){nl(Y)}h.currentTarget=null,m=M}else for(x=0;x<o.length;x++){if(v=o[x],M=v.instance,U=v.currentTarget,v=v.listener,M!==m&&h.isPropagationStopped())break t;m=v,h.currentTarget=U;try{m(h)}catch(Y){nl(Y)}h.currentTarget=null,m=M}}}}function yt(e,n){var r=n[vo];r===void 0&&(r=n[vo]=new Set);var o=e+"__bubble";r.has(o)||(xm(n,e,2,!1),r.add(o))}function uc(e,n,r){var o=0;n&&(o|=4),xm(r,e,o,n)}var yl="_reactListening"+Math.random().toString(36).slice(2);function cc(e){if(!e[yl]){e[yl]=!0,hf.forEach(function(r){r!=="selectionchange"&&($_.has(r)||uc(r,!1,e),uc(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[yl]||(n[yl]=!0,uc("selectionchange",!1,n))}}function xm(e,n,r,o){switch(Ym(n)){case 2:var h=Tb;break;case 8:h=Cb;break;default:h=wc}r=h.bind(null,n,r,e),h=void 0,!Oo||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function hc(e,n,r,o,h){var m=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var x=o.tag;if(x===3||x===4){var v=o.stateNode.containerInfo;if(v===h)break;if(x===4)for(x=o.return;x!==null;){var M=x.tag;if((M===3||M===4)&&x.stateNode.containerInfo===h)return;x=x.return}for(;v!==null;){if(x=$n(v),x===null)return;if(M=x.tag,M===5||M===6||M===26||M===27){o=m=x;continue t}v=v.parentNode}}o=o.return}Tf(function(){var U=m,Y=Bo(r),q=[];t:{var G=Jf.get(e);if(G!==void 0){var L=zr,ct=e;switch(e){case"keypress":if(Rr(r)===0)break t;case"keydown":case"keyup":L=qx;break;case"focusin":ct="focus",L=Go;break;case"focusout":ct="blur",L=Go;break;case"beforeblur":case"afterblur":L=Go;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=Ef;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=kx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=Zx;break;case Zf:case Qf:case Kf:L=Lx;break;case $f:L=Kx;break;case"scroll":case"scrollend":L=Ox;break;case"wheel":L=Jx;break;case"copy":case"cut":case"paste":L=Nx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=Bf;break;case"toggle":case"beforetoggle":L=e_}var lt=(n&4)!==0,zt=!lt&&(e==="scroll"||e==="scrollend"),z=lt?G!==null?G+"Capture":null:G;lt=[];for(var B=U,k;B!==null;){var V=B;if(k=V.stateNode,V=V.tag,V!==5&&V!==26&&V!==27||k===null||z===null||(V=ea(B,z),V!=null&&lt.push(La(B,V,k))),zt)break;B=B.return}0<lt.length&&(G=new L(G,ct,null,r,Y),q.push({event:G,listeners:lt}))}}if((n&7)===0){t:{if(G=e==="mouseover"||e==="pointerover",L=e==="mouseout"||e==="pointerout",G&&r!==Ro&&(ct=r.relatedTarget||r.fromElement)&&($n(ct)||ct[Kn]))break t;if((L||G)&&(G=Y.window===Y?Y:(G=Y.ownerDocument)?G.defaultView||G.parentWindow:window,L?(ct=r.relatedTarget||r.toElement,L=U,ct=ct?$n(ct):null,ct!==null&&(zt=u(ct),lt=ct.tag,ct!==zt||lt!==5&&lt!==27&&lt!==6)&&(ct=null)):(L=null,ct=U),L!==ct)){if(lt=Ef,V="onMouseLeave",z="onMouseEnter",B="mouse",(e==="pointerout"||e==="pointerover")&&(lt=Bf,V="onPointerLeave",z="onPointerEnter",B="pointer"),zt=L==null?G:ta(L),k=ct==null?G:ta(ct),G=new lt(V,B+"leave",L,r,Y),G.target=zt,G.relatedTarget=k,V=null,$n(Y)===U&&(lt=new lt(z,B+"enter",ct,r,Y),lt.target=k,lt.relatedTarget=zt,V=lt),zt=V,L&&ct)e:{for(lt=L,z=ct,B=0,k=lt;k;k=Os(k))B++;for(k=0,V=z;V;V=Os(V))k++;for(;0<B-k;)lt=Os(lt),B--;for(;0<k-B;)z=Os(z),k--;for(;B--;){if(lt===z||z!==null&&lt===z.alternate)break e;lt=Os(lt),z=Os(z)}lt=null}else lt=null;L!==null&&_m(q,G,L,lt,!1),ct!==null&&zt!==null&&_m(q,zt,ct,lt,!0)}}t:{if(G=U?ta(U):window,L=G.nodeName&&G.nodeName.toLowerCase(),L==="select"||L==="input"&&G.type==="file")var tt=Hf;else if(Gf(G))if(Nf)tt=h_;else{tt=u_;var pt=o_}else L=G.nodeName,!L||L.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?U&&Eo(U.elementType)&&(tt=Hf):tt=c_;if(tt&&(tt=tt(e,U))){Lf(q,tt,r,Y);break t}pt&&pt(e,G,U),e==="focusout"&&U&&G.type==="number"&&U.memoizedProps.value!=null&&Mo(G,"number",G.value)}switch(pt=U?ta(U):window,e){case"focusin":(Gf(pt)||pt.contentEditable==="true")&&(os=pt,Yo=U,ua=null);break;case"focusout":ua=Yo=os=null;break;case"mousedown":Fo=!0;break;case"contextmenu":case"mouseup":case"dragend":Fo=!1,If(q,r,Y);break;case"selectionchange":if(d_)break;case"keydown":case"keyup":If(q,r,Y)}var et;if(Ho)t:{switch(e){case"compositionstart":var ut="onCompositionStart";break t;case"compositionend":ut="onCompositionEnd";break t;case"compositionupdate":ut="onCompositionUpdate";break t}ut=void 0}else ls?kf(e,r)&&(ut="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(ut="onCompositionStart");ut&&(zf&&r.locale!=="ko"&&(ls||ut!=="onCompositionStart"?ut==="onCompositionEnd"&&ls&&(et=Cf()):(Qi=Y,Do="value"in Qi?Qi.value:Qi.textContent,ls=!0)),pt=xl(U,ut),0<pt.length&&(ut=new Rf(ut,e,null,r,Y),q.push({event:ut,listeners:pt}),et?ut.data=et:(et=Uf(r),et!==null&&(ut.data=et)))),(et=n_?s_(e,r):a_(e,r))&&(ut=xl(U,"onBeforeInput"),0<ut.length&&(pt=new Rf("onBeforeInput","beforeinput",null,r,Y),q.push({event:pt,listeners:ut}),pt.data=et)),Z_(q,e,U,r,Y)}ym(q,n)})}function La(e,n,r){return{instance:e,listener:n,currentTarget:r}}function xl(e,n){for(var r=n+"Capture",o=[];e!==null;){var h=e,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=ea(e,r),h!=null&&o.unshift(La(e,h,m)),h=ea(e,n),h!=null&&o.push(La(e,h,m))),e.tag===3)return o;e=e.return}return[]}function Os(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function _m(e,n,r,o,h){for(var m=n._reactName,x=[];r!==null&&r!==o;){var v=r,M=v.alternate,U=v.stateNode;if(v=v.tag,M!==null&&M===o)break;v!==5&&v!==26&&v!==27||U===null||(M=U,h?(U=ea(r,m),U!=null&&x.unshift(La(r,U,M))):h||(U=ea(r,m),U!=null&&x.push(La(r,U,M)))),r=r.return}x.length!==0&&e.push({event:n,listeners:x})}var J_=/\r\n?/g,tb=/\u0000|\uFFFD/g;function bm(e){return(typeof e=="string"?e:""+e).replace(J_,`
`).replace(tb,"")}function vm(e,n){return n=bm(n),bm(e)===n}function _l(){}function Bt(e,n,r,o,h,m){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||ss(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&ss(e,""+o);break;case"className":wr(e,"class",o);break;case"tabIndex":wr(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":wr(e,r,o);break;case"style":Af(e,o,m);break;case"data":if(n!=="object"){wr(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=Mr(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(r==="formAction"?(n!=="input"&&Bt(e,n,"name",h.name,h,null),Bt(e,n,"formEncType",h.formEncType,h,null),Bt(e,n,"formMethod",h.formMethod,h,null),Bt(e,n,"formTarget",h.formTarget,h,null)):(Bt(e,n,"encType",h.encType,h,null),Bt(e,n,"method",h.method,h,null),Bt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=Mr(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=_l);break;case"onScroll":o!=null&&yt("scroll",e);break;case"onScrollEnd":o!=null&&yt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=Mr(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":yt("beforetoggle",e),yt("toggle",e),Ar(e,"popover",o);break;case"xlinkActuate":Si(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Si(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Si(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Si(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Si(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Si(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Si(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Si(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Si(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Ar(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Bx.get(r)||r,Ar(e,r,o))}}function fc(e,n,r,o,h,m){switch(r){case"style":Af(e,o,m);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof o=="string"?ss(e,o):(typeof o=="number"||typeof o=="bigint")&&ss(e,""+o);break;case"onScroll":o!=null&&yt("scroll",e);break;case"onScrollEnd":o!=null&&yt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=_l);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ff.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),m=e[_e]||null,m=m!=null?m[r]:null,typeof m=="function"&&e.removeEventListener(n,m,h),typeof o=="function")){typeof m!="function"&&m!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,h);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):Ar(e,r,o)}}}function ue(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":yt("error",e),yt("load",e);var o=!1,h=!1,m;for(m in r)if(r.hasOwnProperty(m)){var x=r[m];if(x!=null)switch(m){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Bt(e,n,m,x,r,null)}}h&&Bt(e,n,"srcSet",r.srcSet,r,null),o&&Bt(e,n,"src",r.src,r,null);return;case"input":yt("invalid",e);var v=m=x=h=null,M=null,U=null;for(o in r)if(r.hasOwnProperty(o)){var Y=r[o];if(Y!=null)switch(o){case"name":h=Y;break;case"type":x=Y;break;case"checked":M=Y;break;case"defaultChecked":U=Y;break;case"value":m=Y;break;case"defaultValue":v=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(a(137,n));break;default:Bt(e,n,o,Y,r,null)}}_f(e,m,v,M,U,x,h,!1),Tr(e);return;case"select":yt("invalid",e),o=x=m=null;for(h in r)if(r.hasOwnProperty(h)&&(v=r[h],v!=null))switch(h){case"value":m=v;break;case"defaultValue":x=v;break;case"multiple":o=v;default:Bt(e,n,h,v,r,null)}n=m,r=x,e.multiple=!!o,n!=null?ns(e,!!o,n,!1):r!=null&&ns(e,!!o,r,!0);return;case"textarea":yt("invalid",e),m=h=o=null;for(x in r)if(r.hasOwnProperty(x)&&(v=r[x],v!=null))switch(x){case"value":o=v;break;case"defaultValue":h=v;break;case"children":m=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(a(91));break;default:Bt(e,n,x,v,r,null)}vf(e,o,h,m),Tr(e);return;case"option":for(M in r)if(r.hasOwnProperty(M)&&(o=r[M],o!=null))switch(M){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Bt(e,n,M,o,r,null)}return;case"dialog":yt("beforetoggle",e),yt("toggle",e),yt("cancel",e),yt("close",e);break;case"iframe":case"object":yt("load",e);break;case"video":case"audio":for(o=0;o<Ga.length;o++)yt(Ga[o],e);break;case"image":yt("error",e),yt("load",e);break;case"details":yt("toggle",e);break;case"embed":case"source":case"link":yt("error",e),yt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in r)if(r.hasOwnProperty(U)&&(o=r[U],o!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Bt(e,n,U,o,r,null)}return;default:if(Eo(n)){for(Y in r)r.hasOwnProperty(Y)&&(o=r[Y],o!==void 0&&fc(e,n,Y,o,r,void 0));return}}for(v in r)r.hasOwnProperty(v)&&(o=r[v],o!=null&&Bt(e,n,v,o,r,null))}function eb(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,x=null,v=null,M=null,U=null,Y=null;for(L in r){var q=r[L];if(r.hasOwnProperty(L)&&q!=null)switch(L){case"checked":break;case"value":break;case"defaultValue":M=q;default:o.hasOwnProperty(L)||Bt(e,n,L,null,o,q)}}for(var G in o){var L=o[G];if(q=r[G],o.hasOwnProperty(G)&&(L!=null||q!=null))switch(G){case"type":m=L;break;case"name":h=L;break;case"checked":U=L;break;case"defaultChecked":Y=L;break;case"value":x=L;break;case"defaultValue":v=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(a(137,n));break;default:L!==q&&Bt(e,n,G,L,o,q)}}Co(e,x,v,M,U,Y,m,h);return;case"select":L=x=v=G=null;for(m in r)if(M=r[m],r.hasOwnProperty(m)&&M!=null)switch(m){case"value":break;case"multiple":L=M;default:o.hasOwnProperty(m)||Bt(e,n,m,null,o,M)}for(h in o)if(m=o[h],M=r[h],o.hasOwnProperty(h)&&(m!=null||M!=null))switch(h){case"value":G=m;break;case"defaultValue":v=m;break;case"multiple":x=m;default:m!==M&&Bt(e,n,h,m,o,M)}n=v,r=x,o=L,G!=null?ns(e,!!r,G,!1):!!o!=!!r&&(n!=null?ns(e,!!r,n,!0):ns(e,!!r,r?[]:"",!1));return;case"textarea":L=G=null;for(v in r)if(h=r[v],r.hasOwnProperty(v)&&h!=null&&!o.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Bt(e,n,v,null,o,h)}for(x in o)if(h=o[x],m=r[x],o.hasOwnProperty(x)&&(h!=null||m!=null))switch(x){case"value":G=h;break;case"defaultValue":L=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==m&&Bt(e,n,x,h,o,m)}bf(e,G,L);return;case"option":for(var ct in r)if(G=r[ct],r.hasOwnProperty(ct)&&G!=null&&!o.hasOwnProperty(ct))switch(ct){case"selected":e.selected=!1;break;default:Bt(e,n,ct,null,o,G)}for(M in o)if(G=o[M],L=r[M],o.hasOwnProperty(M)&&G!==L&&(G!=null||L!=null))switch(M){case"selected":e.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Bt(e,n,M,G,o,L)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var lt in r)G=r[lt],r.hasOwnProperty(lt)&&G!=null&&!o.hasOwnProperty(lt)&&Bt(e,n,lt,null,o,G);for(U in o)if(G=o[U],L=r[U],o.hasOwnProperty(U)&&G!==L&&(G!=null||L!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:Bt(e,n,U,G,o,L)}return;default:if(Eo(n)){for(var zt in r)G=r[zt],r.hasOwnProperty(zt)&&G!==void 0&&!o.hasOwnProperty(zt)&&fc(e,n,zt,void 0,o,G);for(Y in o)G=o[Y],L=r[Y],!o.hasOwnProperty(Y)||G===L||G===void 0&&L===void 0||fc(e,n,Y,G,o,L);return}}for(var z in r)G=r[z],r.hasOwnProperty(z)&&G!=null&&!o.hasOwnProperty(z)&&Bt(e,n,z,null,o,G);for(q in o)G=o[q],L=r[q],!o.hasOwnProperty(q)||G===L||G==null&&L==null||Bt(e,n,q,G,o,L)}var dc=null,pc=null;function bl(e){return e.nodeType===9?e:e.ownerDocument}function Sm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Am(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function mc(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var gc=null;function ib(){var e=window.event;return e&&e.type==="popstate"?e===gc?!1:(gc=e,!0):(gc=null,!1)}var wm=typeof setTimeout=="function"?setTimeout:void 0,nb=typeof clearTimeout=="function"?clearTimeout:void 0,Tm=typeof Promise=="function"?Promise:void 0,sb=typeof queueMicrotask=="function"?queueMicrotask:typeof Tm<"u"?function(e){return Tm.resolve(null).then(e).catch(ab)}:wm;function ab(e){setTimeout(function(){throw e})}function dn(e){return e==="head"}function Cm(e,n){var r=n,o=0,h=0;do{var m=r.nextSibling;if(e.removeChild(r),m&&m.nodeType===8)if(r=m.data,r==="/$"){if(0<o&&8>o){r=o;var x=e.ownerDocument;if(r&1&&Ha(x.documentElement),r&2&&Ha(x.body),r&4)for(r=x.head,Ha(r),x=r.firstChild;x;){var v=x.nextSibling,M=x.nodeName;x[Js]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&x.rel.toLowerCase()==="stylesheet"||r.removeChild(x),x=v}}if(h===0){e.removeChild(m),qa(n);return}h--}else r==="$"||r==="$?"||r==="$!"?h++:o=r.charCodeAt(0)-48;else o=0;r=m}while(r);qa(n)}function yc(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":yc(r),So(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function rb(e,n,r,o){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Js])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=ni(e.nextSibling),e===null)break}return null}function lb(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=ni(e.nextSibling),e===null))return null;return e}function xc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function ob(e,n){var r=e.ownerDocument;if(e.data!=="$?"||r.readyState==="complete")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function ni(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var _c=null;function Mm(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return e;n--}else r==="/$"&&n++}e=e.previousSibling}return null}function Em(e,n,r){switch(n=bl(r),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Ha(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);So(e)}var Ie=new Map,Rm=new Set;function vl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Gi=X.d;X.d={f:ub,r:cb,D:hb,C:fb,L:db,m:pb,X:gb,S:mb,M:yb};function ub(){var e=Gi.f(),n=fl();return e||n}function cb(e){var n=Jn(e);n!==null&&n.tag===5&&n.type==="form"?Zd(n):Gi.r(e)}var Ds=typeof document>"u"?null:document;function Bm(e,n,r){var o=Ds;if(o&&typeof n=="string"&&n){var h=Pe(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),Rm.has(h)||(Rm.add(h),e={rel:e,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),ue(n,"link",e),ie(n),o.head.appendChild(n)))}}function hb(e){Gi.D(e),Bm("dns-prefetch",e,null)}function fb(e,n){Gi.C(e,n),Bm("preconnect",e,n)}function db(e,n,r){Gi.L(e,n,r);var o=Ds;if(o&&e&&n){var h='link[rel="preload"][as="'+Pe(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+Pe(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+Pe(r.imageSizes)+'"]')):h+='[href="'+Pe(e)+'"]';var m=h;switch(n){case"style":m=ks(e);break;case"script":m=Us(e)}Ie.has(m)||(e=g({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),Ie.set(m,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(Na(m))||n==="script"&&o.querySelector(Pa(m))||(n=o.createElement("link"),ue(n,"link",e),ie(n),o.head.appendChild(n)))}}function pb(e,n){Gi.m(e,n);var r=Ds;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Pe(o)+'"][href="'+Pe(e)+'"]',m=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Us(e)}if(!Ie.has(m)&&(e=g({rel:"modulepreload",href:e},n),Ie.set(m,e),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Pa(m)))return}o=r.createElement("link"),ue(o,"link",e),ie(o),r.head.appendChild(o)}}}function mb(e,n,r){Gi.S(e,n,r);var o=Ds;if(o&&e){var h=ts(o).hoistableStyles,m=ks(e);n=n||"default";var x=h.get(m);if(!x){var v={loading:0,preload:null};if(x=o.querySelector(Na(m)))v.loading=5;else{e=g({rel:"stylesheet",href:e,"data-precedence":n},r),(r=Ie.get(m))&&bc(e,r);var M=x=o.createElement("link");ie(M),ue(M,"link",e),M._p=new Promise(function(U,Y){M.onload=U,M.onerror=Y}),M.addEventListener("load",function(){v.loading|=1}),M.addEventListener("error",function(){v.loading|=2}),v.loading|=4,Sl(x,n,o)}x={type:"stylesheet",instance:x,count:1,state:v},h.set(m,x)}}}function gb(e,n){Gi.X(e,n);var r=Ds;if(r&&e){var o=ts(r).hoistableScripts,h=Us(e),m=o.get(h);m||(m=r.querySelector(Pa(h)),m||(e=g({src:e,async:!0},n),(n=Ie.get(h))&&vc(e,n),m=r.createElement("script"),ie(m),ue(m,"link",e),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(h,m))}}function yb(e,n){Gi.M(e,n);var r=Ds;if(r&&e){var o=ts(r).hoistableScripts,h=Us(e),m=o.get(h);m||(m=r.querySelector(Pa(h)),m||(e=g({src:e,async:!0,type:"module"},n),(n=Ie.get(h))&&vc(e,n),m=r.createElement("script"),ie(m),ue(m,"link",e),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(h,m))}}function zm(e,n,r,o){var h=(h=ot.current)?vl(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=ks(r.href),r=ts(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=ks(r.href);var m=ts(h).hoistableStyles,x=m.get(e);if(x||(h=h.ownerDocument||h,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,x),(m=h.querySelector(Na(e)))&&!m._p&&(x.instance=m,x.state.loading=5),Ie.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Ie.set(e,r),m||xb(h,e,r,x.state))),n&&o===null)throw Error(a(528,""));return x}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Us(r),r=ts(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function ks(e){return'href="'+Pe(e)+'"'}function Na(e){return'link[rel="stylesheet"]['+e+"]"}function Om(e){return g({},e,{"data-precedence":e.precedence,precedence:null})}function xb(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),ue(n,"link",r),ie(n),e.head.appendChild(n))}function Us(e){return'[src="'+Pe(e)+'"]'}function Pa(e){return"script[async]"+e}function Dm(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+Pe(r.href)+'"]');if(o)return n.instance=o,ie(o),o;var h=g({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ie(o),ue(o,"style",h),Sl(o,r.precedence,e),n.instance=o;case"stylesheet":h=ks(r.href);var m=e.querySelector(Na(h));if(m)return n.state.loading|=4,n.instance=m,ie(m),m;o=Om(r),(h=Ie.get(h))&&bc(o,h),m=(e.ownerDocument||e).createElement("link"),ie(m);var x=m;return x._p=new Promise(function(v,M){x.onload=v,x.onerror=M}),ue(m,"link",o),n.state.loading|=4,Sl(m,r.precedence,e),n.instance=m;case"script":return m=Us(r.src),(h=e.querySelector(Pa(m)))?(n.instance=h,ie(h),h):(o=r,(h=Ie.get(m))&&(o=g({},r),vc(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),ie(h),ue(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Sl(o,r.precedence,e));return n.instance}function Sl(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,m=h,x=0;x<o.length;x++){var v=o[x];if(v.dataset.precedence===n)m=v;else if(m!==h)break}m?m.parentNode.insertBefore(e,m.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function bc(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function vc(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Al=null;function km(e,n,r){if(Al===null){var o=new Map,h=Al=new Map;h.set(r,o)}else h=Al,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var m=r[h];if(!(m[Js]||m[de]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var x=m.getAttribute(n)||"";x=e+x;var v=o.get(x);v?v.push(m):o.set(x,[m])}}return o}function Um(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function _b(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Gm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var ja=null;function bb(){}function vb(e,n,r){if(ja===null)throw Error(a(475));var o=ja;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var h=ks(r.href),m=e.querySelector(Na(h));if(m){e=m._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=wl.bind(o),e.then(o,o)),n.state.loading|=4,n.instance=m,ie(m);return}m=e.ownerDocument||e,r=Om(r),(h=Ie.get(h))&&bc(r,h),m=m.createElement("link"),ie(m);var x=m;x._p=new Promise(function(v,M){x.onload=v,x.onerror=M}),ue(m,"link",r),n.instance=m}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=wl.bind(o),e.addEventListener("load",n),e.addEventListener("error",n))}}function Sb(){if(ja===null)throw Error(a(475));var e=ja;return e.stylesheets&&e.count===0&&Sc(e,e.stylesheets),0<e.count?function(n){var r=setTimeout(function(){if(e.stylesheets&&Sc(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r)}}:null}function wl(){if(this.count--,this.count===0){if(this.stylesheets)Sc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Tl=null;function Sc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Tl=new Map,n.forEach(Ab,e),Tl=null,wl.call(e))}function Ab(e,n){if(!(n.state.loading&4)){var r=Tl.get(e);if(r)var o=r.get(null);else{r=new Map,Tl.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var x=h[m];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(r.set(x.dataset.precedence,x),o=x)}o&&r.set(null,o)}h=n.instance,x=h.getAttribute("data-precedence"),m=r.get(x)||o,m===o&&r.set(null,h),r.set(x,h),this.count++,o=wl.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),m?m.parentNode.insertBefore(h,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var Ya={$$typeof:E,Provider:null,Consumer:null,_currentValue:rt,_currentValue2:rt,_threadCount:0};function wb(e,n,r,o,h,m,x,v){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xo(0),this.hiddenUpdates=xo(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=v,this.incompleteTransitions=new Map}function Lm(e,n,r,o,h,m,x,v,M,U,Y,q){return e=new wb(e,n,r,x,v,M,U,q),n=1,m===!0&&(n|=24),m=ze(3,null,null,n),e.current=m,m.stateNode=e,n=nu(),n.refCount++,e.pooledCache=n,n.refCount++,m.memoizedState={element:o,isDehydrated:r,cache:n},lu(m),e}function Hm(e){return e?(e=fs,e):fs}function Nm(e,n,r,o,h,m){h=Hm(h),o.context===null?o.context=h:o.pendingContext=h,o=Ji(n),o.payload={element:r},m=m===void 0?null:m,m!==null&&(o.callback=m),r=tn(e,o,n),r!==null&&(Ge(r,e,n),xa(r,e,n))}function Pm(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function Ac(e,n){Pm(e,n),(e=e.alternate)&&Pm(e,n)}function jm(e){if(e.tag===13){var n=hs(e,67108864);n!==null&&Ge(n,e,67108864),Ac(e,67108864)}}var Cl=!0;function Tb(e,n,r,o){var h=O.T;O.T=null;var m=X.p;try{X.p=2,wc(e,n,r,o)}finally{X.p=m,O.T=h}}function Cb(e,n,r,o){var h=O.T;O.T=null;var m=X.p;try{X.p=8,wc(e,n,r,o)}finally{X.p=m,O.T=h}}function wc(e,n,r,o){if(Cl){var h=Tc(o);if(h===null)hc(e,n,o,Ml,r),Fm(e,o);else if(Eb(h,e,n,r,o))o.stopPropagation();else if(Fm(e,o),n&4&&-1<Mb.indexOf(e)){for(;h!==null;){var m=Jn(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var x=Sn(m.pendingLanes);if(x!==0){var v=m;for(v.pendingLanes|=2,v.entangledLanes|=2;x;){var M=1<<31-Re(x);v.entanglements[1]|=M,x&=~M}mi(m),(Ct&6)===0&&(cl=Me()+500,Ua(0))}}break;case 13:v=hs(m,2),v!==null&&Ge(v,m,2),fl(),Ac(m,2)}if(m=Tc(o),m===null&&hc(e,n,o,Ml,r),m===h)break;h=m}h!==null&&o.stopPropagation()}else hc(e,n,o,null,r)}}function Tc(e){return e=Bo(e),Cc(e)}var Ml=null;function Cc(e){if(Ml=null,e=$n(e),e!==null){var n=u(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=c(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ml=e,null}function Ym(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(go()){case yo:return 2;case nf:return 8;case _r:case dx:return 32;case sf:return 268435456;default:return 32}default:return 32}}var Mc=!1,pn=null,mn=null,gn=null,Fa=new Map,Va=new Map,yn=[],Mb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Fm(e,n){switch(e){case"focusin":case"focusout":pn=null;break;case"dragenter":case"dragleave":mn=null;break;case"mouseover":case"mouseout":gn=null;break;case"pointerover":case"pointerout":Fa.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Va.delete(n.pointerId)}}function Xa(e,n,r,o,h,m){return e===null||e.nativeEvent!==m?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:m,targetContainers:[h]},n!==null&&(n=Jn(n),n!==null&&jm(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function Eb(e,n,r,o,h){switch(n){case"focusin":return pn=Xa(pn,e,n,r,o,h),!0;case"dragenter":return mn=Xa(mn,e,n,r,o,h),!0;case"mouseover":return gn=Xa(gn,e,n,r,o,h),!0;case"pointerover":var m=h.pointerId;return Fa.set(m,Xa(Fa.get(m)||null,e,n,r,o,h)),!0;case"gotpointercapture":return m=h.pointerId,Va.set(m,Xa(Va.get(m)||null,e,n,r,o,h)),!0}return!1}function Vm(e){var n=$n(e.target);if(n!==null){var r=u(n);if(r!==null){if(n=r.tag,n===13){if(n=c(r),n!==null){e.blockedOn=n,vx(e.priority,function(){if(r.tag===13){var o=Ue();o=_o(o);var h=hs(r,o);h!==null&&Ge(h,r,o),Ac(r,o)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function El(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=Tc(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);Ro=o,r.target.dispatchEvent(o),Ro=null}else return n=Jn(r),n!==null&&jm(n),e.blockedOn=r,!1;n.shift()}return!0}function Xm(e,n,r){El(e)&&r.delete(n)}function Rb(){Mc=!1,pn!==null&&El(pn)&&(pn=null),mn!==null&&El(mn)&&(mn=null),gn!==null&&El(gn)&&(gn=null),Fa.forEach(Xm),Va.forEach(Xm)}function Rl(e,n){e.blockedOn===n&&(e.blockedOn=null,Mc||(Mc=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Rb)))}var Bl=null;function qm(e){Bl!==e&&(Bl=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Bl===e&&(Bl=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Cc(o||r)===null)continue;break}var m=Jn(r);m!==null&&(e.splice(n,3),n-=3,Cu(m,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function qa(e){function n(M){return Rl(M,e)}pn!==null&&Rl(pn,e),mn!==null&&Rl(mn,e),gn!==null&&Rl(gn,e),Fa.forEach(n),Va.forEach(n);for(var r=0;r<yn.length;r++){var o=yn[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<yn.length&&(r=yn[0],r.blockedOn===null);)Vm(r),r.blockedOn===null&&yn.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],m=r[o+1],x=h[_e]||null;if(typeof m=="function")x||qm(r);else if(x){var v=null;if(m&&m.hasAttribute("formAction")){if(h=m,x=m[_e]||null)v=x.formAction;else if(Cc(h)!==null)continue}else v=x.action;typeof v=="function"?r[o+1]=v:(r.splice(o,3),o-=3),qm(r)}}}function Ec(e){this._internalRoot=e}zl.prototype.render=Ec.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=Ue();Nm(r,o,e,n,null,null)},zl.prototype.unmount=Ec.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Nm(e.current,2,null,e,null,null),fl(),n[Kn]=null}};function zl(e){this._internalRoot=e}zl.prototype.unstable_scheduleHydration=function(e){if(e){var n=uf();e={blockedOn:null,target:e,priority:n};for(var r=0;r<yn.length&&n!==0&&n<yn[r].priority;r++);yn.splice(r,0,e),r===0&&Vm(e)}};var Im=t.version;if(Im!=="19.1.1")throw Error(a(527,Im,"19.1.1"));X.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=d(n),e=e!==null?p(e):null,e=e===null?null:e.stateNode,e};var Bb={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ol=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ol.isDisabled&&Ol.supportsFiber)try{Qs=Ol.inject(Bb),Ee=Ol}catch{}}return Wa.createRoot=function(e,n){if(!l(e))throw Error(a(299));var r=!1,o="",h=up,m=cp,x=hp,v=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(x=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(v=n.unstable_transitionCallbacks)),n=Lm(e,1,!1,null,null,r,o,h,m,x,v,null),e[Kn]=n.current,cc(e),new Ec(n)},Wa.hydrateRoot=function(e,n,r){if(!l(e))throw Error(a(299));var o=!1,h="",m=up,x=cp,v=hp,M=null,U=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(x=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(M=r.unstable_transitionCallbacks),r.formState!==void 0&&(U=r.formState)),n=Lm(e,1,!0,n,r??null,o,h,m,x,v,M,U),n.context=Hm(null),r=n.current,o=Ue(),o=_o(o),h=Ji(o),h.callback=null,tn(r,h,o),r=o,n.current.lanes=r,$s(n,r),mi(n),e[Kn]=n.current,cc(e),new zl(n)},Wa.version="19.1.1",Wa}var ng;function Pb(){if(ng)return Bc.exports;ng=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Bc.exports=Nb(),Bc.exports}var jb=Pb(),P=kh();/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var sg="popstate";function Yb(s={}){function t(l,u){let{pathname:c="/",search:f="",hash:d=""}=Zn(l.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),fh("",{pathname:c,search:f,hash:d},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function i(l,u){let c=l.document.querySelector("base"),f="";if(c&&c.getAttribute("href")){let d=l.location.href,p=d.indexOf("#");f=p===-1?d:d.slice(0,p)}return f+"#"+(typeof u=="string"?u:cr(u))}function a(l,u){li(l.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return Vb(t,i,a,s)}function Vt(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function li(s,t){if(!s){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Fb(){return Math.random().toString(36).substring(2,10)}function ag(s,t){return{usr:s.state,key:s.key,idx:t}}function fh(s,t,i=null,a){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof t=="string"?Zn(t):t,state:i,key:t&&t.key||a||Fb()}}function cr({pathname:s="/",search:t="",hash:i=""}){return t&&t!=="?"&&(s+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(s+=i.charAt(0)==="#"?i:"#"+i),s}function Zn(s){let t={};if(s){let i=s.indexOf("#");i>=0&&(t.hash=s.substring(i),s=s.substring(0,i));let a=s.indexOf("?");a>=0&&(t.search=s.substring(a),s=s.substring(0,a)),s&&(t.pathname=s)}return t}function Vb(s,t,i,a={}){let{window:l=document.defaultView,v5Compat:u=!1}=a,c=l.history,f="POP",d=null,p=g();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function g(){return(c.state||{idx:null}).idx}function y(){f="POP";let S=g(),T=S==null?null:S-p;p=S,d&&d({action:f,location:w.location,delta:T})}function _(S,T){f="PUSH";let C=fh(w.location,S,T);i&&i(C,S),p=g()+1;let E=ag(C,p),D=w.createHref(C);try{c.pushState(E,"",D)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;l.location.assign(D)}u&&d&&d({action:f,location:w.location,delta:1})}function b(S,T){f="REPLACE";let C=fh(w.location,S,T);i&&i(C,S),p=g();let E=ag(C,p),D=w.createHref(C);c.replaceState(E,"",D),u&&d&&d({action:f,location:w.location,delta:0})}function A(S){return Xb(S)}let w={get action(){return f},get location(){return s(l,c)},listen(S){if(d)throw new Error("A history only accepts one active listener");return l.addEventListener(sg,y),d=S,()=>{l.removeEventListener(sg,y),d=null}},createHref(S){return t(l,S)},createURL:A,encodeLocation(S){let T=A(S);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:_,replace:b,go(S){return c.go(S)}};return w}function Xb(s,t=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),Vt(i,"No window.location.(origin|href) available to create URL");let a=typeof s=="string"?s:cr(s);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=i+a),new URL(a,i)}function Ey(s,t,i="/"){return qb(s,t,i,!1)}function qb(s,t,i,a){let l=typeof t=="string"?Zn(t):t,u=Yi(l.pathname||"/",i);if(u==null)return null;let c=Ry(s);Ib(c);let f=null;for(let d=0;f==null&&d<c.length;++d){let p=sv(u);f=iv(c[d],p,a)}return f}function Ry(s,t=[],i=[],a="",l=!1){let u=(c,f,d=l,p)=>{let g={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(a)&&d)return;Vt(g.relativePath.startsWith(a),`Absolute route path "${g.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(a.length)}let y=Ni([a,g.relativePath]),_=i.concat(g);c.children&&c.children.length>0&&(Vt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Ry(c.children,t,_,y,d)),!(c.path==null&&!c.index)&&t.push({path:y,score:tv(y,c.index),routesMeta:_})};return s.forEach((c,f)=>{if(c.path===""||!c.path?.includes("?"))u(c,f);else for(let d of By(c.path))u(c,f,!0,d)}),t}function By(s){let t=s.split("/");if(t.length===0)return[];let[i,...a]=t,l=i.endsWith("?"),u=i.replace(/\?$/,"");if(a.length===0)return l?[u,""]:[u];let c=By(a.join("/")),f=[];return f.push(...c.map(d=>d===""?u:[u,d].join("/"))),l&&f.push(...c),f.map(d=>s.startsWith("/")&&d===""?"/":d)}function Ib(s){s.sort((t,i)=>t.score!==i.score?i.score-t.score:ev(t.routesMeta.map(a=>a.childrenIndex),i.routesMeta.map(a=>a.childrenIndex)))}var Wb=/^:[\w-]+$/,Zb=3,Qb=2,Kb=1,$b=10,Jb=-2,rg=s=>s==="*";function tv(s,t){let i=s.split("/"),a=i.length;return i.some(rg)&&(a+=Jb),t&&(a+=Qb),i.filter(l=>!rg(l)).reduce((l,u)=>l+(Wb.test(u)?Zb:u===""?Kb:$b),a)}function ev(s,t){return s.length===t.length&&s.slice(0,-1).every((a,l)=>a===t[l])?s[s.length-1]-t[t.length-1]:0}function iv(s,t,i=!1){let{routesMeta:a}=s,l={},u="/",c=[];for(let f=0;f<a.length;++f){let d=a[f],p=f===a.length-1,g=u==="/"?t:t.slice(u.length)||"/",y=to({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},g),_=d.route;if(!y&&p&&i&&!a[a.length-1].route.index&&(y=to({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!y)return null;Object.assign(l,y.params),c.push({params:l,pathname:Ni([u,y.pathname]),pathnameBase:ov(Ni([u,y.pathnameBase])),route:_}),y.pathnameBase!=="/"&&(u=Ni([u,y.pathnameBase]))}return c}function to(s,t){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[i,a]=nv(s.path,s.caseSensitive,s.end),l=t.match(i);if(!l)return null;let u=l[0],c=u.replace(/(.)\/+$/,"$1"),f=l.slice(1);return{params:a.reduce((p,{paramName:g,isOptional:y},_)=>{if(g==="*"){let A=f[_]||"";c=u.slice(0,u.length-A.length).replace(/(.)\/+$/,"$1")}const b=f[_];return y&&!b?p[g]=void 0:p[g]=(b||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:c,pattern:s}}function nv(s,t=!1,i=!0){li(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let a=[],l="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,d)=>(a.push({paramName:f,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(a.push({paramName:"*"}),l+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?l+="\\/*$":s!==""&&s!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),a]}function sv(s){try{return s.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return li(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),s}}function Yi(s,t){if(t==="/")return s;if(!s.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,a=s.charAt(i);return a&&a!=="/"?null:s.slice(i)||"/"}function av(s,t="/"){let{pathname:i,search:a="",hash:l=""}=typeof s=="string"?Zn(s):s;return{pathname:i?i.startsWith("/")?i:rv(i,t):t,search:uv(a),hash:cv(l)}}function rv(s,t){let i=t.replace(/\/+$/,"").split("/");return s.split("/").forEach(l=>{l===".."?i.length>1&&i.pop():l!=="."&&i.push(l)}),i.length>1?i.join("/"):"/"}function Uc(s,t,i,a){return`Cannot include a '${s}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function lv(s){return s.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function zy(s){let t=lv(s);return t.map((i,a)=>a===t.length-1?i.pathname:i.pathnameBase)}function Oy(s,t,i,a=!1){let l;typeof s=="string"?l=Zn(s):(l={...s},Vt(!l.pathname||!l.pathname.includes("?"),Uc("?","pathname","search",l)),Vt(!l.pathname||!l.pathname.includes("#"),Uc("#","pathname","hash",l)),Vt(!l.search||!l.search.includes("#"),Uc("#","search","hash",l)));let u=s===""||l.pathname==="",c=u?"/":l.pathname,f;if(c==null)f=i;else{let y=t.length-1;if(!a&&c.startsWith("..")){let _=c.split("/");for(;_[0]==="..";)_.shift(),y-=1;l.pathname=_.join("/")}f=y>=0?t[y]:"/"}let d=av(l,f),p=c&&c!=="/"&&c.endsWith("/"),g=(u||c===".")&&i.endsWith("/");return!d.pathname.endsWith("/")&&(p||g)&&(d.pathname+="/"),d}var Ni=s=>s.join("/").replace(/\/\/+/g,"/"),ov=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),uv=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,cv=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function hv(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var Dy=["POST","PUT","PATCH","DELETE"];new Set(Dy);var fv=["GET",...Dy];new Set(fv);var qs=P.createContext(null);qs.displayName="DataRouter";var lo=P.createContext(null);lo.displayName="DataRouterState";P.createContext(!1);var ky=P.createContext({isTransitioning:!1});ky.displayName="ViewTransition";var dv=P.createContext(new Map);dv.displayName="Fetchers";var pv=P.createContext(null);pv.displayName="Await";var _i=P.createContext(null);_i.displayName="Navigation";var gr=P.createContext(null);gr.displayName="Location";var Vi=P.createContext({outlet:null,matches:[],isDataRoute:!1});Vi.displayName="Route";var Uh=P.createContext(null);Uh.displayName="RouteError";function mv(s,{relative:t}={}){Vt(yr(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:a}=P.useContext(_i),{hash:l,pathname:u,search:c}=xr(s,{relative:t}),f=u;return i!=="/"&&(f=u==="/"?i:Ni([i,u])),a.createHref({pathname:f,search:c,hash:l})}function yr(){return P.useContext(gr)!=null}function Qn(){return Vt(yr(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(gr).location}var Uy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Gy(s){P.useContext(_i).static||P.useLayoutEffect(s)}function gv(){let{isDataRoute:s}=P.useContext(Vi);return s?Rv():yv()}function yv(){Vt(yr(),"useNavigate() may be used only in the context of a <Router> component.");let s=P.useContext(qs),{basename:t,navigator:i}=P.useContext(_i),{matches:a}=P.useContext(Vi),{pathname:l}=Qn(),u=JSON.stringify(zy(a)),c=P.useRef(!1);return Gy(()=>{c.current=!0}),P.useCallback((d,p={})=>{if(li(c.current,Uy),!c.current)return;if(typeof d=="number"){i.go(d);return}let g=Oy(d,JSON.parse(u),l,p.relative==="path");s==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:Ni([t,g.pathname])),(p.replace?i.replace:i.push)(g,p.state,p)},[t,i,u,l,s])}P.createContext(null);function xr(s,{relative:t}={}){let{matches:i}=P.useContext(Vi),{pathname:a}=Qn(),l=JSON.stringify(zy(i));return P.useMemo(()=>Oy(s,JSON.parse(l),a,t==="path"),[s,l,a,t])}function xv(s,t){return Ly(s,t)}function Ly(s,t,i,a,l){Vt(yr(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=P.useContext(_i),{matches:c}=P.useContext(Vi),f=c[c.length-1],d=f?f.params:{},p=f?f.pathname:"/",g=f?f.pathnameBase:"/",y=f&&f.route;{let C=y&&y.path||"";Hy(p,!y||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let _=Qn(),b;if(t){let C=typeof t=="string"?Zn(t):t;Vt(g==="/"||C.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${C.pathname}" was given in the \`location\` prop.`),b=C}else b=_;let A=b.pathname||"/",w=A;if(g!=="/"){let C=g.replace(/^\//,"").split("/");w="/"+A.replace(/^\//,"").split("/").slice(C.length).join("/")}let S=Ey(s,{pathname:w});li(y||S!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),li(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=Av(S&&S.map(C=>Object.assign({},C,{params:Object.assign({},d,C.params),pathname:Ni([g,u.encodeLocation?u.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?g:Ni([g,u.encodeLocation?u.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),c,i,a,l);return t&&T?P.createElement(gr.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},T):T}function _v(){let s=Ev(),t=hv(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),i=s instanceof Error?s.stack:null,a="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},c=null;return console.error("Error handled by React Router default ErrorBoundary:",s),c=P.createElement(P.Fragment,null,P.createElement("p",null,"💿 Hey developer 👋"),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:u},"ErrorBoundary")," or"," ",P.createElement("code",{style:u},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},t),i?P.createElement("pre",{style:l},i):null,c)}var bv=P.createElement(_v,null),vv=class extends P.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,t){return t.location!==s.location||t.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:t.error,location:t.location,revalidation:s.revalidation||t.revalidation}}componentDidCatch(s,t){this.props.unstable_onError?this.props.unstable_onError(s,t):console.error("React Router caught the following error during render",s)}render(){return this.state.error!==void 0?P.createElement(Vi.Provider,{value:this.props.routeContext},P.createElement(Uh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Sv({routeContext:s,match:t,children:i}){let a=P.useContext(qs);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),P.createElement(Vi.Provider,{value:s},i)}function Av(s,t=[],i=null,a=null,l=null){if(s==null){if(!i)return null;if(i.errors)s=i.matches;else if(t.length===0&&!i.initialized&&i.matches.length>0)s=i.matches;else return null}let u=s,c=i?.errors;if(c!=null){let p=u.findIndex(g=>g.route.id&&c?.[g.route.id]!==void 0);Vt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),u=u.slice(0,Math.min(u.length,p+1))}let f=!1,d=-1;if(i)for(let p=0;p<u.length;p++){let g=u[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=p),g.route.id){let{loaderData:y,errors:_}=i,b=g.route.loader&&!y.hasOwnProperty(g.route.id)&&(!_||_[g.route.id]===void 0);if(g.route.lazy||b){f=!0,d>=0?u=u.slice(0,d+1):u=[u[0]];break}}}return u.reduceRight((p,g,y)=>{let _,b=!1,A=null,w=null;i&&(_=c&&g.route.id?c[g.route.id]:void 0,A=g.route.errorElement||bv,f&&(d<0&&y===0?(Hy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,w=null):d===y&&(b=!0,w=g.route.hydrateFallbackElement||null)));let S=t.concat(u.slice(0,y+1)),T=()=>{let C;return _?C=A:b?C=w:g.route.Component?C=P.createElement(g.route.Component,null):g.route.element?C=g.route.element:C=p,P.createElement(Sv,{match:g,routeContext:{outlet:p,matches:S,isDataRoute:i!=null},children:C})};return i&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?P.createElement(vv,{location:i.location,revalidation:i.revalidation,component:A,error:_,children:T(),routeContext:{outlet:null,matches:S,isDataRoute:!0},unstable_onError:a}):T()},null)}function Gh(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wv(s){let t=P.useContext(qs);return Vt(t,Gh(s)),t}function Tv(s){let t=P.useContext(lo);return Vt(t,Gh(s)),t}function Cv(s){let t=P.useContext(Vi);return Vt(t,Gh(s)),t}function Lh(s){let t=Cv(s),i=t.matches[t.matches.length-1];return Vt(i.route.id,`${s} can only be used on routes that contain a unique "id"`),i.route.id}function Mv(){return Lh("useRouteId")}function Ev(){let s=P.useContext(Uh),t=Tv("useRouteError"),i=Lh("useRouteError");return s!==void 0?s:t.errors?.[i]}function Rv(){let{router:s}=wv("useNavigate"),t=Lh("useNavigate"),i=P.useRef(!1);return Gy(()=>{i.current=!0}),P.useCallback(async(l,u={})=>{li(i.current,Uy),i.current&&(typeof l=="number"?s.navigate(l):await s.navigate(l,{fromRouteId:t,...u}))},[s,t])}var lg={};function Hy(s,t,i){!t&&!lg[s]&&(lg[s]=!0,li(!1,i))}P.memo(Bv);function Bv({routes:s,future:t,state:i,unstable_onError:a}){return Ly(s,void 0,i,a,t)}function tr(s){Vt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function zv({basename:s="/",children:t=null,location:i,navigationType:a="POP",navigator:l,static:u=!1}){Vt(!yr(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=s.replace(/^\/*/,"/"),f=P.useMemo(()=>({basename:c,navigator:l,static:u,future:{}}),[c,l,u]);typeof i=="string"&&(i=Zn(i));let{pathname:d="/",search:p="",hash:g="",state:y=null,key:_="default"}=i,b=P.useMemo(()=>{let A=Yi(d,c);return A==null?null:{location:{pathname:A,search:p,hash:g,state:y,key:_},navigationType:a}},[c,d,p,g,y,_,a]);return li(b!=null,`<Router basename="${c}"> is not able to match the URL "${d}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:P.createElement(_i.Provider,{value:f},P.createElement(gr.Provider,{children:t,value:b}))}function Ov({children:s,location:t}){return xv(dh(s),t)}function dh(s,t=[]){let i=[];return P.Children.forEach(s,(a,l)=>{if(!P.isValidElement(a))return;let u=[...t,l];if(a.type===P.Fragment){i.push.apply(i,dh(a.props.children,u));return}Vt(a.type===tr,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Vt(!a.props.index||!a.props.children,"An index route cannot have child routes.");let c={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(c.children=dh(a.props.children,u)),i.push(c)}),i}var Ql="get",Kl="application/x-www-form-urlencoded";function oo(s){return s!=null&&typeof s.tagName=="string"}function Dv(s){return oo(s)&&s.tagName.toLowerCase()==="button"}function kv(s){return oo(s)&&s.tagName.toLowerCase()==="form"}function Uv(s){return oo(s)&&s.tagName.toLowerCase()==="input"}function Gv(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function Lv(s,t){return s.button===0&&(!t||t==="_self")&&!Gv(s)}var Dl=null;function Hv(){if(Dl===null)try{new FormData(document.createElement("form"),0),Dl=!1}catch{Dl=!0}return Dl}var Nv=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Gc(s){return s!=null&&!Nv.has(s)?(li(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Kl}"`),null):s}function Pv(s,t){let i,a,l,u,c;if(kv(s)){let f=s.getAttribute("action");a=f?Yi(f,t):null,i=s.getAttribute("method")||Ql,l=Gc(s.getAttribute("enctype"))||Kl,u=new FormData(s)}else if(Dv(s)||Uv(s)&&(s.type==="submit"||s.type==="image")){let f=s.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=s.getAttribute("formaction")||f.getAttribute("action");if(a=d?Yi(d,t):null,i=s.getAttribute("formmethod")||f.getAttribute("method")||Ql,l=Gc(s.getAttribute("formenctype"))||Gc(f.getAttribute("enctype"))||Kl,u=new FormData(f,s),!Hv()){let{name:p,type:g,value:y}=s;if(g==="image"){let _=p?`${p}.`:"";u.append(`${_}x`,"0"),u.append(`${_}y`,"0")}else p&&u.append(p,y)}}else{if(oo(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Ql,a=null,l=Kl,c=s}return u&&l==="text/plain"&&(c=u,u=void 0),{action:a,method:i.toLowerCase(),encType:l,formData:u,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Hh(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function jv(s,t,i){let a=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return a.pathname==="/"?a.pathname=`_root.${i}`:t&&Yi(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${i}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${i}`,a}async function Yv(s,t){if(s.id in t)return t[s.id];try{let i=await import(s.module);return t[s.id]=i,i}catch(i){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Fv(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function Vv(s,t,i){let a=await Promise.all(s.map(async l=>{let u=t.routes[l.route.id];if(u){let c=await Yv(u,i);return c.links?c.links():[]}return[]}));return Wv(a.flat(1).filter(Fv).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function og(s,t,i,a,l,u){let c=(d,p)=>i[p]?d.route.id!==i[p].route.id:!0,f=(d,p)=>i[p].pathname!==d.pathname||i[p].route.path?.endsWith("*")&&i[p].params["*"]!==d.params["*"];return u==="assets"?t.filter((d,p)=>c(d,p)||f(d,p)):u==="data"?t.filter((d,p)=>{let g=a.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(c(d,p)||f(d,p))return!0;if(d.route.shouldRevalidate){let y=d.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function Xv(s,t,{includeHydrateFallback:i}={}){return qv(s.map(a=>{let l=t.routes[a.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),i&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function qv(s){return[...new Set(s)]}function Iv(s){let t={},i=Object.keys(s).sort();for(let a of i)t[a]=s[a];return t}function Wv(s,t){let i=new Set;return new Set(t),s.reduce((a,l)=>{let u=JSON.stringify(Iv(l));return i.has(u)||(i.add(u),a.push({key:u,link:l})),a},[])}function Ny(){let s=P.useContext(qs);return Hh(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function Zv(){let s=P.useContext(lo);return Hh(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Nh=P.createContext(void 0);Nh.displayName="FrameworkContext";function Py(){let s=P.useContext(Nh);return Hh(s,"You must render this element inside a <HydratedRouter> element"),s}function Qv(s,t){let i=P.useContext(Nh),[a,l]=P.useState(!1),[u,c]=P.useState(!1),{onFocus:f,onBlur:d,onMouseEnter:p,onMouseLeave:g,onTouchStart:y}=t,_=P.useRef(null);P.useEffect(()=>{if(s==="render"&&c(!0),s==="viewport"){let w=T=>{T.forEach(C=>{c(C.isIntersecting)})},S=new IntersectionObserver(w,{threshold:.5});return _.current&&S.observe(_.current),()=>{S.disconnect()}}},[s]),P.useEffect(()=>{if(a){let w=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(w)}}},[a]);let b=()=>{l(!0)},A=()=>{l(!1),c(!1)};return i?s!=="intent"?[u,_,{}]:[u,_,{onFocus:Za(f,b),onBlur:Za(d,A),onMouseEnter:Za(p,b),onMouseLeave:Za(g,A),onTouchStart:Za(y,b)}]:[!1,_,{}]}function Za(s,t){return i=>{s&&s(i),i.defaultPrevented||t(i)}}function Kv({page:s,...t}){let{router:i}=Ny(),a=P.useMemo(()=>Ey(i.routes,s,i.basename),[i.routes,s,i.basename]);return a?P.createElement(Jv,{page:s,matches:a,...t}):null}function $v(s){let{manifest:t,routeModules:i}=Py(),[a,l]=P.useState([]);return P.useEffect(()=>{let u=!1;return Vv(s,t,i).then(c=>{u||l(c)}),()=>{u=!0}},[s,t,i]),a}function Jv({page:s,matches:t,...i}){let a=Qn(),{manifest:l,routeModules:u}=Py(),{basename:c}=Ny(),{loaderData:f,matches:d}=Zv(),p=P.useMemo(()=>og(s,t,d,l,a,"data"),[s,t,d,l,a]),g=P.useMemo(()=>og(s,t,d,l,a,"assets"),[s,t,d,l,a]),y=P.useMemo(()=>{if(s===a.pathname+a.search+a.hash)return[];let A=new Set,w=!1;if(t.forEach(T=>{let C=l.routes[T.route.id];!C||!C.hasLoader||(!p.some(E=>E.route.id===T.route.id)&&T.route.id in f&&u[T.route.id]?.shouldRevalidate||C.hasClientLoader?w=!0:A.add(T.route.id))}),A.size===0)return[];let S=jv(s,c,"data");return w&&A.size>0&&S.searchParams.set("_routes",t.filter(T=>A.has(T.route.id)).map(T=>T.route.id).join(",")),[S.pathname+S.search]},[c,f,a,l,p,t,s,u]),_=P.useMemo(()=>Xv(g,l),[g,l]),b=$v(g);return P.createElement(P.Fragment,null,y.map(A=>P.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...i})),_.map(A=>P.createElement("link",{key:A,rel:"modulepreload",href:A,...i})),b.map(({key:A,link:w})=>P.createElement("link",{key:A,nonce:i.nonce,...w})))}function t1(...s){return t=>{s.forEach(i=>{typeof i=="function"?i(t):i!=null&&(i.current=t)})}}var jy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{jy&&(window.__reactRouterVersion="7.8.2")}catch{}function e1({basename:s,children:t,window:i}){let a=P.useRef();a.current==null&&(a.current=Yb({window:i,v5Compat:!0}));let l=a.current,[u,c]=P.useState({action:l.action,location:l.location}),f=P.useCallback(d=>{P.startTransition(()=>c(d))},[c]);return P.useLayoutEffect(()=>l.listen(f),[l,f]),P.createElement(zv,{basename:s,children:t,location:u.location,navigationType:u.action,navigator:l})}var Yy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ar=P.forwardRef(function({onClick:t,discover:i="render",prefetch:a="none",relative:l,reloadDocument:u,replace:c,state:f,target:d,to:p,preventScrollReset:g,viewTransition:y,..._},b){let{basename:A}=P.useContext(_i),w=typeof p=="string"&&Yy.test(p),S,T=!1;if(typeof p=="string"&&w&&(S=p,jy))try{let j=new URL(window.location.href),W=p.startsWith("//")?new URL(j.protocol+p):new URL(p),K=Yi(W.pathname,A);W.origin===j.origin&&K!=null?p=K+W.search+W.hash:T=!0}catch{li(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=mv(p,{relative:l}),[E,D,H]=Qv(a,_),F=a1(p,{replace:c,state:f,target:d,preventScrollReset:g,relative:l,viewTransition:y});function N(j){t&&t(j),j.defaultPrevented||F(j)}let J=P.createElement("a",{..._,...H,href:S||C,onClick:T||u?t:N,ref:t1(b,D),target:d,"data-discover":!w&&i==="render"?"true":void 0});return E&&!w?P.createElement(P.Fragment,null,J,P.createElement(Kv,{page:C})):J});ar.displayName="Link";var i1=P.forwardRef(function({"aria-current":t="page",caseSensitive:i=!1,className:a="",end:l=!1,style:u,to:c,viewTransition:f,children:d,...p},g){let y=xr(c,{relative:p.relative}),_=Qn(),b=P.useContext(lo),{navigator:A,basename:w}=P.useContext(_i),S=b!=null&&c1(y)&&f===!0,T=A.encodeLocation?A.encodeLocation(y).pathname:y.pathname,C=_.pathname,E=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;i||(C=C.toLowerCase(),E=E?E.toLowerCase():null,T=T.toLowerCase()),E&&w&&(E=Yi(E,w)||E);const D=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let H=C===T||!l&&C.startsWith(T)&&C.charAt(D)==="/",F=E!=null&&(E===T||!l&&E.startsWith(T)&&E.charAt(T.length)==="/"),N={isActive:H,isPending:F,isTransitioning:S},J=H?t:void 0,j;typeof a=="function"?j=a(N):j=[a,H?"active":null,F?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let W=typeof u=="function"?u(N):u;return P.createElement(ar,{...p,"aria-current":J,className:j,ref:g,style:W,to:c,viewTransition:f},typeof d=="function"?d(N):d)});i1.displayName="NavLink";var n1=P.forwardRef(({discover:s="render",fetcherKey:t,navigate:i,reloadDocument:a,replace:l,state:u,method:c=Ql,action:f,onSubmit:d,relative:p,preventScrollReset:g,viewTransition:y,..._},b)=>{let A=o1(),w=u1(f,{relative:p}),S=c.toLowerCase()==="get"?"get":"post",T=typeof f=="string"&&Yy.test(f),C=E=>{if(d&&d(E),E.defaultPrevented)return;E.preventDefault();let D=E.nativeEvent.submitter,H=D?.getAttribute("formmethod")||c;A(D||E.currentTarget,{fetcherKey:t,method:H,navigate:i,replace:l,state:u,relative:p,preventScrollReset:g,viewTransition:y})};return P.createElement("form",{ref:b,method:S,action:w,onSubmit:a?d:C,..._,"data-discover":!T&&s==="render"?"true":void 0})});n1.displayName="Form";function s1(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Fy(s){let t=P.useContext(qs);return Vt(t,s1(s)),t}function a1(s,{target:t,replace:i,state:a,preventScrollReset:l,relative:u,viewTransition:c}={}){let f=gv(),d=Qn(),p=xr(s,{relative:u});return P.useCallback(g=>{if(Lv(g,t)){g.preventDefault();let y=i!==void 0?i:cr(d)===cr(p);f(s,{replace:y,state:a,preventScrollReset:l,relative:u,viewTransition:c})}},[d,f,p,i,a,t,s,l,u,c])}var r1=0,l1=()=>`__${String(++r1)}__`;function o1(){let{router:s}=Fy("useSubmit"),{basename:t}=P.useContext(_i),i=Mv();return P.useCallback(async(a,l={})=>{let{action:u,method:c,encType:f,formData:d,body:p}=Pv(a,t);if(l.navigate===!1){let g=l.fetcherKey||l1();await s.fetch(g,i,l.action||u,{preventScrollReset:l.preventScrollReset,formData:d,body:p,formMethod:l.method||c,formEncType:l.encType||f,flushSync:l.flushSync})}else await s.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:d,body:p,formMethod:l.method||c,formEncType:l.encType||f,replace:l.replace,state:l.state,fromRouteId:i,flushSync:l.flushSync,viewTransition:l.viewTransition})},[s,t,i])}function u1(s,{relative:t}={}){let{basename:i}=P.useContext(_i),a=P.useContext(Vi);Vt(a,"useFormAction must be used inside a RouteContext");let[l]=a.matches.slice(-1),u={...xr(s||".",{relative:t})},c=Qn();if(s==null){u.search=c.search;let f=new URLSearchParams(u.search),d=f.getAll("index");if(d.some(g=>g==="")){f.delete("index"),d.filter(y=>y).forEach(y=>f.append("index",y));let g=f.toString();u.search=g?`?${g}`:""}}return(!s||s===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(u.pathname=u.pathname==="/"?i:Ni([i,u.pathname])),cr(u)}function c1(s,{relative:t}={}){let i=P.useContext(ky);Vt(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=Fy("useViewTransitionState"),l=xr(s,{relative:t});if(!i.isTransitioning)return!1;let u=Yi(i.currentLocation.pathname,a)||i.currentLocation.pathname,c=Yi(i.nextLocation.pathname,a)||i.nextLocation.pathname;return to(l.pathname,c)!=null||to(l.pathname,u)!=null}const h1=()=>Z.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-orange-400",children:[Z.jsx("h1",{className:"text-4xl mb-4 drop-shadow-lg",children:"Playroom"}),Z.jsxs("div",{className:"flex gap-12 mt-8",children:[Z.jsx(ar,{to:"/whackamolegame",children:Z.jsxs("div",{className:"flex flex-col items-center cursor-pointer",children:[Z.jsx("img",{src:"/playroom/images/whack-a-mole/icon.png",alt:"もぐらたたきゲーム",className:"w-32 h-32 rounded-lg shadow-lg hover:scale-105 transition-transform duration-200"}),Z.jsx("span",{className:"mt-2 text-lg font-semibold text-white drop-shadow",children:"もぐらたたきゲーム"})]})}),Z.jsx(ar,{to:"/puzzle",children:Z.jsxs("div",{className:"flex flex-col items-center cursor-pointer",children:[Z.jsx("img",{src:"/playroom/images/puzzle/icon.png",alt:"ジグソーパズル",className:"w-32 h-32 rounded-lg shadow-lg hover:scale-105 transition-transform duration-200 object-cover"}),Z.jsx("span",{className:"mt-2 text-lg font-semibold text-white drop-shadow",children:"ジグソーパズル"})]})}),Z.jsx(ar,{to:"/memory",children:Z.jsxs("div",{className:"flex flex-col items-center cursor-pointer",children:[Z.jsx("img",{src:"/playroom/images/memory/icon.png",alt:"絵合わせゲーム",className:"w-32 h-32 rounded-lg shadow-lg hover:scale-105 transition-transform duration-200 object-cover"}),Z.jsx("span",{className:"mt-2 text-lg font-semibold text-white drop-shadow",children:"絵合わせゲーム"})]})})]})]}),f1="modulepreload",d1=function(s){return"/playroom/"+s},ug={},eo=function(t,i,a){let l=Promise.resolve();if(i&&i.length>0){let d=function(p){return Promise.all(p.map(g=>Promise.resolve(g).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),f=c?.nonce||c?.getAttribute("nonce");l=d(i.map(p=>{if(p=d1(p),p in ug)return;ug[p]=!0;const g=p.endsWith(".css"),y=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${y}`))return;const _=document.createElement("link");if(_.rel=g?"stylesheet":f1,g||(_.as="script"),_.crossOrigin="",_.href=p,f&&_.setAttribute("nonce",f),document.head.appendChild(_),g)return new Promise((b,A)=>{_.addEventListener("load",b),_.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${p}`)))})}))}function u(c){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=c,window.dispatchEvent(f),!f.defaultPrevented)throw c}return l.then(c=>{for(const f of c||[])f.status==="rejected"&&u(f.reason);return t().catch(u)})};var nt=(s=>(s.Application="application",s.WebGLPipes="webgl-pipes",s.WebGLPipesAdaptor="webgl-pipes-adaptor",s.WebGLSystem="webgl-system",s.WebGPUPipes="webgpu-pipes",s.WebGPUPipesAdaptor="webgpu-pipes-adaptor",s.WebGPUSystem="webgpu-system",s.CanvasSystem="canvas-system",s.CanvasPipesAdaptor="canvas-pipes-adaptor",s.CanvasPipes="canvas-pipes",s.Asset="asset",s.LoadParser="load-parser",s.ResolveParser="resolve-parser",s.CacheParser="cache-parser",s.DetectionParser="detection-parser",s.MaskEffect="mask-effect",s.BlendMode="blend-mode",s.TextureSource="texture-source",s.Environment="environment",s.ShapeBuilder="shape-builder",s.Batcher="batcher",s))(nt||{});const ph=s=>{if(typeof s=="function"||typeof s=="object"&&s.extension){if(!s.extension)throw new Error("Extension class must have an extension object");s={...typeof s.extension!="object"?{type:s.extension}:s.extension,ref:s}}if(typeof s=="object")s={...s};else throw new Error("Invalid extension type");return typeof s.type=="string"&&(s.type=[s.type]),s},kl=(s,t)=>ph(s).priority??t,he={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...s){return s.map(ph).forEach(t=>{t.type.forEach(i=>this._removeHandlers[i]?.(t))}),this},add(...s){return s.map(ph).forEach(t=>{t.type.forEach(i=>{const a=this._addHandlers,l=this._queue;a[i]?a[i]?.(t):(l[i]=l[i]||[],l[i]?.push(t))})}),this},handle(s,t,i){const a=this._addHandlers,l=this._removeHandlers;if(a[s]||l[s])throw new Error(`Extension type ${s} already has a handler`);a[s]=t,l[s]=i;const u=this._queue;return u[s]&&(u[s]?.forEach(c=>t(c)),delete u[s]),this},handleByMap(s,t){return this.handle(s,i=>{i.name&&(t[i.name]=i.ref)},i=>{i.name&&delete t[i.name]})},handleByNamedList(s,t,i=-1){return this.handle(s,a=>{t.findIndex(u=>u.name===a.name)>=0||(t.push({name:a.name,value:a.ref}),t.sort((u,c)=>kl(c.value,i)-kl(u.value,i)))},a=>{const l=t.findIndex(u=>u.name===a.name);l!==-1&&t.splice(l,1)})},handleByList(s,t,i=-1){return this.handle(s,a=>{t.includes(a.ref)||(t.push(a.ref),t.sort((l,u)=>kl(u,i)-kl(l,i)))},a=>{const l=t.indexOf(a.ref);l!==-1&&t.splice(l,1)})},mixin(s,...t){for(const i of t)Object.defineProperties(s.prototype,Object.getOwnPropertyDescriptors(i))}},p1={extension:{type:nt.Environment,name:"browser",priority:-1},test:()=>!0,load:async()=>{await eo(()=>import("./browserAll-CxmdXcSQ.js"),__vite__mapDeps([0,1,2]))}},m1={extension:{type:nt.Environment,name:"webworker",priority:0},test:()=>typeof self<"u"&&self.WorkerGlobalScope!==void 0,load:async()=>{await eo(()=>import("./webworkerAll-CXaWPuJj.js"),__vite__mapDeps([1,2]))}};class ce{constructor(t,i,a){this._x=i||0,this._y=a||0,this._observer=t}clone(t){return new ce(t??this._observer,this._x,this._y)}set(t=0,i=t){return(this._x!==t||this._y!==i)&&(this._x=t,this._y=i,this._observer._onUpdate(this)),this}copyFrom(t){return(this._x!==t.x||this._y!==t.y)&&(this._x=t.x,this._y=t.y,this._observer._onUpdate(this)),this}copyTo(t){return t.set(this._x,this._y),t}equals(t){return t.x===this._x&&t.y===this._y}toString(){return`[pixi.js/math:ObservablePoint x=${this._x} y=${this._y} scope=${this._observer}]`}get x(){return this._x}set x(t){this._x!==t&&(this._x=t,this._observer._onUpdate(this))}get y(){return this._y}set y(t){this._y!==t&&(this._y=t,this._observer._onUpdate(this))}}var Lc={exports:{}},cg;function g1(){return cg||(cg=1,(function(s){var t=Object.prototype.hasOwnProperty,i="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(i=!1));function l(d,p,g){this.fn=d,this.context=p,this.once=g||!1}function u(d,p,g,y,_){if(typeof g!="function")throw new TypeError("The listener must be a function");var b=new l(g,y||d,_),A=i?i+p:p;return d._events[A]?d._events[A].fn?d._events[A]=[d._events[A],b]:d._events[A].push(b):(d._events[A]=b,d._eventsCount++),d}function c(d,p){--d._eventsCount===0?d._events=new a:delete d._events[p]}function f(){this._events=new a,this._eventsCount=0}f.prototype.eventNames=function(){var p=[],g,y;if(this._eventsCount===0)return p;for(y in g=this._events)t.call(g,y)&&p.push(i?y.slice(1):y);return Object.getOwnPropertySymbols?p.concat(Object.getOwnPropertySymbols(g)):p},f.prototype.listeners=function(p){var g=i?i+p:p,y=this._events[g];if(!y)return[];if(y.fn)return[y.fn];for(var _=0,b=y.length,A=new Array(b);_<b;_++)A[_]=y[_].fn;return A},f.prototype.listenerCount=function(p){var g=i?i+p:p,y=this._events[g];return y?y.fn?1:y.length:0},f.prototype.emit=function(p,g,y,_,b,A){var w=i?i+p:p;if(!this._events[w])return!1;var S=this._events[w],T=arguments.length,C,E;if(S.fn){switch(S.once&&this.removeListener(p,S.fn,void 0,!0),T){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,g),!0;case 3:return S.fn.call(S.context,g,y),!0;case 4:return S.fn.call(S.context,g,y,_),!0;case 5:return S.fn.call(S.context,g,y,_,b),!0;case 6:return S.fn.call(S.context,g,y,_,b,A),!0}for(E=1,C=new Array(T-1);E<T;E++)C[E-1]=arguments[E];S.fn.apply(S.context,C)}else{var D=S.length,H;for(E=0;E<D;E++)switch(S[E].once&&this.removeListener(p,S[E].fn,void 0,!0),T){case 1:S[E].fn.call(S[E].context);break;case 2:S[E].fn.call(S[E].context,g);break;case 3:S[E].fn.call(S[E].context,g,y);break;case 4:S[E].fn.call(S[E].context,g,y,_);break;default:if(!C)for(H=1,C=new Array(T-1);H<T;H++)C[H-1]=arguments[H];S[E].fn.apply(S[E].context,C)}}return!0},f.prototype.on=function(p,g,y){return u(this,p,g,y,!1)},f.prototype.once=function(p,g,y){return u(this,p,g,y,!0)},f.prototype.removeListener=function(p,g,y,_){var b=i?i+p:p;if(!this._events[b])return this;if(!g)return c(this,b),this;var A=this._events[b];if(A.fn)A.fn===g&&(!_||A.once)&&(!y||A.context===y)&&c(this,b);else{for(var w=0,S=[],T=A.length;w<T;w++)(A[w].fn!==g||_&&!A[w].once||y&&A[w].context!==y)&&S.push(A[w]);S.length?this._events[b]=S.length===1?S[0]:S:c(this,b)}return this},f.prototype.removeAllListeners=function(p){var g;return p?(g=i?i+p:p,this._events[g]&&c(this,g)):(this._events=new a,this._eventsCount=0),this},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=i,f.EventEmitter=f,s.exports=f})(Lc)),Lc.exports}var y1=g1();const ui=My(y1),x1=Math.PI*2,_1=180/Math.PI,b1=Math.PI/180;class ge{constructor(t=0,i=0){this.x=0,this.y=0,this.x=t,this.y=i}clone(){return new ge(this.x,this.y)}copyFrom(t){return this.set(t.x,t.y),this}copyTo(t){return t.set(this.x,this.y),t}equals(t){return t.x===this.x&&t.y===this.y}set(t=0,i=t){return this.x=t,this.y=i,this}toString(){return`[pixi.js/math:Point x=${this.x} y=${this.y}]`}static get shared(){return Hc.x=0,Hc.y=0,Hc}}const Hc=new ge;class bt{constructor(t=1,i=0,a=0,l=1,u=0,c=0){this.array=null,this.a=t,this.b=i,this.c=a,this.d=l,this.tx=u,this.ty=c}fromArray(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]}set(t,i,a,l,u,c){return this.a=t,this.b=i,this.c=a,this.d=l,this.tx=u,this.ty=c,this}toArray(t,i){this.array||(this.array=new Float32Array(9));const a=i||this.array;return t?(a[0]=this.a,a[1]=this.b,a[2]=0,a[3]=this.c,a[4]=this.d,a[5]=0,a[6]=this.tx,a[7]=this.ty,a[8]=1):(a[0]=this.a,a[1]=this.c,a[2]=this.tx,a[3]=this.b,a[4]=this.d,a[5]=this.ty,a[6]=0,a[7]=0,a[8]=1),a}apply(t,i){i=i||new ge;const a=t.x,l=t.y;return i.x=this.a*a+this.c*l+this.tx,i.y=this.b*a+this.d*l+this.ty,i}applyInverse(t,i){i=i||new ge;const a=this.a,l=this.b,u=this.c,c=this.d,f=this.tx,d=this.ty,p=1/(a*c+u*-l),g=t.x,y=t.y;return i.x=c*p*g+-u*p*y+(d*u-f*c)*p,i.y=a*p*y+-l*p*g+(-d*a+f*l)*p,i}translate(t,i){return this.tx+=t,this.ty+=i,this}scale(t,i){return this.a*=t,this.d*=i,this.c*=t,this.b*=i,this.tx*=t,this.ty*=i,this}rotate(t){const i=Math.cos(t),a=Math.sin(t),l=this.a,u=this.c,c=this.tx;return this.a=l*i-this.b*a,this.b=l*a+this.b*i,this.c=u*i-this.d*a,this.d=u*a+this.d*i,this.tx=c*i-this.ty*a,this.ty=c*a+this.ty*i,this}append(t){const i=this.a,a=this.b,l=this.c,u=this.d;return this.a=t.a*i+t.b*l,this.b=t.a*a+t.b*u,this.c=t.c*i+t.d*l,this.d=t.c*a+t.d*u,this.tx=t.tx*i+t.ty*l+this.tx,this.ty=t.tx*a+t.ty*u+this.ty,this}appendFrom(t,i){const a=t.a,l=t.b,u=t.c,c=t.d,f=t.tx,d=t.ty,p=i.a,g=i.b,y=i.c,_=i.d;return this.a=a*p+l*y,this.b=a*g+l*_,this.c=u*p+c*y,this.d=u*g+c*_,this.tx=f*p+d*y+i.tx,this.ty=f*g+d*_+i.ty,this}setTransform(t,i,a,l,u,c,f,d,p){return this.a=Math.cos(f+p)*u,this.b=Math.sin(f+p)*u,this.c=-Math.sin(f-d)*c,this.d=Math.cos(f-d)*c,this.tx=t-(a*this.a+l*this.c),this.ty=i-(a*this.b+l*this.d),this}prepend(t){const i=this.tx;if(t.a!==1||t.b!==0||t.c!==0||t.d!==1){const a=this.a,l=this.c;this.a=a*t.a+this.b*t.c,this.b=a*t.b+this.b*t.d,this.c=l*t.a+this.d*t.c,this.d=l*t.b+this.d*t.d}return this.tx=i*t.a+this.ty*t.c+t.tx,this.ty=i*t.b+this.ty*t.d+t.ty,this}decompose(t){const i=this.a,a=this.b,l=this.c,u=this.d,c=t.pivot,f=-Math.atan2(-l,u),d=Math.atan2(a,i),p=Math.abs(f+d);return p<1e-5||Math.abs(x1-p)<1e-5?(t.rotation=d,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=f,t.skew.y=d),t.scale.x=Math.sqrt(i*i+a*a),t.scale.y=Math.sqrt(l*l+u*u),t.position.x=this.tx+(c.x*i+c.y*l),t.position.y=this.ty+(c.x*a+c.y*u),t}invert(){const t=this.a,i=this.b,a=this.c,l=this.d,u=this.tx,c=t*l-i*a;return this.a=l/c,this.b=-i/c,this.c=-a/c,this.d=t/c,this.tx=(a*this.ty-l*u)/c,this.ty=-(t*this.ty-i*u)/c,this}isIdentity(){return this.a===1&&this.b===0&&this.c===0&&this.d===1&&this.tx===0&&this.ty===0}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const t=new bt;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyTo(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyFrom(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this}equals(t){return t.a===this.a&&t.b===this.b&&t.c===this.c&&t.d===this.d&&t.tx===this.tx&&t.ty===this.ty}toString(){return`[pixi.js:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return S1.identity()}static get shared(){return v1.identity()}}const v1=new bt,S1=new bt,Yn=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Fn=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Vn=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Xn=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],mh=[],Vy=[],Ul=Math.sign;function A1(){for(let s=0;s<16;s++){const t=[];mh.push(t);for(let i=0;i<16;i++){const a=Ul(Yn[s]*Yn[i]+Vn[s]*Fn[i]),l=Ul(Fn[s]*Yn[i]+Xn[s]*Fn[i]),u=Ul(Yn[s]*Vn[i]+Vn[s]*Xn[i]),c=Ul(Fn[s]*Vn[i]+Xn[s]*Xn[i]);for(let f=0;f<16;f++)if(Yn[f]===a&&Fn[f]===l&&Vn[f]===u&&Xn[f]===c){t.push(f);break}}}for(let s=0;s<16;s++){const t=new bt;t.set(Yn[s],Fn[s],Vn[s],Xn[s],0,0),Vy.push(t)}}A1();const Ot={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:s=>Yn[s],uY:s=>Fn[s],vX:s=>Vn[s],vY:s=>Xn[s],inv:s=>s&8?s&15:-s&7,add:(s,t)=>mh[s][t],sub:(s,t)=>mh[s][Ot.inv(t)],rotate180:s=>s^4,isVertical:s=>(s&3)===2,byDirection:(s,t)=>Math.abs(s)*2<=Math.abs(t)?t>=0?Ot.S:Ot.N:Math.abs(t)*2<=Math.abs(s)?s>0?Ot.E:Ot.W:t>0?s>0?Ot.SE:Ot.SW:s>0?Ot.NE:Ot.NW,matrixAppendRotationInv:(s,t,i=0,a=0)=>{const l=Vy[Ot.inv(t)];l.tx=i,l.ty=a,s.append(l)},transformRectCoords:(s,t,i,a)=>{const{x:l,y:u,width:c,height:f}=s,{x:d,y:p,width:g,height:y}=t;return i===Ot.E?(a.set(l+d,u+p,c,f),a):i===Ot.S?a.set(g-u-f+d,l+p,f,c):i===Ot.W?a.set(g-l-c+d,y-u-f+p,c,f):i===Ot.N?a.set(u+d,y-l-c+p,f,c):a.set(l+d,u+p,c,f)}},Gl=[new ge,new ge,new ge,new ge];class Pt{constructor(t=0,i=0,a=0,l=0){this.type="rectangle",this.x=Number(t),this.y=Number(i),this.width=Number(a),this.height=Number(l)}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}isEmpty(){return this.left===this.right||this.top===this.bottom}static get EMPTY(){return new Pt(0,0,0,0)}clone(){return new Pt(this.x,this.y,this.width,this.height)}copyFromBounds(t){return this.x=t.minX,this.y=t.minY,this.width=t.maxX-t.minX,this.height=t.maxY-t.minY,this}copyFrom(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}copyTo(t){return t.copyFrom(this),t}contains(t,i){return this.width<=0||this.height<=0?!1:t>=this.x&&t<this.x+this.width&&i>=this.y&&i<this.y+this.height}strokeContains(t,i,a,l=.5){const{width:u,height:c}=this;if(u<=0||c<=0)return!1;const f=this.x,d=this.y,p=a*(1-l),g=a-p,y=f-p,_=f+u+p,b=d-p,A=d+c+p,w=f+g,S=f+u-g,T=d+g,C=d+c-g;return t>=y&&t<=_&&i>=b&&i<=A&&!(t>w&&t<S&&i>T&&i<C)}intersects(t,i){if(!i){const J=this.x<t.x?t.x:this.x;if((this.right>t.right?t.right:this.right)<=J)return!1;const W=this.y<t.y?t.y:this.y;return(this.bottom>t.bottom?t.bottom:this.bottom)>W}const a=this.left,l=this.right,u=this.top,c=this.bottom;if(l<=a||c<=u)return!1;const f=Gl[0].set(t.left,t.top),d=Gl[1].set(t.left,t.bottom),p=Gl[2].set(t.right,t.top),g=Gl[3].set(t.right,t.bottom);if(p.x<=f.x||d.y<=f.y)return!1;const y=Math.sign(i.a*i.d-i.b*i.c);if(y===0||(i.apply(f,f),i.apply(d,d),i.apply(p,p),i.apply(g,g),Math.max(f.x,d.x,p.x,g.x)<=a||Math.min(f.x,d.x,p.x,g.x)>=l||Math.max(f.y,d.y,p.y,g.y)<=u||Math.min(f.y,d.y,p.y,g.y)>=c))return!1;const _=y*(d.y-f.y),b=y*(f.x-d.x),A=_*a+b*u,w=_*l+b*u,S=_*a+b*c,T=_*l+b*c;if(Math.max(A,w,S,T)<=_*f.x+b*f.y||Math.min(A,w,S,T)>=_*g.x+b*g.y)return!1;const C=y*(f.y-p.y),E=y*(p.x-f.x),D=C*a+E*u,H=C*l+E*u,F=C*a+E*c,N=C*l+E*c;return!(Math.max(D,H,F,N)<=C*f.x+E*f.y||Math.min(D,H,F,N)>=C*g.x+E*g.y)}pad(t=0,i=t){return this.x-=t,this.y-=i,this.width+=t*2,this.height+=i*2,this}fit(t){const i=Math.max(this.x,t.x),a=Math.min(this.x+this.width,t.x+t.width),l=Math.max(this.y,t.y),u=Math.min(this.y+this.height,t.y+t.height);return this.x=i,this.width=Math.max(a-i,0),this.y=l,this.height=Math.max(u-l,0),this}ceil(t=1,i=.001){const a=Math.ceil((this.x+this.width-i)*t)/t,l=Math.ceil((this.y+this.height-i)*t)/t;return this.x=Math.floor((this.x+i)*t)/t,this.y=Math.floor((this.y+i)*t)/t,this.width=a-this.x,this.height=l-this.y,this}scale(t,i=t){return this.x*=t,this.y*=i,this.width*=t,this.height*=i,this}enlarge(t){const i=Math.min(this.x,t.x),a=Math.max(this.x+this.width,t.x+t.width),l=Math.min(this.y,t.y),u=Math.max(this.y+this.height,t.y+t.height);return this.x=i,this.width=a-i,this.y=l,this.height=u-l,this}getBounds(t){return t||(t=new Pt),t.copyFrom(this),t}containsRect(t){if(this.width<=0||this.height<=0)return!1;const i=t.x,a=t.y,l=t.x+t.width,u=t.y+t.height;return i>=this.x&&i<this.x+this.width&&a>=this.y&&a<this.y+this.height&&l>=this.x&&l<this.x+this.width&&u>=this.y&&u<this.y+this.height}set(t,i,a,l){return this.x=t,this.y=i,this.width=a,this.height=l,this}toString(){return`[pixi.js/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}const Nc={default:-1};function Qt(s="default"){return Nc[s]===void 0&&(Nc[s]=-1),++Nc[s]}const hg={},Et="8.0.0",w1="8.3.4";function xt(s,t,i=3){if(hg[t])return;let a=new Error().stack;typeof a>"u"?console.warn("PixiJS Deprecation Warning: ",`${t}
Deprecated since v${s}`):(a=a.split(`
`).splice(i).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${t}
Deprecated since v${s}`),console.warn(a),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${t}
Deprecated since v${s}`),console.warn(a))),hg[t]=!0}const Xy=()=>{};function Ps(s){return s+=s===0?1:0,--s,s|=s>>>1,s|=s>>>2,s|=s>>>4,s|=s>>>8,s|=s>>>16,s+1}function fg(s){return!(s&s-1)&&!!s}function qy(s){const t={};for(const i in s)s[i]!==void 0&&(t[i]=s[i]);return t}const dg=Object.create(null);function T1(s){const t=dg[s];return t===void 0&&(dg[s]=Qt("resource")),t}const Iy=class Wy extends ui{constructor(t={}){super(),this._resourceType="textureSampler",this._touched=0,this._maxAnisotropy=1,this.destroyed=!1,t={...Wy.defaultOptions,...t},this.addressMode=t.addressMode,this.addressModeU=t.addressModeU??this.addressModeU,this.addressModeV=t.addressModeV??this.addressModeV,this.addressModeW=t.addressModeW??this.addressModeW,this.scaleMode=t.scaleMode,this.magFilter=t.magFilter??this.magFilter,this.minFilter=t.minFilter??this.minFilter,this.mipmapFilter=t.mipmapFilter??this.mipmapFilter,this.lodMinClamp=t.lodMinClamp,this.lodMaxClamp=t.lodMaxClamp,this.compare=t.compare,this.maxAnisotropy=t.maxAnisotropy??1}set addressMode(t){this.addressModeU=t,this.addressModeV=t,this.addressModeW=t}get addressMode(){return this.addressModeU}set wrapMode(t){xt(Et,"TextureStyle.wrapMode is now TextureStyle.addressMode"),this.addressMode=t}get wrapMode(){return this.addressMode}set scaleMode(t){this.magFilter=t,this.minFilter=t,this.mipmapFilter=t}get scaleMode(){return this.magFilter}set maxAnisotropy(t){this._maxAnisotropy=Math.min(t,16),this._maxAnisotropy>1&&(this.scaleMode="linear")}get maxAnisotropy(){return this._maxAnisotropy}get _resourceId(){return this._sharedResourceId||this._generateResourceId()}update(){this.emit("change",this),this._sharedResourceId=null}_generateResourceId(){const t=`${this.addressModeU}-${this.addressModeV}-${this.addressModeW}-${this.magFilter}-${this.minFilter}-${this.mipmapFilter}-${this.lodMinClamp}-${this.lodMaxClamp}-${this.compare}-${this._maxAnisotropy}`;return this._sharedResourceId=T1(t),this._resourceId}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this.removeAllListeners()}};Iy.defaultOptions={addressMode:"clamp-to-edge",scaleMode:"linear"};let js=Iy;const Zy=class Qy extends ui{constructor(t={}){super(),this.options=t,this.uid=Qt("textureSource"),this._resourceType="textureSource",this._resourceId=Qt("resource"),this.uploadMethodId="unknown",this._resolution=1,this.pixelWidth=1,this.pixelHeight=1,this.width=1,this.height=1,this.sampleCount=1,this.mipLevelCount=1,this.autoGenerateMipmaps=!1,this.format="rgba8unorm",this.dimension="2d",this.antialias=!1,this._touched=0,this._batchTick=-1,this._textureBindLocation=-1,t={...Qy.defaultOptions,...t},this.label=t.label??"",this.resource=t.resource,this.autoGarbageCollect=t.autoGarbageCollect,this._resolution=t.resolution,t.width?this.pixelWidth=t.width*this._resolution:this.pixelWidth=this.resource?this.resourceWidth??1:1,t.height?this.pixelHeight=t.height*this._resolution:this.pixelHeight=this.resource?this.resourceHeight??1:1,this.width=this.pixelWidth/this._resolution,this.height=this.pixelHeight/this._resolution,this.format=t.format,this.dimension=t.dimensions,this.mipLevelCount=t.mipLevelCount,this.autoGenerateMipmaps=t.autoGenerateMipmaps,this.sampleCount=t.sampleCount,this.antialias=t.antialias,this.alphaMode=t.alphaMode,this.style=new js(qy(t)),this.destroyed=!1,this._refreshPOT()}get source(){return this}get style(){return this._style}set style(t){this.style!==t&&(this._style?.off("change",this._onStyleChange,this),this._style=t,this._style?.on("change",this._onStyleChange,this),this._onStyleChange())}set maxAnisotropy(t){this._style.maxAnisotropy=t}get maxAnisotropy(){return this._style.maxAnisotropy}get addressMode(){return this._style.addressMode}set addressMode(t){this._style.addressMode=t}get repeatMode(){return this._style.addressMode}set repeatMode(t){this._style.addressMode=t}get magFilter(){return this._style.magFilter}set magFilter(t){this._style.magFilter=t}get minFilter(){return this._style.minFilter}set minFilter(t){this._style.minFilter=t}get mipmapFilter(){return this._style.mipmapFilter}set mipmapFilter(t){this._style.mipmapFilter=t}get lodMinClamp(){return this._style.lodMinClamp}set lodMinClamp(t){this._style.lodMinClamp=t}get lodMaxClamp(){return this._style.lodMaxClamp}set lodMaxClamp(t){this._style.lodMaxClamp=t}_onStyleChange(){this.emit("styleChange",this)}update(){if(this.resource){const t=this._resolution;if(this.resize(this.resourceWidth/t,this.resourceHeight/t))return}this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._style&&(this._style.destroy(),this._style=null),this.uploadMethodId=null,this.resource=null,this.removeAllListeners()}unload(){this._resourceId=Qt("resource"),this.emit("change",this),this.emit("unload",this)}get resourceWidth(){const{resource:t}=this;return t.naturalWidth||t.videoWidth||t.displayWidth||t.width}get resourceHeight(){const{resource:t}=this;return t.naturalHeight||t.videoHeight||t.displayHeight||t.height}get resolution(){return this._resolution}set resolution(t){this._resolution!==t&&(this._resolution=t,this.width=this.pixelWidth/t,this.height=this.pixelHeight/t)}resize(t,i,a){a||(a=this._resolution),t||(t=this.width),i||(i=this.height);const l=Math.round(t*a),u=Math.round(i*a);return this.width=l/a,this.height=u/a,this._resolution=a,this.pixelWidth===l&&this.pixelHeight===u?!1:(this._refreshPOT(),this.pixelWidth=l,this.pixelHeight=u,this.emit("resize",this),this._resourceId=Qt("resource"),this.emit("change",this),!0)}updateMipmaps(){this.autoGenerateMipmaps&&this.mipLevelCount>1&&this.emit("updateMipmaps",this)}set wrapMode(t){this._style.wrapMode=t}get wrapMode(){return this._style.wrapMode}set scaleMode(t){this._style.scaleMode=t}get scaleMode(){return this._style.scaleMode}_refreshPOT(){this.isPowerOfTwo=fg(this.pixelWidth)&&fg(this.pixelHeight)}static test(t){throw new Error("Unimplemented")}};Zy.defaultOptions={resolution:1,format:"bgra8unorm",alphaMode:"premultiply-alpha-on-upload",dimensions:"2d",mipLevelCount:1,autoGenerateMipmaps:!1,sampleCount:1,antialias:!1,autoGarbageCollect:!1};let ci=Zy;class Ph extends ci{constructor(t){const i=t.resource||new Float32Array(t.width*t.height*4);let a=t.format;a||(i instanceof Float32Array?a="rgba32float":i instanceof Int32Array||i instanceof Uint32Array?a="rgba32uint":i instanceof Int16Array||i instanceof Uint16Array?a="rgba16uint":(i instanceof Int8Array,a="bgra8unorm")),super({...t,resource:i,format:a}),this.uploadMethodId="buffer"}static test(t){return t instanceof Int8Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array}}Ph.extension=nt.TextureSource;const pg=new bt;class C1{constructor(t,i){this.mapCoord=new bt,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,typeof i>"u"?this.clampMargin=t.width<10?0:.5:this.clampMargin=i,this.isSimple=!1,this.texture=t}get texture(){return this._texture}set texture(t){this.texture!==t&&(this._texture?.removeListener("update",this.update,this),this._texture=t,this._texture.addListener("update",this.update,this),this.update())}multiplyUvs(t,i){i===void 0&&(i=t);const a=this.mapCoord;for(let l=0;l<t.length;l+=2){const u=t[l],c=t[l+1];i[l]=u*a.a+c*a.c+a.tx,i[l+1]=u*a.b+c*a.d+a.ty}return i}update(){const t=this._texture;this._updateID++;const i=t.uvs;this.mapCoord.set(i.x1-i.x0,i.y1-i.y0,i.x3-i.x0,i.y3-i.y0,i.x0,i.y0);const a=t.orig,l=t.trim;l&&(pg.set(a.width/l.width,0,0,a.height/l.height,-l.x/l.width,-l.y/l.height),this.mapCoord.append(pg));const u=t.source,c=this.uClampFrame,f=this.clampMargin/u._resolution,d=this.clampOffset/u._resolution;return c[0]=(t.frame.x+f+d)/u.width,c[1]=(t.frame.y+f+d)/u.height,c[2]=(t.frame.x+t.frame.width-f+d)/u.width,c[3]=(t.frame.y+t.frame.height-f+d)/u.height,this.uClampOffset[0]=this.clampOffset/u.pixelWidth,this.uClampOffset[1]=this.clampOffset/u.pixelHeight,this.isSimple=t.frame.width===u.width&&t.frame.height===u.height&&t.rotate===0,!0}}class vt extends ui{constructor({source:t,label:i,frame:a,orig:l,trim:u,defaultAnchor:c,defaultBorders:f,rotate:d,dynamic:p}={}){if(super(),this.uid=Qt("texture"),this.uvs={x0:0,y0:0,x1:0,y1:0,x2:0,y2:0,x3:0,y3:0},this.frame=new Pt,this.noFrame=!1,this.dynamic=!1,this.isTexture=!0,this.label=i,this.source=t?.source??new ci,this.noFrame=!a,a)this.frame.copyFrom(a);else{const{width:g,height:y}=this._source;this.frame.width=g,this.frame.height=y}this.orig=l||this.frame,this.trim=u,this.rotate=d??0,this.defaultAnchor=c,this.defaultBorders=f,this.destroyed=!1,this.dynamic=p||!1,this.updateUvs()}set source(t){this._source&&this._source.off("resize",this.update,this),this._source=t,t.on("resize",this.update,this),this.emit("update",this)}get source(){return this._source}get textureMatrix(){return this._textureMatrix||(this._textureMatrix=new C1(this)),this._textureMatrix}get width(){return this.orig.width}get height(){return this.orig.height}updateUvs(){const{uvs:t,frame:i}=this,{width:a,height:l}=this._source,u=i.x/a,c=i.y/l,f=i.width/a,d=i.height/l;let p=this.rotate;if(p){const g=f/2,y=d/2,_=u+g,b=c+y;p=Ot.add(p,Ot.NW),t.x0=_+g*Ot.uX(p),t.y0=b+y*Ot.uY(p),p=Ot.add(p,2),t.x1=_+g*Ot.uX(p),t.y1=b+y*Ot.uY(p),p=Ot.add(p,2),t.x2=_+g*Ot.uX(p),t.y2=b+y*Ot.uY(p),p=Ot.add(p,2),t.x3=_+g*Ot.uX(p),t.y3=b+y*Ot.uY(p)}else t.x0=u,t.y0=c,t.x1=u+f,t.y1=c,t.x2=u+f,t.y2=c+d,t.x3=u,t.y3=c+d}destroy(t=!1){this._source&&t&&(this._source.destroy(),this._source=null),this._textureMatrix=null,this.destroyed=!0,this.emit("destroy",this),this.removeAllListeners()}update(){this.noFrame&&(this.frame.width=this._source.width,this.frame.height=this._source.height),this.updateUvs(),this.emit("update",this)}get baseTexture(){return xt(Et,"Texture.baseTexture is now Texture.source"),this._source}}vt.EMPTY=new vt({label:"EMPTY",source:new ci({label:"EMPTY"})});vt.EMPTY.destroy=Xy;vt.WHITE=new vt({source:new Ph({resource:new Uint8Array([255,255,255,255]),width:1,height:1,alphaMode:"premultiply-alpha-on-upload",label:"WHITE"}),label:"WHITE"});vt.WHITE.destroy=Xy;function M1(s,t,i){const{width:a,height:l}=i.orig,u=i.trim;if(u){const c=u.width,f=u.height;s.minX=u.x-t._x*a,s.maxX=s.minX+c,s.minY=u.y-t._y*l,s.maxY=s.minY+f}else s.minX=-t._x*a,s.maxX=s.minX+a,s.minY=-t._y*l,s.maxY=s.minY+l}const mg=new bt;class oi{constructor(t=1/0,i=1/0,a=-1/0,l=-1/0){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=mg,this.minX=t,this.minY=i,this.maxX=a,this.maxY=l}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}get rectangle(){this._rectangle||(this._rectangle=new Pt);const t=this._rectangle;return this.minX>this.maxX||this.minY>this.maxY?(t.x=0,t.y=0,t.width=0,t.height=0):t.copyFromBounds(this),t}clear(){return this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=mg,this}set(t,i,a,l){this.minX=t,this.minY=i,this.maxX=a,this.maxY=l}addFrame(t,i,a,l,u){u||(u=this.matrix);const c=u.a,f=u.b,d=u.c,p=u.d,g=u.tx,y=u.ty;let _=this.minX,b=this.minY,A=this.maxX,w=this.maxY,S=c*t+d*i+g,T=f*t+p*i+y;S<_&&(_=S),T<b&&(b=T),S>A&&(A=S),T>w&&(w=T),S=c*a+d*i+g,T=f*a+p*i+y,S<_&&(_=S),T<b&&(b=T),S>A&&(A=S),T>w&&(w=T),S=c*t+d*l+g,T=f*t+p*l+y,S<_&&(_=S),T<b&&(b=T),S>A&&(A=S),T>w&&(w=T),S=c*a+d*l+g,T=f*a+p*l+y,S<_&&(_=S),T<b&&(b=T),S>A&&(A=S),T>w&&(w=T),this.minX=_,this.minY=b,this.maxX=A,this.maxY=w}addRect(t,i){this.addFrame(t.x,t.y,t.x+t.width,t.y+t.height,i)}addBounds(t,i){this.addFrame(t.minX,t.minY,t.maxX,t.maxY,i)}addBoundsMask(t){this.minX=this.minX>t.minX?this.minX:t.minX,this.minY=this.minY>t.minY?this.minY:t.minY,this.maxX=this.maxX<t.maxX?this.maxX:t.maxX,this.maxY=this.maxY<t.maxY?this.maxY:t.maxY}applyMatrix(t){const i=this.minX,a=this.minY,l=this.maxX,u=this.maxY,{a:c,b:f,c:d,d:p,tx:g,ty:y}=t;let _=c*i+d*a+g,b=f*i+p*a+y;this.minX=_,this.minY=b,this.maxX=_,this.maxY=b,_=c*l+d*a+g,b=f*l+p*a+y,this.minX=_<this.minX?_:this.minX,this.minY=b<this.minY?b:this.minY,this.maxX=_>this.maxX?_:this.maxX,this.maxY=b>this.maxY?b:this.maxY,_=c*i+d*u+g,b=f*i+p*u+y,this.minX=_<this.minX?_:this.minX,this.minY=b<this.minY?b:this.minY,this.maxX=_>this.maxX?_:this.maxX,this.maxY=b>this.maxY?b:this.maxY,_=c*l+d*u+g,b=f*l+p*u+y,this.minX=_<this.minX?_:this.minX,this.minY=b<this.minY?b:this.minY,this.maxX=_>this.maxX?_:this.maxX,this.maxY=b>this.maxY?b:this.maxY}fit(t){return this.minX<t.left&&(this.minX=t.left),this.maxX>t.right&&(this.maxX=t.right),this.minY<t.top&&(this.minY=t.top),this.maxY>t.bottom&&(this.maxY=t.bottom),this}fitBounds(t,i,a,l){return this.minX<t&&(this.minX=t),this.maxX>i&&(this.maxX=i),this.minY<a&&(this.minY=a),this.maxY>l&&(this.maxY=l),this}pad(t,i=t){return this.minX-=t,this.maxX+=t,this.minY-=i,this.maxY+=i,this}ceil(){return this.minX=Math.floor(this.minX),this.minY=Math.floor(this.minY),this.maxX=Math.ceil(this.maxX),this.maxY=Math.ceil(this.maxY),this}clone(){return new oi(this.minX,this.minY,this.maxX,this.maxY)}scale(t,i=t){return this.minX*=t,this.minY*=i,this.maxX*=t,this.maxY*=i,this}get x(){return this.minX}set x(t){const i=this.maxX-this.minX;this.minX=t,this.maxX=t+i}get y(){return this.minY}set y(t){const i=this.maxY-this.minY;this.minY=t,this.maxY=t+i}get width(){return this.maxX-this.minX}set width(t){this.maxX=this.minX+t}get height(){return this.maxY-this.minY}set height(t){this.maxY=this.minY+t}get left(){return this.minX}get right(){return this.maxX}get top(){return this.minY}get bottom(){return this.maxY}get isPositive(){return this.maxX-this.minX>0&&this.maxY-this.minY>0}get isValid(){return this.minX+this.minY!==1/0}addVertexData(t,i,a,l){let u=this.minX,c=this.minY,f=this.maxX,d=this.maxY;l||(l=this.matrix);const p=l.a,g=l.b,y=l.c,_=l.d,b=l.tx,A=l.ty;for(let w=i;w<a;w+=2){const S=t[w],T=t[w+1],C=p*S+y*T+b,E=g*S+_*T+A;u=C<u?C:u,c=E<c?E:c,f=C>f?C:f,d=E>d?E:d}this.minX=u,this.minY=c,this.maxX=f,this.maxY=d}containsPoint(t,i){return this.minX<=t&&this.minY<=i&&this.maxX>=t&&this.maxY>=i}toString(){return`[pixi.js:Bounds minX=${this.minX} minY=${this.minY} maxX=${this.maxX} maxY=${this.maxY} width=${this.width} height=${this.height}]`}copyFrom(t){return this.minX=t.minX,this.minY=t.minY,this.maxX=t.maxX,this.maxY=t.maxY,this}}var E1={grad:.9,turn:360,rad:360/(2*Math.PI)},Li=function(s){return typeof s=="string"?s.length>0:typeof s=="number"},re=function(s,t,i){return t===void 0&&(t=0),i===void 0&&(i=Math.pow(10,t)),Math.round(i*s)/i+0},Qe=function(s,t,i){return t===void 0&&(t=0),i===void 0&&(i=1),s>i?i:s>t?s:t},Ky=function(s){return(s=isFinite(s)?s%360:0)>0?s:s+360},gg=function(s){return{r:Qe(s.r,0,255),g:Qe(s.g,0,255),b:Qe(s.b,0,255),a:Qe(s.a)}},Pc=function(s){return{r:re(s.r),g:re(s.g),b:re(s.b),a:re(s.a,3)}},R1=/^#([0-9a-f]{3,8})$/i,Ll=function(s){var t=s.toString(16);return t.length<2?"0"+t:t},$y=function(s){var t=s.r,i=s.g,a=s.b,l=s.a,u=Math.max(t,i,a),c=u-Math.min(t,i,a),f=c?u===t?(i-a)/c:u===i?2+(a-t)/c:4+(t-i)/c:0;return{h:60*(f<0?f+6:f),s:u?c/u*100:0,v:u/255*100,a:l}},Jy=function(s){var t=s.h,i=s.s,a=s.v,l=s.a;t=t/360*6,i/=100,a/=100;var u=Math.floor(t),c=a*(1-i),f=a*(1-(t-u)*i),d=a*(1-(1-t+u)*i),p=u%6;return{r:255*[a,f,c,c,d,a][p],g:255*[d,a,a,f,c,c][p],b:255*[c,c,d,a,a,f][p],a:l}},yg=function(s){return{h:Ky(s.h),s:Qe(s.s,0,100),l:Qe(s.l,0,100),a:Qe(s.a)}},xg=function(s){return{h:re(s.h),s:re(s.s),l:re(s.l),a:re(s.a,3)}},_g=function(s){return Jy((i=(t=s).s,{h:t.h,s:(i*=((a=t.l)<50?a:100-a)/100)>0?2*i/(a+i)*100:0,v:a+i,a:t.a}));var t,i,a},rr=function(s){return{h:(t=$y(s)).h,s:(l=(200-(i=t.s))*(a=t.v)/100)>0&&l<200?i*a/100/(l<=100?l:200-l)*100:0,l:l/2,a:t.a};var t,i,a,l},B1=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,z1=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,O1=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,D1=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,gh={string:[[function(s){var t=R1.exec(s);return t?(s=t[1]).length<=4?{r:parseInt(s[0]+s[0],16),g:parseInt(s[1]+s[1],16),b:parseInt(s[2]+s[2],16),a:s.length===4?re(parseInt(s[3]+s[3],16)/255,2):1}:s.length===6||s.length===8?{r:parseInt(s.substr(0,2),16),g:parseInt(s.substr(2,2),16),b:parseInt(s.substr(4,2),16),a:s.length===8?re(parseInt(s.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(s){var t=O1.exec(s)||D1.exec(s);return t?t[2]!==t[4]||t[4]!==t[6]?null:gg({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(s){var t=B1.exec(s)||z1.exec(s);if(!t)return null;var i,a,l=yg({h:(i=t[1],a=t[2],a===void 0&&(a="deg"),Number(i)*(E1[a]||1)),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)});return _g(l)},"hsl"]],object:[[function(s){var t=s.r,i=s.g,a=s.b,l=s.a,u=l===void 0?1:l;return Li(t)&&Li(i)&&Li(a)?gg({r:Number(t),g:Number(i),b:Number(a),a:Number(u)}):null},"rgb"],[function(s){var t=s.h,i=s.s,a=s.l,l=s.a,u=l===void 0?1:l;if(!Li(t)||!Li(i)||!Li(a))return null;var c=yg({h:Number(t),s:Number(i),l:Number(a),a:Number(u)});return _g(c)},"hsl"],[function(s){var t=s.h,i=s.s,a=s.v,l=s.a,u=l===void 0?1:l;if(!Li(t)||!Li(i)||!Li(a))return null;var c=(function(f){return{h:Ky(f.h),s:Qe(f.s,0,100),v:Qe(f.v,0,100),a:Qe(f.a)}})({h:Number(t),s:Number(i),v:Number(a),a:Number(u)});return Jy(c)},"hsv"]]},bg=function(s,t){for(var i=0;i<t.length;i++){var a=t[i][0](s);if(a)return[a,t[i][1]]}return[null,void 0]},k1=function(s){return typeof s=="string"?bg(s.trim(),gh.string):typeof s=="object"&&s!==null?bg(s,gh.object):[null,void 0]},jc=function(s,t){var i=rr(s);return{h:i.h,s:Qe(i.s+100*t,0,100),l:i.l,a:i.a}},Yc=function(s){return(299*s.r+587*s.g+114*s.b)/1e3/255},vg=function(s,t){var i=rr(s);return{h:i.h,s:i.s,l:Qe(i.l+100*t,0,100),a:i.a}},yh=(function(){function s(t){this.parsed=k1(t)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return s.prototype.isValid=function(){return this.parsed!==null},s.prototype.brightness=function(){return re(Yc(this.rgba),2)},s.prototype.isDark=function(){return Yc(this.rgba)<.5},s.prototype.isLight=function(){return Yc(this.rgba)>=.5},s.prototype.toHex=function(){return t=Pc(this.rgba),i=t.r,a=t.g,l=t.b,c=(u=t.a)<1?Ll(re(255*u)):"","#"+Ll(i)+Ll(a)+Ll(l)+c;var t,i,a,l,u,c},s.prototype.toRgb=function(){return Pc(this.rgba)},s.prototype.toRgbString=function(){return t=Pc(this.rgba),i=t.r,a=t.g,l=t.b,(u=t.a)<1?"rgba("+i+", "+a+", "+l+", "+u+")":"rgb("+i+", "+a+", "+l+")";var t,i,a,l,u},s.prototype.toHsl=function(){return xg(rr(this.rgba))},s.prototype.toHslString=function(){return t=xg(rr(this.rgba)),i=t.h,a=t.s,l=t.l,(u=t.a)<1?"hsla("+i+", "+a+"%, "+l+"%, "+u+")":"hsl("+i+", "+a+"%, "+l+"%)";var t,i,a,l,u},s.prototype.toHsv=function(){return t=$y(this.rgba),{h:re(t.h),s:re(t.s),v:re(t.v),a:re(t.a,3)};var t},s.prototype.invert=function(){return gi({r:255-(t=this.rgba).r,g:255-t.g,b:255-t.b,a:t.a});var t},s.prototype.saturate=function(t){return t===void 0&&(t=.1),gi(jc(this.rgba,t))},s.prototype.desaturate=function(t){return t===void 0&&(t=.1),gi(jc(this.rgba,-t))},s.prototype.grayscale=function(){return gi(jc(this.rgba,-1))},s.prototype.lighten=function(t){return t===void 0&&(t=.1),gi(vg(this.rgba,t))},s.prototype.darken=function(t){return t===void 0&&(t=.1),gi(vg(this.rgba,-t))},s.prototype.rotate=function(t){return t===void 0&&(t=15),this.hue(this.hue()+t)},s.prototype.alpha=function(t){return typeof t=="number"?gi({r:(i=this.rgba).r,g:i.g,b:i.b,a:t}):re(this.rgba.a,3);var i},s.prototype.hue=function(t){var i=rr(this.rgba);return typeof t=="number"?gi({h:t,s:i.s,l:i.l,a:i.a}):re(i.h)},s.prototype.isEqual=function(t){return this.toHex()===gi(t).toHex()},s})(),gi=function(s){return s instanceof yh?s:new yh(s)},Sg=[],U1=function(s){s.forEach(function(t){Sg.indexOf(t)<0&&(t(yh,gh),Sg.push(t))})};function G1(s,t){var i={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},a={};for(var l in i)a[i[l]]=l;var u={};s.prototype.toName=function(c){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var f,d,p=a[this.toHex()];if(p)return p;if(c?.closest){var g=this.toRgb(),y=1/0,_="black";if(!u.length)for(var b in i)u[b]=new s(i[b]).toRgb();for(var A in i){var w=(f=g,d=u[A],Math.pow(f.r-d.r,2)+Math.pow(f.g-d.g,2)+Math.pow(f.b-d.b,2));w<y&&(y=w,_=A)}return _}},t.string.push([function(c){var f=c.toLowerCase(),d=f==="transparent"?"#0000":i[f];return d?new s(d).toRgb():null},"name"])}U1([G1]);const Ys=class er{constructor(t=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=t}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(t){return this.value=t,this}set value(t){if(t instanceof er)this._value=this._cloneSource(t._value),this._int=t._int,this._components.set(t._components);else{if(t===null)throw new Error("Cannot set Color#value to null");(this._value===null||!this._isSourceEqual(this._value,t))&&(this._value=this._cloneSource(t),this._normalize(this._value))}}get value(){return this._value}_cloneSource(t){return typeof t=="string"||typeof t=="number"||t instanceof Number||t===null?t:Array.isArray(t)||ArrayBuffer.isView(t)?t.slice(0):typeof t=="object"&&t!==null?{...t}:t}_isSourceEqual(t,i){const a=typeof t;if(a!==typeof i)return!1;if(a==="number"||a==="string"||t instanceof Number)return t===i;if(Array.isArray(t)&&Array.isArray(i)||ArrayBuffer.isView(t)&&ArrayBuffer.isView(i))return t.length!==i.length?!1:t.every((u,c)=>u===i[c]);if(t!==null&&i!==null){const u=Object.keys(t),c=Object.keys(i);return u.length!==c.length?!1:u.every(f=>t[f]===i[f])}return t===i}toRgba(){const[t,i,a,l]=this._components;return{r:t,g:i,b:a,a:l}}toRgb(){const[t,i,a]=this._components;return{r:t,g:i,b:a}}toRgbaString(){const[t,i,a]=this.toUint8RgbArray();return`rgba(${t},${i},${a},${this.alpha})`}toUint8RgbArray(t){const[i,a,l]=this._components;return this._arrayRgb||(this._arrayRgb=[]),t||(t=this._arrayRgb),t[0]=Math.round(i*255),t[1]=Math.round(a*255),t[2]=Math.round(l*255),t}toArray(t){this._arrayRgba||(this._arrayRgba=[]),t||(t=this._arrayRgba);const[i,a,l,u]=this._components;return t[0]=i,t[1]=a,t[2]=l,t[3]=u,t}toRgbArray(t){this._arrayRgb||(this._arrayRgb=[]),t||(t=this._arrayRgb);const[i,a,l]=this._components;return t[0]=i,t[1]=a,t[2]=l,t}toNumber(){return this._int}toBgrNumber(){const[t,i,a]=this.toUint8RgbArray();return(a<<16)+(i<<8)+t}toLittleEndianNumber(){const t=this._int;return(t>>16)+(t&65280)+((t&255)<<16)}multiply(t){const[i,a,l,u]=er._temp.setValue(t)._components;return this._components[0]*=i,this._components[1]*=a,this._components[2]*=l,this._components[3]*=u,this._refreshInt(),this._value=null,this}premultiply(t,i=!0){return i&&(this._components[0]*=t,this._components[1]*=t,this._components[2]*=t),this._components[3]=t,this._refreshInt(),this._value=null,this}toPremultiplied(t,i=!0){if(t===1)return(255<<24)+this._int;if(t===0)return i?0:this._int;let a=this._int>>16&255,l=this._int>>8&255,u=this._int&255;return i&&(a=a*t+.5|0,l=l*t+.5|0,u=u*t+.5|0),(t*255<<24)+(a<<16)+(l<<8)+u}toHex(){const t=this._int.toString(16);return`#${"000000".substring(0,6-t.length)+t}`}toHexa(){const i=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-i.length)+i}setAlpha(t){return this._components[3]=this._clamp(t),this}_normalize(t){let i,a,l,u;if((typeof t=="number"||t instanceof Number)&&t>=0&&t<=16777215){const c=t;i=(c>>16&255)/255,a=(c>>8&255)/255,l=(c&255)/255,u=1}else if((Array.isArray(t)||t instanceof Float32Array)&&t.length>=3&&t.length<=4)t=this._clamp(t),[i,a,l,u=1]=t;else if((t instanceof Uint8Array||t instanceof Uint8ClampedArray)&&t.length>=3&&t.length<=4)t=this._clamp(t,0,255),[i,a,l,u=255]=t,i/=255,a/=255,l/=255,u/=255;else if(typeof t=="string"||typeof t=="object"){if(typeof t=="string"){const f=er.HEX_PATTERN.exec(t);f&&(t=`#${f[2]}`)}const c=gi(t);c.isValid()&&({r:i,g:a,b:l,a:u}=c.rgba,i/=255,a/=255,l/=255)}if(i!==void 0)this._components[0]=i,this._components[1]=a,this._components[2]=l,this._components[3]=u,this._refreshInt();else throw new Error(`Unable to convert color ${t}`)}_refreshInt(){this._clamp(this._components);const[t,i,a]=this._components;this._int=(t*255<<16)+(i*255<<8)+(a*255|0)}_clamp(t,i=0,a=1){return typeof t=="number"?Math.min(Math.max(t,i),a):(t.forEach((l,u)=>{t[u]=Math.min(Math.max(l,i),a)}),t)}static isColorLike(t){return typeof t=="number"||typeof t=="string"||t instanceof Number||t instanceof er||Array.isArray(t)||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Float32Array||t.r!==void 0&&t.g!==void 0&&t.b!==void 0||t.r!==void 0&&t.g!==void 0&&t.b!==void 0&&t.a!==void 0||t.h!==void 0&&t.s!==void 0&&t.l!==void 0||t.h!==void 0&&t.s!==void 0&&t.l!==void 0&&t.a!==void 0||t.h!==void 0&&t.s!==void 0&&t.v!==void 0||t.h!==void 0&&t.s!==void 0&&t.v!==void 0&&t.a!==void 0}};Ys.shared=new Ys;Ys._temp=new Ys;Ys.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let Kt=Ys;const L1={cullArea:null,cullable:!1,cullableChildren:!0};let Fc=0;const Ag=500;function Gt(...s){Fc!==Ag&&(Fc++,Fc===Ag?console.warn("PixiJS Warning: too many warnings, no more warnings will be reported to the console by PixiJS."):console.warn("PixiJS Warning: ",...s))}class jh{constructor(t,i){this._pool=[],this._count=0,this._index=0,this._classType=t,i&&this.prepopulate(i)}prepopulate(t){for(let i=0;i<t;i++)this._pool[this._index++]=new this._classType;this._count+=t}get(t){let i;return this._index>0?i=this._pool[--this._index]:i=new this._classType,i.init?.(t),i}return(t){t.reset?.(),this._pool[this._index++]=t}get totalSize(){return this._count}get totalFree(){return this._index}get totalUsed(){return this._count-this._index}clear(){this._pool.length=0,this._index=0}}class H1{constructor(){this._poolsByClass=new Map}prepopulate(t,i){this.getPool(t).prepopulate(i)}get(t,i){return this.getPool(t).get(i)}return(t){this.getPool(t.constructor).return(t)}getPool(t){return this._poolsByClass.has(t)||this._poolsByClass.set(t,new jh(t)),this._poolsByClass.get(t)}stats(){const t={};return this._poolsByClass.forEach(i=>{const a=t[i._classType.name]?i._classType.name+i._classType.ID:i._classType.name;t[a]={free:i.totalFree,used:i.totalUsed,size:i.totalSize}}),t}}const Pi=new H1,N1={get isCachedAsTexture(){return!!this.renderGroup?.isCachedAsTexture},cacheAsTexture(s){typeof s=="boolean"&&s===!1?this.disableRenderGroup():(this.enableRenderGroup(),this.renderGroup.enableCacheAsTexture(s===!0?{}:s))},updateCacheTexture(){this.renderGroup?.updateCacheTexture()},get cacheAsBitmap(){return this.isCachedAsTexture},set cacheAsBitmap(s){xt("v8.6.0","cacheAsBitmap is deprecated, use cacheAsTexture instead."),this.cacheAsTexture(s)}};function P1(s,t,i){const a=s.length;let l;if(t>=a||i===0)return;i=t+i>a?a-t:i;const u=a-i;for(l=t;l<u;++l)s[l]=s[l+i];s.length=u}const j1={allowChildren:!0,removeChildren(s=0,t){const i=t??this.children.length,a=i-s,l=[];if(a>0&&a<=i){for(let c=i-1;c>=s;c--){const f=this.children[c];f&&(l.push(f),f.parent=null)}P1(this.children,s,i);const u=this.renderGroup||this.parentRenderGroup;u&&u.removeChildren(l);for(let c=0;c<l.length;++c){const f=l[c];f.parentRenderLayer?.detach(f),this.emit("childRemoved",f,this,c),l[c].emit("removed",this)}return l.length>0&&this._didViewChangeTick++,l}else if(a===0&&this.children.length===0)return l;throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},removeChildAt(s){const t=this.getChildAt(s);return this.removeChild(t)},getChildAt(s){if(s<0||s>=this.children.length)throw new Error(`getChildAt: Index (${s}) does not exist.`);return this.children[s]},setChildIndex(s,t){if(t<0||t>=this.children.length)throw new Error(`The index ${t} supplied is out of bounds ${this.children.length}`);this.getChildIndex(s),this.addChildAt(s,t)},getChildIndex(s){const t=this.children.indexOf(s);if(t===-1)throw new Error("The supplied Container must be a child of the caller");return t},addChildAt(s,t){this.allowChildren||xt(Et,"addChildAt: Only Containers will be allowed to add children in v8.0.0");const{children:i}=this;if(t<0||t>i.length)throw new Error(`${s}addChildAt: The index ${t} supplied is out of bounds ${i.length}`);if(s.parent){const l=s.parent.children.indexOf(s);if(s.parent===this&&l===t)return s;l!==-1&&s.parent.children.splice(l,1)}t===i.length?i.push(s):i.splice(t,0,s),s.parent=this,s.didChange=!0,s._updateFlags=15;const a=this.renderGroup||this.parentRenderGroup;return a&&a.addChild(s),this.sortableChildren&&(this.sortDirty=!0),this.emit("childAdded",s,this,t),s.emit("added",this),s},swapChildren(s,t){if(s===t)return;const i=this.getChildIndex(s),a=this.getChildIndex(t);this.children[i]=t,this.children[a]=s;const l=this.renderGroup||this.parentRenderGroup;l&&(l.structureDidChange=!0),this._didContainerChangeTick++},removeFromParent(){this.parent?.removeChild(this)},reparentChild(...s){return s.length===1?this.reparentChildAt(s[0],this.children.length):(s.forEach(t=>this.reparentChildAt(t,this.children.length)),s[0])},reparentChildAt(s,t){if(s.parent===this)return this.setChildIndex(s,t),s;const i=s.worldTransform.clone();s.removeFromParent(),this.addChildAt(s,t);const a=this.worldTransform.clone();return a.invert(),i.prepend(a),s.setFromMatrix(i),s},replaceChild(s,t){s.updateLocalTransform(),this.addChildAt(t,this.getChildIndex(s)),t.setFromMatrix(s.localTransform),t.updateLocalTransform(),this.removeChild(s)}},Y1={collectRenderables(s,t,i){this.parentRenderLayer&&this.parentRenderLayer!==i||this.globalDisplayStatus<7||!this.includeInBuild||(this.sortableChildren&&this.sortChildren(),this.isSimple?this.collectRenderablesSimple(s,t,i):this.renderGroup?t.renderPipes.renderGroup.addRenderGroup(this.renderGroup,s):this.collectRenderablesWithEffects(s,t,i))},collectRenderablesSimple(s,t,i){const a=this.children,l=a.length;for(let u=0;u<l;u++)a[u].collectRenderables(s,t,i)},collectRenderablesWithEffects(s,t,i){const{renderPipes:a}=t;for(let l=0;l<this.effects.length;l++){const u=this.effects[l];a[u.pipe].push(u,this,s)}this.collectRenderablesSimple(s,t,i);for(let l=this.effects.length-1;l>=0;l--){const u=this.effects[l];a[u.pipe].pop(u,this,s)}}};class wg{constructor(){this.pipe="filter",this.priority=1}destroy(){for(let t=0;t<this.filters.length;t++)this.filters[t].destroy();this.filters=null,this.filterArea=null}}class F1{constructor(){this._effectClasses=[],this._tests=[],this._initialized=!1}init(){this._initialized||(this._initialized=!0,this._effectClasses.forEach(t=>{this.add({test:t.test,maskClass:t})}))}add(t){this._tests.push(t)}getMaskEffect(t){this._initialized||this.init();for(let i=0;i<this._tests.length;i++){const a=this._tests[i];if(a.test(t))return Pi.get(a.maskClass,t)}return t}returnMaskEffect(t){Pi.return(t)}}const xh=new F1;he.handleByList(nt.MaskEffect,xh._effectClasses);const V1={_maskEffect:null,_maskOptions:{inverse:!1},_filterEffect:null,effects:[],_markStructureAsChanged(){const s=this.renderGroup||this.parentRenderGroup;s&&(s.structureDidChange=!0)},addEffect(s){this.effects.indexOf(s)===-1&&(this.effects.push(s),this.effects.sort((i,a)=>i.priority-a.priority),this._markStructureAsChanged(),this._updateIsSimple())},removeEffect(s){const t=this.effects.indexOf(s);t!==-1&&(this.effects.splice(t,1),this._markStructureAsChanged(),this._updateIsSimple())},set mask(s){const t=this._maskEffect;t?.mask!==s&&(t&&(this.removeEffect(t),xh.returnMaskEffect(t),this._maskEffect=null),s!=null&&(this._maskEffect=xh.getMaskEffect(s),this.addEffect(this._maskEffect)))},get mask(){return this._maskEffect?.mask},setMask(s){this._maskOptions={...this._maskOptions,...s},s.mask&&(this.mask=s.mask),this._markStructureAsChanged()},set filters(s){!Array.isArray(s)&&s&&(s=[s]);const t=this._filterEffect||(this._filterEffect=new wg);s=s;const i=s?.length>0,a=t.filters?.length>0,l=i!==a;s=Array.isArray(s)?s.slice(0):s,t.filters=Object.freeze(s),l&&(i?this.addEffect(t):(this.removeEffect(t),t.filters=s??null))},get filters(){return this._filterEffect?.filters},set filterArea(s){this._filterEffect||(this._filterEffect=new wg),this._filterEffect.filterArea=s},get filterArea(){return this._filterEffect?.filterArea}},X1={label:null,get name(){return xt(Et,"Container.name property has been removed, use Container.label instead"),this.label},set name(s){xt(Et,"Container.name property has been removed, use Container.label instead"),this.label=s},getChildByName(s,t=!1){return this.getChildByLabel(s,t)},getChildByLabel(s,t=!1){const i=this.children;for(let a=0;a<i.length;a++){const l=i[a];if(l.label===s||s instanceof RegExp&&s.test(l.label))return l}if(t)for(let a=0;a<i.length;a++){const u=i[a].getChildByLabel(s,!0);if(u)return u}return null},getChildrenByLabel(s,t=!1,i=[]){const a=this.children;for(let l=0;l<a.length;l++){const u=a[l];(u.label===s||s instanceof RegExp&&s.test(u.label))&&i.push(u)}if(t)for(let l=0;l<a.length;l++)a[l].getChildrenByLabel(s,!0,i);return i}},xe=new jh(bt),ji=new jh(oi),q1=new bt,I1={getFastGlobalBounds(s,t){t||(t=new oi),t.clear(),this._getGlobalBoundsRecursive(!!s,t,this.parentRenderLayer),t.isValid||t.set(0,0,0,0);const i=this.renderGroup||this.parentRenderGroup;return t.applyMatrix(i.worldTransform),t},_getGlobalBoundsRecursive(s,t,i){let a=t;if(s&&this.parentRenderLayer&&this.parentRenderLayer!==i||this.localDisplayStatus!==7||!this.measurable)return;const l=!!this.effects.length;if((this.renderGroup||l)&&(a=ji.get().clear()),this.boundsArea)t.addRect(this.boundsArea,this.worldTransform);else{if(this.renderPipeId){const c=this.bounds;a.addFrame(c.minX,c.minY,c.maxX,c.maxY,this.groupTransform)}const u=this.children;for(let c=0;c<u.length;c++)u[c]._getGlobalBoundsRecursive(s,a,i)}if(l){let u=!1;const c=this.renderGroup||this.parentRenderGroup;for(let f=0;f<this.effects.length;f++)this.effects[f].addBounds&&(u||(u=!0,a.applyMatrix(c.worldTransform)),this.effects[f].addBounds(a,!0));u&&a.applyMatrix(c.worldTransform.copyTo(q1).invert()),t.addBounds(a),ji.return(a)}else this.renderGroup&&(t.addBounds(a,this.relativeGroupTransform),ji.return(a))}};function t0(s,t,i){i.clear();let a,l;return s.parent?t?a=s.parent.worldTransform:(l=xe.get().identity(),a=Yh(s,l)):a=bt.IDENTITY,e0(s,i,a,t),l&&xe.return(l),i.isValid||i.set(0,0,0,0),i}function e0(s,t,i,a){if(!s.visible||!s.measurable)return;let l;a?l=s.worldTransform:(s.updateLocalTransform(),l=xe.get(),l.appendFrom(s.localTransform,i));const u=t,c=!!s.effects.length;if(c&&(t=ji.get().clear()),s.boundsArea)t.addRect(s.boundsArea,l);else{s.bounds&&(t.matrix=l,t.addBounds(s.bounds));for(let f=0;f<s.children.length;f++)e0(s.children[f],t,l,a)}if(c){for(let f=0;f<s.effects.length;f++)s.effects[f].addBounds?.(t);u.addBounds(t,bt.IDENTITY),ji.return(t)}a||xe.return(l)}function Yh(s,t){const i=s.parent;return i&&(Yh(i,t),i.updateLocalTransform(),t.append(i.localTransform)),t}function i0(s,t){if(s===16777215||!t)return t;if(t===16777215||!s)return s;const i=s>>16&255,a=s>>8&255,l=s&255,u=t>>16&255,c=t>>8&255,f=t&255,d=i*u/255|0,p=a*c/255|0,g=l*f/255|0;return(d<<16)+(p<<8)+g}const Tg=16777215;function Cg(s,t){return s===Tg?t:t===Tg?s:i0(s,t)}function $l(s){return((s&255)<<16)+(s&65280)+(s>>16&255)}const W1={getGlobalAlpha(s){if(s)return this.renderGroup?this.renderGroup.worldAlpha:this.parentRenderGroup?this.parentRenderGroup.worldAlpha*this.alpha:this.alpha;let t=this.alpha,i=this.parent;for(;i;)t*=i.alpha,i=i.parent;return t},getGlobalTransform(s=new bt,t){if(t)return s.copyFrom(this.worldTransform);this.updateLocalTransform();const i=Yh(this,xe.get().identity());return s.appendFrom(this.localTransform,i),xe.return(i),s},getGlobalTint(s){if(s)return this.renderGroup?$l(this.renderGroup.worldColor):this.parentRenderGroup?$l(Cg(this.localColor,this.parentRenderGroup.worldColor)):this.tint;let t=this.localColor,i=this.parent;for(;i;)t=Cg(t,i.localColor),i=i.parent;return $l(t)}};function n0(s,t,i){return t.clear(),i||(i=bt.IDENTITY),s0(s,t,i,s,!0),t.isValid||t.set(0,0,0,0),t}function s0(s,t,i,a,l){let u;if(l)u=xe.get(),u=i.copyTo(u);else{if(!s.visible||!s.measurable)return;s.updateLocalTransform();const d=s.localTransform;u=xe.get(),u.appendFrom(d,i)}const c=t,f=!!s.effects.length;if(f&&(t=ji.get().clear()),s.boundsArea)t.addRect(s.boundsArea,u);else{s.renderPipeId&&(t.matrix=u,t.addBounds(s.bounds));const d=s.children;for(let p=0;p<d.length;p++)s0(d[p],t,u,a,!1)}if(f){for(let d=0;d<s.effects.length;d++)s.effects[d].addLocalBounds?.(t,a);c.addBounds(t,bt.IDENTITY),ji.return(t)}xe.return(u)}function a0(s,t){const i=s.children;for(let a=0;a<i.length;a++){const l=i[a],u=l.uid,c=(l._didViewChangeTick&65535)<<16|l._didContainerChangeTick&65535,f=t.index;(t.data[f]!==u||t.data[f+1]!==c)&&(t.data[t.index]=u,t.data[t.index+1]=c,t.didChange=!0),t.index=f+2,l.children.length&&a0(l,t)}return t.didChange}const Z1=new bt,Q1={_localBoundsCacheId:-1,_localBoundsCacheData:null,_setWidth(s,t){const i=Math.sign(this.scale.x)||1;t!==0?this.scale.x=s/t*i:this.scale.x=i},_setHeight(s,t){const i=Math.sign(this.scale.y)||1;t!==0?this.scale.y=s/t*i:this.scale.y=i},getLocalBounds(){this._localBoundsCacheData||(this._localBoundsCacheData={data:[],index:1,didChange:!1,localBounds:new oi});const s=this._localBoundsCacheData;return s.index=1,s.didChange=!1,s.data[0]!==this._didViewChangeTick&&(s.didChange=!0,s.data[0]=this._didViewChangeTick),a0(this,s),s.didChange&&n0(this,s.localBounds,Z1),s.localBounds},getBounds(s,t){return t0(this,s,t||new oi)}},K1={_onRender:null,set onRender(s){const t=this.renderGroup||this.parentRenderGroup;if(!s){this._onRender&&t?.removeOnRender(this),this._onRender=null;return}this._onRender||t?.addOnRender(this),this._onRender=s},get onRender(){return this._onRender}},$1={_zIndex:0,sortDirty:!1,sortableChildren:!1,get zIndex(){return this._zIndex},set zIndex(s){this._zIndex!==s&&(this._zIndex=s,this.depthOfChildModified())},depthOfChildModified(){this.parent&&(this.parent.sortableChildren=!0,this.parent.sortDirty=!0),this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0)},sortChildren(){this.sortDirty&&(this.sortDirty=!1,this.children.sort(J1))}};function J1(s,t){return s._zIndex-t._zIndex}const tS={getGlobalPosition(s=new ge,t=!1){return this.parent?this.parent.toGlobal(this._position,s,t):(s.x=this._position.x,s.y=this._position.y),s},toGlobal(s,t,i=!1){const a=this.getGlobalTransform(xe.get(),i);return t=a.apply(s,t),xe.return(a),t},toLocal(s,t,i,a){t&&(s=t.toGlobal(s,i,a));const l=this.getGlobalTransform(xe.get(),a);return i=l.applyInverse(s,i),xe.return(l),i}};class r0{constructor(){this.uid=Qt("instructionSet"),this.instructions=[],this.instructionSize=0,this.renderables=[],this.gcTick=0}reset(){this.instructionSize=0}add(t){this.instructions[this.instructionSize++]=t}log(){this.instructions.length=this.instructionSize,console.table(this.instructions,["type","action"])}}let eS=0;class iS{constructor(t){this._poolKeyHash=Object.create(null),this._texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this.textureStyle=new js(this.textureOptions)}createTexture(t,i,a){const l=new ci({...this.textureOptions,width:t,height:i,resolution:1,antialias:a,autoGarbageCollect:!1});return new vt({source:l,label:`texturePool_${eS++}`})}getOptimalTexture(t,i,a=1,l){let u=Math.ceil(t*a-1e-6),c=Math.ceil(i*a-1e-6);u=Ps(u),c=Ps(c);const f=(u<<17)+(c<<1)+(l?1:0);this._texturePool[f]||(this._texturePool[f]=[]);let d=this._texturePool[f].pop();return d||(d=this.createTexture(u,c,l)),d.source._resolution=a,d.source.width=u/a,d.source.height=c/a,d.source.pixelWidth=u,d.source.pixelHeight=c,d.frame.x=0,d.frame.y=0,d.frame.width=t,d.frame.height=i,d.updateUvs(),this._poolKeyHash[d.uid]=f,d}getSameSizeTexture(t,i=!1){const a=t.source;return this.getOptimalTexture(t.width,t.height,a._resolution,i)}returnTexture(t,i=!1){const a=this._poolKeyHash[t.uid];i&&(t.source.style=this.textureStyle),this._texturePool[a].push(t)}clear(t){if(t=t!==!1,t)for(const i in this._texturePool){const a=this._texturePool[i];if(a)for(let l=0;l<a.length;l++)a[l].destroy(!0)}this._texturePool={}}}const nS=new iS;class sS{constructor(){this.renderPipeId="renderGroup",this.root=null,this.canBundle=!1,this.renderGroupParent=null,this.renderGroupChildren=[],this.worldTransform=new bt,this.worldColorAlpha=4294967295,this.worldColor=16777215,this.worldAlpha=1,this.childrenToUpdate=Object.create(null),this.updateTick=0,this.gcTick=0,this.childrenRenderablesToUpdate={list:[],index:0},this.structureDidChange=!0,this.instructionSet=new r0,this._onRenderContainers=[],this.textureNeedsUpdate=!0,this.isCachedAsTexture=!1,this._matrixDirty=7}init(t){this.root=t,t._onRender&&this.addOnRender(t),t.didChange=!0;const i=t.children;for(let a=0;a<i.length;a++){const l=i[a];l._updateFlags=15,this.addChild(l)}}enableCacheAsTexture(t={}){this.textureOptions=t,this.isCachedAsTexture=!0,this.textureNeedsUpdate=!0}disableCacheAsTexture(){this.isCachedAsTexture=!1,this.texture&&(nS.returnTexture(this.texture,!0),this.texture=null)}updateCacheTexture(){this.textureNeedsUpdate=!0}reset(){this.renderGroupChildren.length=0;for(const t in this.childrenToUpdate){const i=this.childrenToUpdate[t];i.list.fill(null),i.index=0}this.childrenRenderablesToUpdate.index=0,this.childrenRenderablesToUpdate.list.fill(null),this.root=null,this.updateTick=0,this.structureDidChange=!0,this._onRenderContainers.length=0,this.renderGroupParent=null,this.disableCacheAsTexture()}get localTransform(){return this.root.localTransform}addRenderGroupChild(t){t.renderGroupParent&&t.renderGroupParent._removeRenderGroupChild(t),t.renderGroupParent=this,this.renderGroupChildren.push(t)}_removeRenderGroupChild(t){const i=this.renderGroupChildren.indexOf(t);i>-1&&this.renderGroupChildren.splice(i,1),t.renderGroupParent=null}addChild(t){if(this.structureDidChange=!0,t.parentRenderGroup=this,t.updateTick=-1,t.parent===this.root?t.relativeRenderGroupDepth=1:t.relativeRenderGroupDepth=t.parent.relativeRenderGroupDepth+1,t.didChange=!0,this.onChildUpdate(t),t.renderGroup){this.addRenderGroupChild(t.renderGroup);return}t._onRender&&this.addOnRender(t);const i=t.children;for(let a=0;a<i.length;a++)this.addChild(i[a])}removeChild(t){if(this.structureDidChange=!0,t._onRender&&(t.renderGroup||this.removeOnRender(t)),t.parentRenderGroup=null,t.renderGroup){this._removeRenderGroupChild(t.renderGroup);return}const i=t.children;for(let a=0;a<i.length;a++)this.removeChild(i[a])}removeChildren(t){for(let i=0;i<t.length;i++)this.removeChild(t[i])}onChildUpdate(t){let i=this.childrenToUpdate[t.relativeRenderGroupDepth];i||(i=this.childrenToUpdate[t.relativeRenderGroupDepth]={index:0,list:[]}),i.list[i.index++]=t}updateRenderable(t){t.globalDisplayStatus<7||(this.instructionSet.renderPipes[t.renderPipeId].updateRenderable(t),t.didViewUpdate=!1)}onChildViewUpdate(t){this.childrenRenderablesToUpdate.list[this.childrenRenderablesToUpdate.index++]=t}get isRenderable(){return this.root.localDisplayStatus===7&&this.worldAlpha>0}addOnRender(t){this._onRenderContainers.push(t)}removeOnRender(t){this._onRenderContainers.splice(this._onRenderContainers.indexOf(t),1)}runOnRender(t){for(let i=0;i<this._onRenderContainers.length;i++)this._onRenderContainers[i]._onRender(t)}destroy(){this.disableCacheAsTexture(),this.renderGroupParent=null,this.root=null,this.childrenRenderablesToUpdate=null,this.childrenToUpdate=null,this.renderGroupChildren=null,this._onRenderContainers=null,this.instructionSet=null}getChildren(t=[]){const i=this.root.children;for(let a=0;a<i.length;a++)this._getChildren(i[a],t);return t}_getChildren(t,i=[]){if(i.push(t),t.renderGroup)return i;const a=t.children;for(let l=0;l<a.length;l++)this._getChildren(a[l],i);return i}invalidateMatrices(){this._matrixDirty=7}get inverseWorldTransform(){return(this._matrixDirty&1)===0?this._inverseWorldTransform:(this._matrixDirty&=-2,this._inverseWorldTransform||(this._inverseWorldTransform=new bt),this._inverseWorldTransform.copyFrom(this.worldTransform).invert())}get textureOffsetInverseTransform(){return(this._matrixDirty&2)===0?this._textureOffsetInverseTransform:(this._matrixDirty&=-3,this._textureOffsetInverseTransform||(this._textureOffsetInverseTransform=new bt),this._textureOffsetInverseTransform.copyFrom(this.inverseWorldTransform).translate(-this._textureBounds.x,-this._textureBounds.y))}get inverseParentTextureTransform(){if((this._matrixDirty&4)===0)return this._inverseParentTextureTransform;this._matrixDirty&=-5;const t=this._parentCacheAsTextureRenderGroup;return t?(this._inverseParentTextureTransform||(this._inverseParentTextureTransform=new bt),this._inverseParentTextureTransform.copyFrom(this.worldTransform).prepend(t.inverseWorldTransform).translate(-t._textureBounds.x,-t._textureBounds.y)):this.worldTransform}get cacheToLocalTransform(){return this._parentCacheAsTextureRenderGroup?this._parentCacheAsTextureRenderGroup.textureOffsetInverseTransform:null}}function aS(s,t,i={}){for(const a in t)!i[a]&&t[a]!==void 0&&(s[a]=t[a])}const Vc=new ce(null),Hl=new ce(null),Xc=new ce(null,1,1),Nl=new ce(null),Mg=1,rS=2,qc=4;class Xi extends ui{constructor(t={}){super(),this.uid=Qt("renderable"),this._updateFlags=15,this.renderGroup=null,this.parentRenderGroup=null,this.parentRenderGroupIndex=0,this.didChange=!1,this.didViewUpdate=!1,this.relativeRenderGroupDepth=0,this.children=[],this.parent=null,this.includeInBuild=!0,this.measurable=!0,this.isSimple=!0,this.updateTick=-1,this.localTransform=new bt,this.relativeGroupTransform=new bt,this.groupTransform=this.relativeGroupTransform,this.destroyed=!1,this._position=new ce(this,0,0),this._scale=Xc,this._pivot=Hl,this._origin=Nl,this._skew=Vc,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._rotation=0,this.localColor=16777215,this.localAlpha=1,this.groupAlpha=1,this.groupColor=16777215,this.groupColorAlpha=4294967295,this.localBlendMode="inherit",this.groupBlendMode="normal",this.localDisplayStatus=7,this.globalDisplayStatus=7,this._didContainerChangeTick=0,this._didViewChangeTick=0,this._didLocalTransformChangeId=-1,this.effects=[],aS(this,t,{children:!0,parent:!0,effects:!0}),t.children?.forEach(i=>this.addChild(i)),t.parent?.addChild(this)}static mixin(t){xt("8.8.0","Container.mixin is deprecated, please use extensions.mixin instead."),he.mixin(Xi,t)}set _didChangeId(t){this._didViewChangeTick=t>>12&4095,this._didContainerChangeTick=t&4095}get _didChangeId(){return this._didContainerChangeTick&4095|(this._didViewChangeTick&4095)<<12}addChild(...t){if(this.allowChildren||xt(Et,"addChild: Only Containers will be allowed to add children in v8.0.0"),t.length>1){for(let l=0;l<t.length;l++)this.addChild(t[l]);return t[0]}const i=t[0],a=this.renderGroup||this.parentRenderGroup;return i.parent===this?(this.children.splice(this.children.indexOf(i),1),this.children.push(i),a&&(a.structureDidChange=!0),i):(i.parent&&i.parent.removeChild(i),this.children.push(i),this.sortableChildren&&(this.sortDirty=!0),i.parent=this,i.didChange=!0,i._updateFlags=15,a&&a.addChild(i),this.emit("childAdded",i,this,this.children.length-1),i.emit("added",this),this._didViewChangeTick++,i._zIndex!==0&&i.depthOfChildModified(),i)}removeChild(...t){if(t.length>1){for(let l=0;l<t.length;l++)this.removeChild(t[l]);return t[0]}const i=t[0],a=this.children.indexOf(i);return a>-1&&(this._didViewChangeTick++,this.children.splice(a,1),this.renderGroup?this.renderGroup.removeChild(i):this.parentRenderGroup&&this.parentRenderGroup.removeChild(i),i.parentRenderLayer&&i.parentRenderLayer.detach(i),i.parent=null,this.emit("childRemoved",i,this,a),i.emit("removed",this)),i}_onUpdate(t){t&&t===this._skew&&this._updateSkew(),this._didContainerChangeTick++,!this.didChange&&(this.didChange=!0,this.parentRenderGroup&&this.parentRenderGroup.onChildUpdate(this))}set isRenderGroup(t){!!this.renderGroup!==t&&(t?this.enableRenderGroup():this.disableRenderGroup())}get isRenderGroup(){return!!this.renderGroup}enableRenderGroup(){if(this.renderGroup)return;const t=this.parentRenderGroup;t?.removeChild(this),this.renderGroup=Pi.get(sS,this),this.groupTransform=bt.IDENTITY,t?.addChild(this),this._updateIsSimple()}disableRenderGroup(){if(!this.renderGroup)return;const t=this.parentRenderGroup;t?.removeChild(this),Pi.return(this.renderGroup),this.renderGroup=null,this.groupTransform=this.relativeGroupTransform,t?.addChild(this),this._updateIsSimple()}_updateIsSimple(){this.isSimple=!this.renderGroup&&this.effects.length===0}get worldTransform(){return this._worldTransform||(this._worldTransform=new bt),this.renderGroup?this._worldTransform.copyFrom(this.renderGroup.worldTransform):this.parentRenderGroup&&this._worldTransform.appendFrom(this.relativeGroupTransform,this.parentRenderGroup.worldTransform),this._worldTransform}get x(){return this._position.x}set x(t){this._position.x=t}get y(){return this._position.y}set y(t){this._position.y=t}get position(){return this._position}set position(t){this._position.copyFrom(t)}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this._onUpdate(this._skew))}get angle(){return this.rotation*_1}set angle(t){this.rotation=t*b1}get pivot(){return this._pivot===Hl&&(this._pivot=new ce(this,0,0)),this._pivot}set pivot(t){this._pivot===Hl&&(this._pivot=new ce(this,0,0),this._origin!==Nl&&Gt("Setting both a pivot and origin on a Container is not recommended. This can lead to unexpected behavior if not handled carefully.")),typeof t=="number"?this._pivot.set(t):this._pivot.copyFrom(t)}get skew(){return this._skew===Vc&&(this._skew=new ce(this,0,0)),this._skew}set skew(t){this._skew===Vc&&(this._skew=new ce(this,0,0)),this._skew.copyFrom(t)}get scale(){return this._scale===Xc&&(this._scale=new ce(this,1,1)),this._scale}set scale(t){this._scale===Xc&&(this._scale=new ce(this,0,0)),typeof t=="string"&&(t=parseFloat(t)),typeof t=="number"?this._scale.set(t):this._scale.copyFrom(t)}get origin(){return this._origin===Nl&&(this._origin=new ce(this,0,0)),this._origin}set origin(t){this._origin===Nl&&(this._origin=new ce(this,0,0),this._pivot!==Hl&&Gt("Setting both a pivot and origin on a Container is not recommended. This can lead to unexpected behavior if not handled carefully.")),typeof t=="number"?this._origin.set(t):this._origin.copyFrom(t)}get width(){return Math.abs(this.scale.x*this.getLocalBounds().width)}set width(t){const i=this.getLocalBounds().width;this._setWidth(t,i)}get height(){return Math.abs(this.scale.y*this.getLocalBounds().height)}set height(t){const i=this.getLocalBounds().height;this._setHeight(t,i)}getSize(t){t||(t={});const i=this.getLocalBounds();return t.width=Math.abs(this.scale.x*i.width),t.height=Math.abs(this.scale.y*i.height),t}setSize(t,i){const a=this.getLocalBounds();typeof t=="object"?(i=t.height??t.width,t=t.width):i??(i=t),t!==void 0&&this._setWidth(t,a.width),i!==void 0&&this._setHeight(i,a.height)}_updateSkew(){const t=this._rotation,i=this._skew;this._cx=Math.cos(t+i._y),this._sx=Math.sin(t+i._y),this._cy=-Math.sin(t-i._x),this._sy=Math.cos(t-i._x)}updateTransform(t){return this.position.set(typeof t.x=="number"?t.x:this.position.x,typeof t.y=="number"?t.y:this.position.y),this.scale.set(typeof t.scaleX=="number"?t.scaleX||1:this.scale.x,typeof t.scaleY=="number"?t.scaleY||1:this.scale.y),this.rotation=typeof t.rotation=="number"?t.rotation:this.rotation,this.skew.set(typeof t.skewX=="number"?t.skewX:this.skew.x,typeof t.skewY=="number"?t.skewY:this.skew.y),this.pivot.set(typeof t.pivotX=="number"?t.pivotX:this.pivot.x,typeof t.pivotY=="number"?t.pivotY:this.pivot.y),this.origin.set(typeof t.originX=="number"?t.originX:this.origin.x,typeof t.originY=="number"?t.originY:this.origin.y),this}setFromMatrix(t){t.decompose(this)}updateLocalTransform(){const t=this._didContainerChangeTick;if(this._didLocalTransformChangeId===t)return;this._didLocalTransformChangeId=t;const i=this.localTransform,a=this._scale,l=this._pivot,u=this._origin,c=this._position,f=a._x,d=a._y,p=l._x,g=l._y,y=-u._x,_=-u._y;i.a=this._cx*f,i.b=this._sx*f,i.c=this._cy*d,i.d=this._sy*d,i.tx=c._x-(p*i.a+g*i.c)+(y*i.a+_*i.c)-y,i.ty=c._y-(p*i.b+g*i.d)+(y*i.b+_*i.d)-_}set alpha(t){t!==this.localAlpha&&(this.localAlpha=t,this._updateFlags|=Mg,this._onUpdate())}get alpha(){return this.localAlpha}set tint(t){const a=Kt.shared.setValue(t??16777215).toBgrNumber();a!==this.localColor&&(this.localColor=a,this._updateFlags|=Mg,this._onUpdate())}get tint(){return $l(this.localColor)}set blendMode(t){this.localBlendMode!==t&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=rS,this.localBlendMode=t,this._onUpdate())}get blendMode(){return this.localBlendMode}get visible(){return!!(this.localDisplayStatus&2)}set visible(t){const i=t?2:0;(this.localDisplayStatus&2)!==i&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=qc,this.localDisplayStatus^=2,this._onUpdate())}get culled(){return!(this.localDisplayStatus&4)}set culled(t){const i=t?0:4;(this.localDisplayStatus&4)!==i&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=qc,this.localDisplayStatus^=4,this._onUpdate())}get renderable(){return!!(this.localDisplayStatus&1)}set renderable(t){const i=t?1:0;(this.localDisplayStatus&1)!==i&&(this._updateFlags|=qc,this.localDisplayStatus^=1,this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._onUpdate())}get isRenderable(){return this.localDisplayStatus===7&&this.groupAlpha>0}destroy(t=!1){if(this.destroyed)return;this.destroyed=!0;let i;if(this.children.length&&(i=this.removeChildren(0,this.children.length)),this.removeFromParent(),this.parent=null,this._maskEffect=null,this._filterEffect=null,this.effects=null,this._position=null,this._scale=null,this._pivot=null,this._origin=null,this._skew=null,this.emit("destroyed",this),this.removeAllListeners(),(typeof t=="boolean"?t:t?.children)&&i)for(let l=0;l<i.length;++l)i[l].destroy(t);this.renderGroup?.destroy(),this.renderGroup=null}}he.mixin(Xi,j1,I1,tS,K1,Q1,V1,X1,$1,L1,N1,W1,Y1);class Fh extends Xi{constructor(t){super(t),this.canBundle=!0,this.allowChildren=!1,this._roundPixels=0,this._lastUsed=-1,this._gpuData=Object.create(null),this._bounds=new oi(0,1,0,0),this._boundsDirty=!0}get bounds(){return this._boundsDirty?(this.updateBounds(),this._boundsDirty=!1,this._bounds):this._bounds}get roundPixels(){return!!this._roundPixels}set roundPixels(t){this._roundPixels=t?1:0}containsPoint(t){const i=this.bounds,{x:a,y:l}=t;return a>=i.minX&&a<=i.maxX&&l>=i.minY&&l<=i.maxY}onViewUpdate(){if(this._didViewChangeTick++,this._boundsDirty=!0,this.didViewUpdate)return;this.didViewUpdate=!0;const t=this.renderGroup||this.parentRenderGroup;t&&t.onChildViewUpdate(this)}destroy(t){super.destroy(t),this._bounds=null;for(const i in this._gpuData)this._gpuData[i].destroy?.();this._gpuData=null}collectRenderablesSimple(t,i,a){const{renderPipes:l}=i;l.blendMode.setBlendMode(this,this.groupBlendMode,t),l[this.renderPipeId].addRenderable(this,t),this.didViewUpdate=!1;const c=this.children,f=c.length;for(let d=0;d<f;d++)c[d].collectRenderables(t,i,a)}}class Ze extends Fh{constructor(t=vt.EMPTY){t instanceof vt&&(t={texture:t});const{texture:i=vt.EMPTY,anchor:a,roundPixels:l,width:u,height:c,...f}=t;super({label:"Sprite",...f}),this.renderPipeId="sprite",this.batched=!0,this._visualBounds={minX:0,maxX:1,minY:0,maxY:0},this._anchor=new ce({_onUpdate:()=>{this.onViewUpdate()}}),a?this.anchor=a:i.defaultAnchor&&(this.anchor=i.defaultAnchor),this.texture=i,this.allowChildren=!1,this.roundPixels=l??!1,u!==void 0&&(this.width=u),c!==void 0&&(this.height=c)}static from(t,i=!1){return t instanceof vt?new Ze(t):new Ze(vt.from(t,i))}set texture(t){t||(t=vt.EMPTY);const i=this._texture;i!==t&&(i&&i.dynamic&&i.off("update",this.onViewUpdate,this),t.dynamic&&t.on("update",this.onViewUpdate,this),this._texture=t,this._width&&this._setWidth(this._width,this._texture.orig.width),this._height&&this._setHeight(this._height,this._texture.orig.height),this.onViewUpdate())}get texture(){return this._texture}get visualBounds(){return M1(this._visualBounds,this._anchor,this._texture),this._visualBounds}get sourceBounds(){return xt("8.6.1","Sprite.sourceBounds is deprecated, use visualBounds instead."),this.visualBounds}updateBounds(){const t=this._anchor,i=this._texture,a=this._bounds,{width:l,height:u}=i.orig;a.minX=-t._x*l,a.maxX=a.minX+l,a.minY=-t._y*u,a.maxY=a.minY+u}destroy(t=!1){if(super.destroy(t),typeof t=="boolean"?t:t?.texture){const a=typeof t=="boolean"?t:t?.textureSource;this._texture.destroy(a)}this._texture=null,this._visualBounds=null,this._bounds=null,this._anchor=null,this._gpuData=null}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this._setWidth(t,this._texture.orig.width),this._width=t}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this._setHeight(t,this._texture.orig.height),this._height=t}getSize(t){return t||(t={}),t.width=Math.abs(this.scale.x)*this._texture.orig.width,t.height=Math.abs(this.scale.y)*this._texture.orig.height,t}setSize(t,i){typeof t=="object"?(i=t.height??t.width,t=t.width):i??(i=t),t!==void 0&&this._setWidth(t,this._texture.orig.width),i!==void 0&&this._setHeight(i,this._texture.orig.height)}}const lS=new oi;function l0(s,t,i){const a=lS;s.measurable=!0,t0(s,i,a),t.addBoundsMask(a),s.measurable=!1}function o0(s,t,i){const a=ji.get();s.measurable=!0;const l=xe.get().identity(),u=u0(s,i,l);n0(s,a,u),s.measurable=!1,t.addBoundsMask(a),xe.return(l),ji.return(a)}function u0(s,t,i){return s?(s!==t&&(u0(s.parent,t,i),s.updateLocalTransform(),i.append(s.localTransform)),i):(Gt("Mask bounds, renderable is not inside the root container"),i)}class c0{constructor(t){this.priority=0,this.inverse=!1,this.pipe="alphaMask",t?.mask&&this.init(t.mask)}init(t){this.mask=t,this.renderMaskToTexture=!(t instanceof Ze),this.mask.renderable=this.renderMaskToTexture,this.mask.includeInBuild=!this.renderMaskToTexture,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask=null}addBounds(t,i){this.inverse||l0(this.mask,t,i)}addLocalBounds(t,i){o0(this.mask,t,i)}containsPoint(t,i){const a=this.mask;return i(a,t)}destroy(){this.reset()}static test(t){return t instanceof Ze}}c0.extension=nt.MaskEffect;class h0{constructor(t){this.priority=0,this.pipe="colorMask",t?.mask&&this.init(t.mask)}init(t){this.mask=t}destroy(){}static test(t){return typeof t=="number"}}h0.extension=nt.MaskEffect;class f0{constructor(t){this.priority=0,this.pipe="stencilMask",t?.mask&&this.init(t.mask)}init(t){this.mask=t,this.mask.includeInBuild=!1,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask.includeInBuild=!0,this.mask=null}addBounds(t,i){l0(this.mask,t,i)}addLocalBounds(t,i){o0(this.mask,t,i)}containsPoint(t,i){const a=this.mask;return i(a,t)}destroy(){this.reset()}static test(t){return t instanceof Xi}}f0.extension=nt.MaskEffect;const oS={createCanvas:(s,t)=>{const i=document.createElement("canvas");return i.width=s,i.height=t,i},createImage:()=>new Image,getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(s,t)=>fetch(s,t),parseXML:s=>new DOMParser().parseFromString(s,"text/xml")};let Eg=oS;const Lt={get(){return Eg},set(s){Eg=s}};class d0 extends ci{constructor(t){t.resource||(t.resource=Lt.get().createCanvas()),t.width||(t.width=t.resource.width,t.autoDensity||(t.width/=t.resolution)),t.height||(t.height=t.resource.height,t.autoDensity||(t.height/=t.resolution)),super(t),this.uploadMethodId="image",this.autoDensity=t.autoDensity,this.resizeCanvas(),this.transparent=!!t.transparent}resizeCanvas(){this.autoDensity&&"style"in this.resource&&(this.resource.style.width=`${this.width}px`,this.resource.style.height=`${this.height}px`),(this.resource.width!==this.pixelWidth||this.resource.height!==this.pixelHeight)&&(this.resource.width=this.pixelWidth,this.resource.height=this.pixelHeight)}resize(t=this.width,i=this.height,a=this._resolution){const l=super.resize(t,i,a);return l&&this.resizeCanvas(),l}static test(t){return globalThis.HTMLCanvasElement&&t instanceof HTMLCanvasElement||globalThis.OffscreenCanvas&&t instanceof OffscreenCanvas}get context2D(){return this._context2D||(this._context2D=this.resource.getContext("2d"))}}d0.extension=nt.TextureSource;class In extends ci{constructor(t){super(t),this.uploadMethodId="image",this.autoGarbageCollect=!0}static test(t){return globalThis.HTMLImageElement&&t instanceof HTMLImageElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap||globalThis.VideoFrame&&t instanceof VideoFrame}}In.extension=nt.TextureSource;var _h=(s=>(s[s.INTERACTION=50]="INTERACTION",s[s.HIGH=25]="HIGH",s[s.NORMAL=0]="NORMAL",s[s.LOW=-25]="LOW",s[s.UTILITY=-50]="UTILITY",s))(_h||{});class Ic{constructor(t,i=null,a=0,l=!1){this.next=null,this.previous=null,this._destroyed=!1,this._fn=t,this._context=i,this.priority=a,this._once=l}match(t,i=null){return this._fn===t&&this._context===i}emit(t){this._fn&&(this._context?this._fn.call(this._context,t):this._fn(t));const i=this.next;return this._once&&this.destroy(!0),this._destroyed&&(this.next=null),i}connect(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this}destroy(t=!1){this._destroyed=!0,this._fn=null,this._context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const i=this.next;return this.next=t?null:i,this.previous=null,i}}const p0=class Le{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new Ic(null,null,1/0),this.deltaMS=1/Le.targetFPMS,this.elapsedMS=1/Le.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,i,a=_h.NORMAL){return this._addListener(new Ic(t,i,a))}addOnce(t,i,a=_h.NORMAL){return this._addListener(new Ic(t,i,a,!0))}_addListener(t){let i=this._head.next,a=this._head;if(!i)t.connect(a);else{for(;i;){if(t.priority>i.priority){t.connect(a);break}a=i,i=i.next}t.previous||t.connect(a)}return this._startIfPossible(),this}remove(t,i){let a=this._head.next;for(;a;)a.match(t,i)?a=a.destroy():a=a.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,i=this._head;for(;i=i.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let i;if(t>this.lastTime){if(i=this.elapsedMS=t-this.lastTime,i>this._maxElapsedMS&&(i=this._maxElapsedMS),i*=this.speed,this._minElapsedMS){const u=t-this._lastFrame|0;if(u<this._minElapsedMS)return;this._lastFrame=t-u%this._minElapsedMS}this.deltaMS=i,this.deltaTime=this.deltaMS*Le.targetFPMS;const a=this._head;let l=a.next;for(;l;)l=l.emit(this);a.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const i=Math.min(this.maxFPS,t),a=Math.min(Math.max(0,i)/1e3,Le.targetFPMS);this._maxElapsedMS=1/a}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){if(t===0)this._minElapsedMS=0;else{const i=Math.max(this.minFPS,t);this._minElapsedMS=1/(i/1e3)}}static get shared(){if(!Le._shared){const t=Le._shared=new Le;t.autoStart=!0,t._protected=!0}return Le._shared}static get system(){if(!Le._system){const t=Le._system=new Le;t.autoStart=!0,t._protected=!0}return Le._system}};p0.targetFPMS=.06;let Pl=p0,Wc;async function m0(){return Wc??(Wc=(async()=>{const t=Lt.get().createCanvas(1,1).getContext("webgl");if(!t)return"premultiply-alpha-on-upload";const i=await new Promise(c=>{const f=document.createElement("video");f.onloadeddata=()=>c(f),f.onerror=()=>c(null),f.autoplay=!1,f.crossOrigin="anonymous",f.preload="auto",f.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",f.load()});if(!i)return"premultiply-alpha-on-upload";const a=t.createTexture();t.bindTexture(t.TEXTURE_2D,a);const l=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,l),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,a,0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,i);const u=new Uint8Array(4);return t.readPixels(0,0,1,1,t.RGBA,t.UNSIGNED_BYTE,u),t.deleteFramebuffer(l),t.deleteTexture(a),t.getExtension("WEBGL_lose_context")?.loseContext(),u[0]<=u[3]?"premultiplied-alpha":"premultiply-alpha-on-upload"})()),Wc}const uo=class g0 extends ci{constructor(t){super(t),this.isReady=!1,this.uploadMethodId="video",t={...g0.defaultOptions,...t},this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=t.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=t.autoPlay!==!1,this.alphaMode=t.alphaMode??"premultiply-alpha-on-upload",this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onCanPlayThrough=this._onCanPlayThrough.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),t.autoLoad!==!1&&this.load()}updateFrame(){if(!this.destroyed){if(this._updateFPS){const t=Pl.shared.elapsedMS*this.resource.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-t)}(!this._updateFPS||this._msToNextUpdate<=0)&&(this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0),this.isValid&&this.update()}}_videoFrameRequestCallback(){this.updateFrame(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback)}get isValid(){return!!this.resource.videoWidth&&!!this.resource.videoHeight}async load(){if(this._load)return this._load;const t=this.resource,i=this.options;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart),t.addEventListener("pause",this._onPlayStop),t.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._mediaReady():(i.preload||t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlayThrough),t.addEventListener("error",this._onError,!0)),this.alphaMode=await m0(),this._load=new Promise((a,l)=>{this.isValid?a(this):(this._resolve=a,this._reject=l,i.preloadTimeoutMs!==void 0&&(this._preloadTimeout=setTimeout(()=>{this._onError(new ErrorEvent(`Preload exceeded timeout of ${i.preloadTimeoutMs}ms`))})),t.load())}),this._load}_onError(t){this.resource.removeEventListener("error",this._onError,!0),this.emit("error",t),this._reject&&(this._reject(t),this._reject=null,this._resolve=null)}_isSourcePlaying(){const t=this.resource;return!t.paused&&!t.ended}_isSourceReady(){return this.resource.readyState>2}_onPlayStart(){this.isValid||this._mediaReady(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0)}_onCanPlay(){this.resource.removeEventListener("canplay",this._onCanPlay),this._mediaReady()}_onCanPlayThrough(){this.resource.removeEventListener("canplaythrough",this._onCanPlay),this._preloadTimeout&&(clearTimeout(this._preloadTimeout),this._preloadTimeout=void 0),this._mediaReady()}_mediaReady(){const t=this.resource;this.isValid&&(this.isReady=!0,this.resize(t.videoWidth,t.videoHeight)),this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0,this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.resource.play()}destroy(){this._configureAutoUpdate();const t=this.resource;t&&(t.removeEventListener("play",this._onPlayStart),t.removeEventListener("pause",this._onPlayStop),t.removeEventListener("seeked",this._onSeeked),t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlayThrough),t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.destroy()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.resource.requestVideoFrameCallback?(this._isConnectedToTicker&&(Pl.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(Pl.shared.add(this.updateFrame,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(Pl.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(t){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement}};uo.extension=nt.TextureSource;uo.defaultOptions={...ci.defaultOptions,autoLoad:!0,autoPlay:!0,updateFPS:0,crossorigin:!0,loop:!1,muted:!0,playsinline:!0,preload:!1};uo.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let lr=uo;const ai=(s,t,i=!1)=>(Array.isArray(s)||(s=[s]),t?s.map(a=>typeof a=="string"||i?t(a):a):s);class uS{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(t){return this._cache.has(t)}get(t){const i=this._cache.get(t);return i||Gt(`[Assets] Asset id ${t} was not found in the Cache`),i}set(t,i){const a=ai(t);let l;for(let d=0;d<this.parsers.length;d++){const p=this.parsers[d];if(p.test(i)){l=p.getCacheableAssets(a,i);break}}const u=new Map(Object.entries(l||{}));l||a.forEach(d=>{u.set(d,i)});const c=[...u.keys()],f={cacheKeys:c,keys:a};a.forEach(d=>{this._cacheMap.set(d,f)}),c.forEach(d=>{const p=l?l[d]:i;this._cache.has(d)&&this._cache.get(d)!==p&&Gt("[Cache] already has key:",d),this._cache.set(d,u.get(d))})}remove(t){if(!this._cacheMap.has(t)){Gt(`[Assets] Asset id ${t} was not found in the Cache`);return}const i=this._cacheMap.get(t);i.cacheKeys.forEach(l=>{this._cache.delete(l)}),i.keys.forEach(l=>{this._cacheMap.delete(l)})}get parsers(){return this._parsers}}const Nt=new uS,bh=[];he.handleByList(nt.TextureSource,bh);function y0(s={}){const t=s&&s.resource,i=t?s.resource:s,a=t?s:{resource:s};for(let l=0;l<bh.length;l++){const u=bh[l];if(u.test(i))return new u(a)}throw new Error(`Could not find a source type for resource: ${a.resource}`)}function cS(s={},t=!1){const i=s&&s.resource,a=i?s.resource:s,l=i?s:{resource:s};if(!t&&Nt.has(a))return Nt.get(a);const u=new vt({source:y0(l)});return u.on("destroy",()=>{Nt.has(a)&&Nt.remove(a)}),t||Nt.set(a,u),u}function hS(s,t=!1){return typeof s=="string"?Nt.get(s):s instanceof ci?new vt({source:s}):cS(s,t)}vt.from=hS;ci.from=y0;he.add(c0,h0,f0,lr,In,d0,Ph);var vn=(s=>(s[s.Low=0]="Low",s[s.Normal=1]="Normal",s[s.High=2]="High",s))(vn||{});function si(s){if(typeof s!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(s)}`)}function Qa(s){return s.split("?")[0].split("#")[0]}function fS(s){return s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function dS(s,t,i){return s.replace(new RegExp(fS(t),"g"),i)}function pS(s,t){let i="",a=0,l=-1,u=0,c=-1;for(let f=0;f<=s.length;++f){if(f<s.length)c=s.charCodeAt(f);else{if(c===47)break;c=47}if(c===47){if(!(l===f-1||u===1))if(l!==f-1&&u===2){if(i.length<2||a!==2||i.charCodeAt(i.length-1)!==46||i.charCodeAt(i.length-2)!==46){if(i.length>2){const d=i.lastIndexOf("/");if(d!==i.length-1){d===-1?(i="",a=0):(i=i.slice(0,d),a=i.length-1-i.lastIndexOf("/")),l=f,u=0;continue}}else if(i.length===2||i.length===1){i="",a=0,l=f,u=0;continue}}}else i.length>0?i+=`/${s.slice(l+1,f)}`:i=s.slice(l+1,f),a=f-l-1;l=f,u=0}else c===46&&u!==-1?++u:u=-1}return i}const He={toPosix(s){return dS(s,"\\","/")},isUrl(s){return/^https?:/.test(this.toPosix(s))},isDataUrl(s){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(s)},isBlobUrl(s){return s.startsWith("blob:")},hasProtocol(s){return/^[^/:]+:/.test(this.toPosix(s))},getProtocol(s){si(s),s=this.toPosix(s);const t=/^file:\/\/\//.exec(s);if(t)return t[0];const i=/^[^/:]+:\/{0,2}/.exec(s);return i?i[0]:""},toAbsolute(s,t,i){if(si(s),this.isDataUrl(s)||this.isBlobUrl(s))return s;const a=Qa(this.toPosix(t??Lt.get().getBaseUrl())),l=Qa(this.toPosix(i??this.rootname(a)));return s=this.toPosix(s),s.startsWith("/")?He.join(l,s.slice(1)):this.isAbsolute(s)?s:this.join(a,s)},normalize(s){if(si(s),s.length===0)return".";if(this.isDataUrl(s)||this.isBlobUrl(s))return s;s=this.toPosix(s);let t="";const i=s.startsWith("/");this.hasProtocol(s)&&(t=this.rootname(s),s=s.slice(t.length));const a=s.endsWith("/");return s=pS(s),s.length>0&&a&&(s+="/"),i?`/${s}`:t+s},isAbsolute(s){return si(s),s=this.toPosix(s),this.hasProtocol(s)?!0:s.startsWith("/")},join(...s){if(s.length===0)return".";let t;for(let i=0;i<s.length;++i){const a=s[i];if(si(a),a.length>0)if(t===void 0)t=a;else{const l=s[i-1]??"";this.joinExtensions.includes(this.extname(l).toLowerCase())?t+=`/../${a}`:t+=`/${a}`}}return t===void 0?".":this.normalize(t)},dirname(s){if(si(s),s.length===0)return".";s=this.toPosix(s);let t=s.charCodeAt(0);const i=t===47;let a=-1,l=!0;const u=this.getProtocol(s),c=s;s=s.slice(u.length);for(let f=s.length-1;f>=1;--f)if(t=s.charCodeAt(f),t===47){if(!l){a=f;break}}else l=!1;return a===-1?i?"/":this.isUrl(c)?u+s:u:i&&a===1?"//":u+s.slice(0,a)},rootname(s){si(s),s=this.toPosix(s);let t="";if(s.startsWith("/")?t="/":t=this.getProtocol(s),this.isUrl(s)){const i=s.indexOf("/",t.length);i!==-1?t=s.slice(0,i):t=s,t.endsWith("/")||(t+="/")}return t},basename(s,t){si(s),t&&si(t),s=Qa(this.toPosix(s));let i=0,a=-1,l=!0,u;if(t!==void 0&&t.length>0&&t.length<=s.length){if(t.length===s.length&&t===s)return"";let c=t.length-1,f=-1;for(u=s.length-1;u>=0;--u){const d=s.charCodeAt(u);if(d===47){if(!l){i=u+1;break}}else f===-1&&(l=!1,f=u+1),c>=0&&(d===t.charCodeAt(c)?--c===-1&&(a=u):(c=-1,a=f))}return i===a?a=f:a===-1&&(a=s.length),s.slice(i,a)}for(u=s.length-1;u>=0;--u)if(s.charCodeAt(u)===47){if(!l){i=u+1;break}}else a===-1&&(l=!1,a=u+1);return a===-1?"":s.slice(i,a)},extname(s){si(s),s=Qa(this.toPosix(s));let t=-1,i=0,a=-1,l=!0,u=0;for(let c=s.length-1;c>=0;--c){const f=s.charCodeAt(c);if(f===47){if(!l){i=c+1;break}continue}a===-1&&(l=!1,a=c+1),f===46?t===-1?t=c:u!==1&&(u=1):t!==-1&&(u=-1)}return t===-1||a===-1||u===0||u===1&&t===a-1&&t===i+1?"":s.slice(t,a)},parse(s){si(s);const t={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return t;s=Qa(this.toPosix(s));let i=s.charCodeAt(0);const a=this.isAbsolute(s);let l;t.root=this.rootname(s),a||this.hasProtocol(s)?l=1:l=0;let u=-1,c=0,f=-1,d=!0,p=s.length-1,g=0;for(;p>=l;--p){if(i=s.charCodeAt(p),i===47){if(!d){c=p+1;break}continue}f===-1&&(d=!1,f=p+1),i===46?u===-1?u=p:g!==1&&(g=1):u!==-1&&(g=-1)}return u===-1||f===-1||g===0||g===1&&u===f-1&&u===c+1?f!==-1&&(c===0&&a?t.base=t.name=s.slice(1,f):t.base=t.name=s.slice(c,f)):(c===0&&a?(t.name=s.slice(1,u),t.base=s.slice(1,f)):(t.name=s.slice(c,u),t.base=s.slice(c,f)),t.ext=s.slice(u,f)),t.dir=this.dirname(s),t},sep:"/",delimiter:":",joinExtensions:[".html"]};function x0(s,t,i,a,l){const u=t[i];for(let c=0;c<u.length;c++){const f=u[c];i<t.length-1?x0(s.replace(a[i],f),t,i+1,a,l):l.push(s.replace(a[i],f))}}function mS(s){const t=/\{(.*?)\}/g,i=s.match(t),a=[];if(i){const l=[];i.forEach(u=>{const c=u.substring(1,u.length-1).split(",");l.push(c)}),x0(s,l,0,i,a)}else a.push(s);return a}const io=s=>!Array.isArray(s);class Is{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(t,i)=>`${t}${this._bundleIdConnector}${i}`,extractAssetIdFromBundle:(t,i)=>i.replace(`${t}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(t){if(this._bundleIdConnector=t.connector??this._bundleIdConnector,this._createBundleAssetId=t.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=t.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...t){t.forEach(i=>{this._preferredOrder.push(i),i.priority||(i.priority=Object.keys(i.params))}),this._resolverHash={}}set basePath(t){this._basePath=t}get basePath(){return this._basePath}set rootPath(t){this._rootPath=t}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(t){if(typeof t=="string")this._defaultSearchParams=t;else{const i=t;this._defaultSearchParams=Object.keys(i).map(a=>`${encodeURIComponent(a)}=${encodeURIComponent(i[a])}`).join("&")}}getAlias(t){const{alias:i,src:a}=t;return ai(i||a,u=>typeof u=="string"?u:Array.isArray(u)?u.map(c=>c?.src??c):u?.src?u.src:u,!0)}addManifest(t){this._manifest&&Gt("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=t,t.bundles.forEach(i=>{this.addBundle(i.name,i.assets)})}addBundle(t,i){const a=[];let l=i;Array.isArray(i)||(l=Object.entries(i).map(([u,c])=>typeof c=="string"||Array.isArray(c)?{alias:u,src:c}:{alias:u,...c})),l.forEach(u=>{const c=u.src,f=u.alias;let d;if(typeof f=="string"){const p=this._createBundleAssetId(t,f);a.push(p),d=[f,p]}else{const p=f.map(g=>this._createBundleAssetId(t,g));a.push(...p),d=[...f,...p]}this.add({...u,alias:d,src:c})}),this._bundles[t]=a}add(t){const i=[];Array.isArray(t)?i.push(...t):i.push(t);let a;a=u=>{this.hasKey(u)&&Gt(`[Resolver] already has key: ${u} overwriting`)},ai(i).forEach(u=>{const{src:c}=u;let{data:f,format:d,loadParser:p,parser:g}=u;const y=ai(c).map(A=>typeof A=="string"?mS(A):Array.isArray(A)?A:[A]),_=this.getAlias(u);Array.isArray(_)?_.forEach(a):a(_);const b=[];y.forEach(A=>{A.forEach(w=>{let S={};if(typeof w!="object"){S.src=w;for(let T=0;T<this._parsers.length;T++){const C=this._parsers[T];if(C.test(w)){S=C.parse(w);break}}}else f=w.data??f,d=w.format??d,(w.loadParser||w.parser)&&(p=w.loadParser??p,g=w.parser??g),S={...S,...w};if(!_)throw new Error(`[Resolver] alias is undefined for this asset: ${S.src}`);S=this._buildResolvedAsset(S,{aliases:_,data:f,format:d,loadParser:p,parser:g}),b.push(S)})}),_.forEach(A=>{this._assetMap[A]=b})})}resolveBundle(t){const i=io(t);t=ai(t);const a={};return t.forEach(l=>{const u=this._bundles[l];if(u){const c=this.resolve(u),f={};for(const d in c){const p=c[d];f[this._extractAssetIdFromBundle(l,d)]=p}a[l]=f}}),i?a[t[0]]:a}resolveUrl(t){const i=this.resolve(t);if(typeof t!="string"){const a={};for(const l in i)a[l]=i[l].src;return a}return i.src}resolve(t){const i=io(t);t=ai(t);const a={};return t.forEach(l=>{if(!this._resolverHash[l])if(this._assetMap[l]){let u=this._assetMap[l];const c=this._getPreferredOrder(u);c?.priority.forEach(f=>{c.params[f].forEach(d=>{const p=u.filter(g=>g[f]?g[f]===d:!1);p.length&&(u=p)})}),this._resolverHash[l]=u[0]}else this._resolverHash[l]=this._buildResolvedAsset({alias:[l],src:l},{});a[l]=this._resolverHash[l]}),i?a[t[0]]:a}hasKey(t){return!!this._assetMap[t]}hasBundle(t){return!!this._bundles[t]}_getPreferredOrder(t){for(let i=0;i<t.length;i++){const a=t[i],l=this._preferredOrder.find(u=>u.params.format.includes(a.format));if(l)return l}return this._preferredOrder[0]}_appendDefaultSearchParams(t){if(!this._defaultSearchParams)return t;const i=/\?/.test(t)?"&":"?";return`${t}${i}${this._defaultSearchParams}`}_buildResolvedAsset(t,i){const{aliases:a,data:l,loadParser:u,parser:c,format:f}=i;return(this._basePath||this._rootPath)&&(t.src=He.toAbsolute(t.src,this._basePath,this._rootPath)),t.alias=a??t.alias??[t.src],t.src=this._appendDefaultSearchParams(t.src),t.data={...l||{},...t.data},t.loadParser=u??t.loadParser,t.parser=c??t.parser,t.format=f??t.format??gS(t.src),t}}Is.RETINA_PREFIX=/@([0-9\.]+)x/;function gS(s){return s.split(".").pop().split("?").shift().split("#").shift()}const vh=(s,t)=>{const i=t.split("?")[1];return i&&(s+=`?${i}`),s},_0=class ir{constructor(t,i){this.linkedSheets=[];let a=t;t?.source instanceof ci&&(a={texture:t,data:i});const{texture:l,data:u,cachePrefix:c=""}=a;this.cachePrefix=c,this._texture=l instanceof vt?l:null,this.textureSource=l.source,this.textures={},this.animations={},this.data=u;const f=parseFloat(u.meta.scale);f?(this.resolution=f,l.source.resolution=this.resolution):this.resolution=l.source._resolution,this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}parse(){return new Promise(t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=ir.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(t){let i=t;const a=ir.BATCH_SIZE;for(;i-t<a&&i<this._frameKeys.length;){const l=this._frameKeys[i],u=this._frames[l],c=u.frame;if(c){let f=null,d=null;const p=u.trimmed!==!1&&u.sourceSize?u.sourceSize:u.frame,g=new Pt(0,0,Math.floor(p.w)/this.resolution,Math.floor(p.h)/this.resolution);u.rotated?f=new Pt(Math.floor(c.x)/this.resolution,Math.floor(c.y)/this.resolution,Math.floor(c.h)/this.resolution,Math.floor(c.w)/this.resolution):f=new Pt(Math.floor(c.x)/this.resolution,Math.floor(c.y)/this.resolution,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution),u.trimmed!==!1&&u.spriteSourceSize&&(d=new Pt(Math.floor(u.spriteSourceSize.x)/this.resolution,Math.floor(u.spriteSourceSize.y)/this.resolution,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution)),this.textures[l]=new vt({source:this.textureSource,frame:f,orig:g,trim:d,rotate:u.rotated?2:0,defaultAnchor:u.anchor,defaultBorders:u.borders,label:l.toString()})}i++}}_processAnimations(){const t=this.data.animations||{};for(const i in t){this.animations[i]=[];for(let a=0;a<t[i].length;a++){const l=t[i][a];this.animations[i].push(this.textures[l])}}}_parseComplete(){const t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*ir.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*ir.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(t=!1){for(const i in this.textures)this.textures[i].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&(this._texture?.destroy(),this.textureSource.destroy()),this._texture=null,this.textureSource=null,this.linkedSheets=[]}};_0.BATCH_SIZE=1e3;let Rg=_0;const yS=["jpg","png","jpeg","avif","webp","basis","etc2","bc7","bc6h","bc5","bc4","bc3","bc2","bc1","eac","astc"];function b0(s,t,i){const a={};if(s.forEach(l=>{a[l]=t}),Object.keys(t.textures).forEach(l=>{a[`${t.cachePrefix}${l}`]=t.textures[l]}),!i){const l=He.dirname(s[0]);t.linkedSheets.forEach((u,c)=>{const f=b0([`${l}/${t.data.meta.related_multi_packs[c]}`],u,!0);Object.assign(a,f)})}return a}const xS={extension:nt.Asset,cache:{test:s=>s instanceof Rg,getCacheableAssets:(s,t)=>b0(s,t,!1)},resolver:{extension:{type:nt.ResolveParser,name:"resolveSpritesheet"},test:s=>{const i=s.split("?")[0].split("."),a=i.pop(),l=i.pop();return a==="json"&&yS.includes(l)},parse:s=>{const t=s.split(".");return{resolution:parseFloat(Is.RETINA_PREFIX.exec(s)?.[1]??"1"),format:t[t.length-2],src:s}}},loader:{name:"spritesheetLoader",id:"spritesheet",extension:{type:nt.LoadParser,priority:vn.Normal,name:"spritesheetLoader"},async testParse(s,t){return He.extname(t.src).toLowerCase()===".json"&&!!s.frames},async parse(s,t,i){const{texture:a,imageFilename:l,textureOptions:u,cachePrefix:c}=t?.data??{};let f=He.dirname(t.src);f&&f.lastIndexOf("/")!==f.length-1&&(f+="/");let d;if(a instanceof vt)d=a;else{const y=vh(f+(l??s.meta.image),t.src);d=(await i.load([{src:y,data:u}]))[y]}const p=new Rg({texture:d.source,data:s,cachePrefix:c});await p.parse();const g=s?.meta?.related_multi_packs;if(Array.isArray(g)){const y=[];for(const b of g){if(typeof b!="string")continue;let A=f+b;t.data?.ignoreMultiPack||(A=vh(A,t.src),y.push(i.load({src:A,data:{textureOptions:u,ignoreMultiPack:!0}})))}const _=await Promise.all(y);p.linkedSheets=_,_.forEach(b=>{b.linkedSheets=[p].concat(p.linkedSheets.filter(A=>A!==b))})}return p},async unload(s,t,i){await i.unload(s.textureSource._sourceOrigin),s.destroy(!1)}}};he.add(xS);const Zc=Object.create(null),Bg=Object.create(null);function Vh(s,t){let i=Bg[s];return i===void 0&&(Zc[t]===void 0&&(Zc[t]=1),Bg[s]=i=Zc[t]++),i}let jl;function v0(){return(!jl||jl?.isContextLost())&&(jl=Lt.get().createCanvas().getContext("webgl",{})),jl}let Yl;function _S(){if(!Yl){Yl="mediump";const s=v0();s&&s.getShaderPrecisionFormat&&(Yl=s.getShaderPrecisionFormat(s.FRAGMENT_SHADER,s.HIGH_FLOAT).precision?"highp":"mediump")}return Yl}function bS(s,t,i){return t?s:i?(s=s.replace("out vec4 finalColor;",""),`

        #ifdef GL_ES // This checks if it is WebGL1
        #define in varying
        #define finalColor gl_FragColor
        #define texture texture2D
        #endif
        ${s}
        `):`

        #ifdef GL_ES // This checks if it is WebGL1
        #define in attribute
        #define out varying
        #endif
        ${s}
        `}function vS(s,t,i){const a=i?t.maxSupportedFragmentPrecision:t.maxSupportedVertexPrecision;if(s.substring(0,9)!=="precision"){let l=i?t.requestedFragmentPrecision:t.requestedVertexPrecision;return l==="highp"&&a!=="highp"&&(l="mediump"),`precision ${l} float;
${s}`}else if(a!=="highp"&&s.substring(0,15)==="precision highp")return s.replace("precision highp","precision mediump");return s}function SS(s,t){return t?`#version 300 es
${s}`:s}const AS={},wS={};function TS(s,{name:t="pixi-program"},i=!0){t=t.replace(/\s+/g,"-"),t+=i?"-fragment":"-vertex";const a=i?AS:wS;return a[t]?(a[t]++,t+=`-${a[t]}`):a[t]=1,s.indexOf("#define SHADER_NAME")!==-1?s:`${`#define SHADER_NAME ${t}`}
${s}`}function CS(s,t){return t?s.replace("#version 300 es",""):s}const Qc={stripVersion:CS,ensurePrecision:vS,addProgramDefines:bS,setProgramName:TS,insertVersion:SS},Kc=Object.create(null),S0=class Sh{constructor(t){t={...Sh.defaultOptions,...t};const i=t.fragment.indexOf("#version 300 es")!==-1,a={stripVersion:i,ensurePrecision:{requestedFragmentPrecision:t.preferredFragmentPrecision,requestedVertexPrecision:t.preferredVertexPrecision,maxSupportedVertexPrecision:"highp",maxSupportedFragmentPrecision:_S()},setProgramName:{name:t.name},addProgramDefines:i,insertVersion:i};let l=t.fragment,u=t.vertex;Object.keys(Qc).forEach(c=>{const f=a[c];l=Qc[c](l,f,!0),u=Qc[c](u,f,!1)}),this.fragment=l,this.vertex=u,this.transformFeedbackVaryings=t.transformFeedbackVaryings,this._key=Vh(`${this.vertex}:${this.fragment}`,"gl-program")}destroy(){this.fragment=null,this.vertex=null,this._attributeData=null,this._uniformData=null,this._uniformBlockData=null,this.transformFeedbackVaryings=null}static from(t){const i=`${t.vertex}:${t.fragment}`;return Kc[i]||(Kc[i]=new Sh(t)),Kc[i]}};S0.defaultOptions={preferredVertexPrecision:"highp",preferredFragmentPrecision:"mediump"};let A0=S0;const zg={uint8x2:{size:2,stride:2,normalised:!1},uint8x4:{size:4,stride:4,normalised:!1},sint8x2:{size:2,stride:2,normalised:!1},sint8x4:{size:4,stride:4,normalised:!1},unorm8x2:{size:2,stride:2,normalised:!0},unorm8x4:{size:4,stride:4,normalised:!0},snorm8x2:{size:2,stride:2,normalised:!0},snorm8x4:{size:4,stride:4,normalised:!0},uint16x2:{size:2,stride:4,normalised:!1},uint16x4:{size:4,stride:8,normalised:!1},sint16x2:{size:2,stride:4,normalised:!1},sint16x4:{size:4,stride:8,normalised:!1},unorm16x2:{size:2,stride:4,normalised:!0},unorm16x4:{size:4,stride:8,normalised:!0},snorm16x2:{size:2,stride:4,normalised:!0},snorm16x4:{size:4,stride:8,normalised:!0},float16x2:{size:2,stride:4,normalised:!1},float16x4:{size:4,stride:8,normalised:!1},float32:{size:1,stride:4,normalised:!1},float32x2:{size:2,stride:8,normalised:!1},float32x3:{size:3,stride:12,normalised:!1},float32x4:{size:4,stride:16,normalised:!1},uint32:{size:1,stride:4,normalised:!1},uint32x2:{size:2,stride:8,normalised:!1},uint32x3:{size:3,stride:12,normalised:!1},uint32x4:{size:4,stride:16,normalised:!1},sint32:{size:1,stride:4,normalised:!1},sint32x2:{size:2,stride:8,normalised:!1},sint32x3:{size:3,stride:12,normalised:!1},sint32x4:{size:4,stride:16,normalised:!1}};function MS(s){return zg[s]??zg.float32}const ES={f32:"float32","vec2<f32>":"float32x2","vec3<f32>":"float32x3","vec4<f32>":"float32x4",vec2f:"float32x2",vec3f:"float32x3",vec4f:"float32x4",i32:"sint32","vec2<i32>":"sint32x2","vec3<i32>":"sint32x3","vec4<i32>":"sint32x4",u32:"uint32","vec2<u32>":"uint32x2","vec3<u32>":"uint32x3","vec4<u32>":"uint32x4",bool:"uint32","vec2<bool>":"uint32x2","vec3<bool>":"uint32x3","vec4<bool>":"uint32x4"};function RS({source:s,entryPoint:t}){const i={},a=s.indexOf(`fn ${t}`);if(a!==-1){const l=s.indexOf("->",a);if(l!==-1){const u=s.substring(a,l),c=/@location\((\d+)\)\s+([a-zA-Z0-9_]+)\s*:\s*([a-zA-Z0-9_<>]+)(?:,|\s|$)/g;let f;for(;(f=c.exec(u))!==null;){const d=ES[f[3]]??"float32";i[f[2]]={location:parseInt(f[1],10),format:d,stride:MS(d).stride,offset:0,instance:!1,start:0}}}}return i}function $c(s){const t=/(^|[^/])@(group|binding)\(\d+\)[^;]+;/g,i=/@group\((\d+)\)/,a=/@binding\((\d+)\)/,l=/var(<[^>]+>)? (\w+)/,u=/:\s*(\w+)/,c=/struct\s+(\w+)\s*{([^}]+)}/g,f=/(\w+)\s*:\s*([\w\<\>]+)/g,d=/struct\s+(\w+)/,p=s.match(t)?.map(y=>({group:parseInt(y.match(i)[1],10),binding:parseInt(y.match(a)[1],10),name:y.match(l)[2],isUniform:y.match(l)[1]==="<uniform>",type:y.match(u)[1]}));if(!p)return{groups:[],structs:[]};const g=s.match(c)?.map(y=>{const _=y.match(d)[1],b=y.match(f).reduce((A,w)=>{const[S,T]=w.split(":");return A[S.trim()]=T.trim(),A},{});return b?{name:_,members:b}:null}).filter(({name:y})=>p.some(_=>_.type===y))??[];return{groups:p,structs:g}}var nr=(s=>(s[s.VERTEX=1]="VERTEX",s[s.FRAGMENT=2]="FRAGMENT",s[s.COMPUTE=4]="COMPUTE",s))(nr||{});function BS({groups:s}){const t=[];for(let i=0;i<s.length;i++){const a=s[i];t[a.group]||(t[a.group]=[]),a.isUniform?t[a.group].push({binding:a.binding,visibility:nr.VERTEX|nr.FRAGMENT,buffer:{type:"uniform"}}):a.type==="sampler"?t[a.group].push({binding:a.binding,visibility:nr.FRAGMENT,sampler:{type:"filtering"}}):a.type==="texture_2d"&&t[a.group].push({binding:a.binding,visibility:nr.FRAGMENT,texture:{sampleType:"float",viewDimension:"2d",multisampled:!1}})}return t}function zS({groups:s}){const t=[];for(let i=0;i<s.length;i++){const a=s[i];t[a.group]||(t[a.group]={}),t[a.group][a.name]=a.binding}return t}function OS(s,t){const i=new Set,a=new Set,l=[...s.structs,...t.structs].filter(c=>i.has(c.name)?!1:(i.add(c.name),!0)),u=[...s.groups,...t.groups].filter(c=>{const f=`${c.name}-${c.binding}`;return a.has(f)?!1:(a.add(f),!0)});return{structs:l,groups:u}}const Jc=Object.create(null);class co{constructor(t){this._layoutKey=0,this._attributeLocationsKey=0;const{fragment:i,vertex:a,layout:l,gpuLayout:u,name:c}=t;if(this.name=c,this.fragment=i,this.vertex=a,i.source===a.source){const f=$c(i.source);this.structsAndGroups=f}else{const f=$c(a.source),d=$c(i.source);this.structsAndGroups=OS(f,d)}this.layout=l??zS(this.structsAndGroups),this.gpuLayout=u??BS(this.structsAndGroups),this.autoAssignGlobalUniforms=this.layout[0]?.globalUniforms!==void 0,this.autoAssignLocalUniforms=this.layout[1]?.localUniforms!==void 0,this._generateProgramKey()}_generateProgramKey(){const{vertex:t,fragment:i}=this,a=t.source+i.source+t.entryPoint+i.entryPoint;this._layoutKey=Vh(a,"program")}get attributeData(){return this._attributeData??(this._attributeData=RS(this.vertex)),this._attributeData}destroy(){this.gpuLayout=null,this.layout=null,this.structsAndGroups=null,this.fragment=null,this.vertex=null}static from(t){const i=`${t.vertex.source}:${t.fragment.source}:${t.fragment.entryPoint}:${t.vertex.entryPoint}`;return Jc[i]||(Jc[i]=new co(t)),Jc[i]}}const w0=["f32","i32","vec2<f32>","vec3<f32>","vec4<f32>","mat2x2<f32>","mat3x3<f32>","mat4x4<f32>","mat3x2<f32>","mat4x2<f32>","mat2x3<f32>","mat4x3<f32>","mat2x4<f32>","mat3x4<f32>","vec2<i32>","vec3<i32>","vec4<i32>"],DS=w0.reduce((s,t)=>(s[t]=!0,s),{});function kS(s,t){switch(s){case"f32":return 0;case"vec2<f32>":return new Float32Array(2*t);case"vec3<f32>":return new Float32Array(3*t);case"vec4<f32>":return new Float32Array(4*t);case"mat2x2<f32>":return new Float32Array([1,0,0,1]);case"mat3x3<f32>":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4x4<f32>":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const T0=class C0{constructor(t,i){this._touched=0,this.uid=Qt("uniform"),this._resourceType="uniformGroup",this._resourceId=Qt("resource"),this.isUniformGroup=!0,this._dirtyId=0,this.destroyed=!1,i={...C0.defaultOptions,...i},this.uniformStructures=t;const a={};for(const l in t){const u=t[l];if(u.name=l,u.size=u.size??1,!DS[u.type])throw new Error(`Uniform type ${u.type} is not supported. Supported uniform types are: ${w0.join(", ")}`);u.value??(u.value=kS(u.type,u.size)),a[l]=u.value}this.uniforms=a,this._dirtyId=1,this.ubo=i.ubo,this.isStatic=i.isStatic,this._signature=Vh(Object.keys(a).map(l=>`${l}-${t[l].type}`).join("-"),"uniform-group")}update(){this._dirtyId++}};T0.defaultOptions={ubo:!1,isStatic:!1};let M0=T0;class Jl{constructor(t){this.resources=Object.create(null),this._dirty=!0;let i=0;for(const a in t){const l=t[a];this.setResource(l,i++)}this._updateKey()}_updateKey(){if(!this._dirty)return;this._dirty=!1;const t=[];let i=0;for(const a in this.resources)t[i++]=this.resources[a]._resourceId;this._key=t.join("|")}setResource(t,i){const a=this.resources[i];t!==a&&(a&&t.off?.("change",this.onResourceChange,this),t.on?.("change",this.onResourceChange,this),this.resources[i]=t,this._dirty=!0)}getResource(t){return this.resources[t]}_touch(t){const i=this.resources;for(const a in i)i[a]._touched=t}destroy(){const t=this.resources;for(const i in t)t[i].off?.("change",this.onResourceChange,this);this.resources=null}onResourceChange(t){if(this._dirty=!0,t.destroyed){const i=this.resources;for(const a in i)i[a]===t&&(i[a]=null)}else this._updateKey()}}var Ah=(s=>(s[s.WEBGL=1]="WEBGL",s[s.WEBGPU=2]="WEBGPU",s[s.BOTH=3]="BOTH",s))(Ah||{});class Xh extends ui{constructor(t){super(),this.uid=Qt("shader"),this._uniformBindMap=Object.create(null),this._ownedBindGroups=[];let{gpuProgram:i,glProgram:a,groups:l,resources:u,compatibleRenderers:c,groupMap:f}=t;this.gpuProgram=i,this.glProgram=a,c===void 0&&(c=0,i&&(c|=Ah.WEBGPU),a&&(c|=Ah.WEBGL)),this.compatibleRenderers=c;const d={};if(!u&&!l&&(u={}),u&&l)throw new Error("[Shader] Cannot have both resources and groups");if(!i&&l&&!f)throw new Error("[Shader] No group map or WebGPU shader provided - consider using resources instead.");if(!i&&l&&f)for(const p in f)for(const g in f[p]){const y=f[p][g];d[y]={group:p,binding:g,name:y}}else if(i&&l&&!f){const p=i.structsAndGroups.groups;f={},p.forEach(g=>{f[g.group]=f[g.group]||{},f[g.group][g.binding]=g.name,d[g.name]=g})}else if(u){l={},f={},i&&i.structsAndGroups.groups.forEach(y=>{f[y.group]=f[y.group]||{},f[y.group][y.binding]=y.name,d[y.name]=y});let p=0;for(const g in u)d[g]||(l[99]||(l[99]=new Jl,this._ownedBindGroups.push(l[99])),d[g]={group:99,binding:p,name:g},f[99]=f[99]||{},f[99][p]=g,p++);for(const g in u){const y=g;let _=u[g];!_.source&&!_._resourceType&&(_=new M0(_));const b=d[y];b&&(l[b.group]||(l[b.group]=new Jl,this._ownedBindGroups.push(l[b.group])),l[b.group].setResource(_,b.binding))}}this.groups=l,this._uniformBindMap=f,this.resources=this._buildResourceAccessor(l,d)}addResource(t,i,a){var l,u;(l=this._uniformBindMap)[i]||(l[i]={}),(u=this._uniformBindMap[i])[a]||(u[a]=t),this.groups[i]||(this.groups[i]=new Jl,this._ownedBindGroups.push(this.groups[i]))}_buildResourceAccessor(t,i){const a={};for(const l in i){const u=i[l];Object.defineProperty(a,u.name,{get(){return t[u.group].getResource(u.binding)},set(c){t[u.group].setResource(c,u.binding)}})}return a}destroy(t=!1){this.emit("destroy",this),t&&(this.gpuProgram?.destroy(),this.glProgram?.destroy()),this.gpuProgram=null,this.glProgram=null,this.removeAllListeners(),this._uniformBindMap=null,this._ownedBindGroups.forEach(i=>{i.destroy()}),this._ownedBindGroups=null,this.resources=null,this.groups=null}static from(t){const{gpu:i,gl:a,...l}=t;let u,c;return i&&(u=co.from(i)),a&&(c=A0.from(a)),new Xh({gpuProgram:u,glProgram:c,...l})}}const wh=[];he.handleByNamedList(nt.Environment,wh);async function US(s){if(!s)for(let t=0;t<wh.length;t++){const i=wh[t];if(i.value.test()){await i.value.load();return}}}let Ka;function GS(){if(typeof Ka=="boolean")return Ka;try{Ka=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{Ka=!1}return Ka}function Og(s,t,i=2){const a=t&&t.length,l=a?t[0]*i:s.length;let u=E0(s,0,l,i,!0);const c=[];if(!u||u.next===u.prev)return c;let f,d,p;if(a&&(u=jS(s,t,u,i)),s.length>80*i){f=s[0],d=s[1];let g=f,y=d;for(let _=i;_<l;_+=i){const b=s[_],A=s[_+1];b<f&&(f=b),A<d&&(d=A),b>g&&(g=b),A>y&&(y=A)}p=Math.max(g-f,y-d),p=p!==0?32767/p:0}return hr(u,c,i,f,d,p,0),c}function E0(s,t,i,a,l){let u;if(l===$S(s,t,i,a)>0)for(let c=t;c<i;c+=a)u=Dg(c/a|0,s[c],s[c+1],u);else for(let c=i-a;c>=t;c-=a)u=Dg(c/a|0,s[c],s[c+1],u);return u&&Fs(u,u.next)&&(dr(u),u=u.next),u}function Wn(s,t){if(!s)return s;t||(t=s);let i=s,a;do if(a=!1,!i.steiner&&(Fs(i,i.next)||Ft(i.prev,i,i.next)===0)){if(dr(i),i=t=i.prev,i===i.next)break;a=!0}else i=i.next;while(a||i!==t);return t}function hr(s,t,i,a,l,u,c){if(!s)return;!c&&u&&qS(s,a,l,u);let f=s;for(;s.prev!==s.next;){const d=s.prev,p=s.next;if(u?HS(s,a,l,u):LS(s)){t.push(d.i,s.i,p.i),dr(s),s=p.next,f=p.next;continue}if(s=p,s===f){c?c===1?(s=NS(Wn(s),t),hr(s,t,i,a,l,u,2)):c===2&&PS(s,t,i,a,l,u):hr(Wn(s),t,i,a,l,u,1);break}}}function LS(s){const t=s.prev,i=s,a=s.next;if(Ft(t,i,a)>=0)return!1;const l=t.x,u=i.x,c=a.x,f=t.y,d=i.y,p=a.y,g=Math.min(l,u,c),y=Math.min(f,d,p),_=Math.max(l,u,c),b=Math.max(f,d,p);let A=a.next;for(;A!==t;){if(A.x>=g&&A.x<=_&&A.y>=y&&A.y<=b&&sr(l,f,u,d,c,p,A.x,A.y)&&Ft(A.prev,A,A.next)>=0)return!1;A=A.next}return!0}function HS(s,t,i,a){const l=s.prev,u=s,c=s.next;if(Ft(l,u,c)>=0)return!1;const f=l.x,d=u.x,p=c.x,g=l.y,y=u.y,_=c.y,b=Math.min(f,d,p),A=Math.min(g,y,_),w=Math.max(f,d,p),S=Math.max(g,y,_),T=Th(b,A,t,i,a),C=Th(w,S,t,i,a);let E=s.prevZ,D=s.nextZ;for(;E&&E.z>=T&&D&&D.z<=C;){if(E.x>=b&&E.x<=w&&E.y>=A&&E.y<=S&&E!==l&&E!==c&&sr(f,g,d,y,p,_,E.x,E.y)&&Ft(E.prev,E,E.next)>=0||(E=E.prevZ,D.x>=b&&D.x<=w&&D.y>=A&&D.y<=S&&D!==l&&D!==c&&sr(f,g,d,y,p,_,D.x,D.y)&&Ft(D.prev,D,D.next)>=0))return!1;D=D.nextZ}for(;E&&E.z>=T;){if(E.x>=b&&E.x<=w&&E.y>=A&&E.y<=S&&E!==l&&E!==c&&sr(f,g,d,y,p,_,E.x,E.y)&&Ft(E.prev,E,E.next)>=0)return!1;E=E.prevZ}for(;D&&D.z<=C;){if(D.x>=b&&D.x<=w&&D.y>=A&&D.y<=S&&D!==l&&D!==c&&sr(f,g,d,y,p,_,D.x,D.y)&&Ft(D.prev,D,D.next)>=0)return!1;D=D.nextZ}return!0}function NS(s,t){let i=s;do{const a=i.prev,l=i.next.next;!Fs(a,l)&&B0(a,i,i.next,l)&&fr(a,l)&&fr(l,a)&&(t.push(a.i,i.i,l.i),dr(i),dr(i.next),i=s=l),i=i.next}while(i!==s);return Wn(i)}function PS(s,t,i,a,l,u){let c=s;do{let f=c.next.next;for(;f!==c.prev;){if(c.i!==f.i&&ZS(c,f)){let d=z0(c,f);c=Wn(c,c.next),d=Wn(d,d.next),hr(c,t,i,a,l,u,0),hr(d,t,i,a,l,u,0);return}f=f.next}c=c.next}while(c!==s)}function jS(s,t,i,a){const l=[];for(let u=0,c=t.length;u<c;u++){const f=t[u]*a,d=u<c-1?t[u+1]*a:s.length,p=E0(s,f,d,a,!1);p===p.next&&(p.steiner=!0),l.push(WS(p))}l.sort(YS);for(let u=0;u<l.length;u++)i=FS(l[u],i);return i}function YS(s,t){let i=s.x-t.x;if(i===0&&(i=s.y-t.y,i===0)){const a=(s.next.y-s.y)/(s.next.x-s.x),l=(t.next.y-t.y)/(t.next.x-t.x);i=a-l}return i}function FS(s,t){const i=VS(s,t);if(!i)return t;const a=z0(i,s);return Wn(a,a.next),Wn(i,i.next)}function VS(s,t){let i=t;const a=s.x,l=s.y;let u=-1/0,c;if(Fs(s,i))return i;do{if(Fs(s,i.next))return i.next;if(l<=i.y&&l>=i.next.y&&i.next.y!==i.y){const y=i.x+(l-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(y<=a&&y>u&&(u=y,c=i.x<i.next.x?i:i.next,y===a))return c}i=i.next}while(i!==t);if(!c)return null;const f=c,d=c.x,p=c.y;let g=1/0;i=c;do{if(a>=i.x&&i.x>=d&&a!==i.x&&R0(l<p?a:u,l,d,p,l<p?u:a,l,i.x,i.y)){const y=Math.abs(l-i.y)/(a-i.x);fr(i,s)&&(y<g||y===g&&(i.x>c.x||i.x===c.x&&XS(c,i)))&&(c=i,g=y)}i=i.next}while(i!==f);return c}function XS(s,t){return Ft(s.prev,s,t.prev)<0&&Ft(t.next,s,s.next)<0}function qS(s,t,i,a){let l=s;do l.z===0&&(l.z=Th(l.x,l.y,t,i,a)),l.prevZ=l.prev,l.nextZ=l.next,l=l.next;while(l!==s);l.prevZ.nextZ=null,l.prevZ=null,IS(l)}function IS(s){let t,i=1;do{let a=s,l;s=null;let u=null;for(t=0;a;){t++;let c=a,f=0;for(let p=0;p<i&&(f++,c=c.nextZ,!!c);p++);let d=i;for(;f>0||d>0&&c;)f!==0&&(d===0||!c||a.z<=c.z)?(l=a,a=a.nextZ,f--):(l=c,c=c.nextZ,d--),u?u.nextZ=l:s=l,l.prevZ=u,u=l;a=c}u.nextZ=null,i*=2}while(t>1);return s}function Th(s,t,i,a,l){return s=(s-i)*l|0,t=(t-a)*l|0,s=(s|s<<8)&16711935,s=(s|s<<4)&252645135,s=(s|s<<2)&858993459,s=(s|s<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,s|t<<1}function WS(s){let t=s,i=s;do(t.x<i.x||t.x===i.x&&t.y<i.y)&&(i=t),t=t.next;while(t!==s);return i}function R0(s,t,i,a,l,u,c,f){return(l-c)*(t-f)>=(s-c)*(u-f)&&(s-c)*(a-f)>=(i-c)*(t-f)&&(i-c)*(u-f)>=(l-c)*(a-f)}function sr(s,t,i,a,l,u,c,f){return!(s===c&&t===f)&&R0(s,t,i,a,l,u,c,f)}function ZS(s,t){return s.next.i!==t.i&&s.prev.i!==t.i&&!QS(s,t)&&(fr(s,t)&&fr(t,s)&&KS(s,t)&&(Ft(s.prev,s,t.prev)||Ft(s,t.prev,t))||Fs(s,t)&&Ft(s.prev,s,s.next)>0&&Ft(t.prev,t,t.next)>0)}function Ft(s,t,i){return(t.y-s.y)*(i.x-t.x)-(t.x-s.x)*(i.y-t.y)}function Fs(s,t){return s.x===t.x&&s.y===t.y}function B0(s,t,i,a){const l=Vl(Ft(s,t,i)),u=Vl(Ft(s,t,a)),c=Vl(Ft(i,a,s)),f=Vl(Ft(i,a,t));return!!(l!==u&&c!==f||l===0&&Fl(s,i,t)||u===0&&Fl(s,a,t)||c===0&&Fl(i,s,a)||f===0&&Fl(i,t,a))}function Fl(s,t,i){return t.x<=Math.max(s.x,i.x)&&t.x>=Math.min(s.x,i.x)&&t.y<=Math.max(s.y,i.y)&&t.y>=Math.min(s.y,i.y)}function Vl(s){return s>0?1:s<0?-1:0}function QS(s,t){let i=s;do{if(i.i!==s.i&&i.next.i!==s.i&&i.i!==t.i&&i.next.i!==t.i&&B0(i,i.next,s,t))return!0;i=i.next}while(i!==s);return!1}function fr(s,t){return Ft(s.prev,s,s.next)<0?Ft(s,t,s.next)>=0&&Ft(s,s.prev,t)>=0:Ft(s,t,s.prev)<0||Ft(s,s.next,t)<0}function KS(s,t){let i=s,a=!1;const l=(s.x+t.x)/2,u=(s.y+t.y)/2;do i.y>u!=i.next.y>u&&i.next.y!==i.y&&l<(i.next.x-i.x)*(u-i.y)/(i.next.y-i.y)+i.x&&(a=!a),i=i.next;while(i!==s);return a}function z0(s,t){const i=Ch(s.i,s.x,s.y),a=Ch(t.i,t.x,t.y),l=s.next,u=t.prev;return s.next=t,t.prev=s,i.next=l,l.prev=i,a.next=i,i.prev=a,u.next=a,a.prev=u,a}function Dg(s,t,i,a){const l=Ch(s,t,i);return a?(l.next=a.next,l.prev=a,a.next.prev=l,a.next=l):(l.prev=l,l.next=l),l}function dr(s){s.next.prev=s.prev,s.prev.next=s.next,s.prevZ&&(s.prevZ.nextZ=s.nextZ),s.nextZ&&(s.nextZ.prevZ=s.prevZ)}function Ch(s,t,i){return{i:s,x:t,y:i,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function $S(s,t,i,a){let l=0;for(let u=t,c=i-a;u<i;u+=a)l+=(s[c]-s[u])*(s[u+1]+s[c+1]),c=u;return l}const JS=Og.default||Og;var O0=(s=>(s[s.NONE=0]="NONE",s[s.COLOR=16384]="COLOR",s[s.STENCIL=1024]="STENCIL",s[s.DEPTH=256]="DEPTH",s[s.COLOR_DEPTH=16640]="COLOR_DEPTH",s[s.COLOR_STENCIL=17408]="COLOR_STENCIL",s[s.DEPTH_STENCIL=1280]="DEPTH_STENCIL",s[s.ALL=17664]="ALL",s))(O0||{});class tA{constructor(t){this.items=[],this._name=t}emit(t,i,a,l,u,c,f,d){const{name:p,items:g}=this;for(let y=0,_=g.length;y<_;y++)g[y][p](t,i,a,l,u,c,f,d);return this}add(t){return t[this._name]&&(this.remove(t),this.items.push(t)),this}remove(t){const i=this.items.indexOf(t);return i!==-1&&this.items.splice(i,1),this}contains(t){return this.items.indexOf(t)!==-1}removeAll(){return this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}const eA=["init","destroy","contextChange","resolutionChange","resetState","renderEnd","renderStart","render","update","postrender","prerender"],D0=class k0 extends ui{constructor(t){super(),this.uid=Qt("renderer"),this.runners=Object.create(null),this.renderPipes=Object.create(null),this._initOptions={},this._systemsHash=Object.create(null),this.type=t.type,this.name=t.name,this.config=t;const i=[...eA,...this.config.runners??[]];this._addRunners(...i),this._unsafeEvalCheck()}async init(t={}){const i=t.skipExtensionImports===!0?!0:t.manageImports===!1;await US(i),this._addSystems(this.config.systems),this._addPipes(this.config.renderPipes,this.config.renderPipeAdaptors);for(const a in this._systemsHash)t={...this._systemsHash[a].constructor.defaultOptions,...t};t={...k0.defaultOptions,...t},this._roundPixels=t.roundPixels?1:0;for(let a=0;a<this.runners.init.items.length;a++)await this.runners.init.items[a].init(t);this._initOptions=t}render(t,i){let a=t;if(a instanceof Xi&&(a={container:a},i&&(xt(Et,"passing a second argument is deprecated, please use render options instead"),a.target=i.renderTexture)),a.target||(a.target=this.view.renderTarget),a.target===this.view.renderTarget&&(this._lastObjectRendered=a.container,a.clearColor??(a.clearColor=this.background.colorRgba),a.clear??(a.clear=this.background.clearBeforeRender)),a.clearColor){const l=Array.isArray(a.clearColor)&&a.clearColor.length===4;a.clearColor=l?a.clearColor:Kt.shared.setValue(a.clearColor).toArray()}a.transform||(a.container.updateLocalTransform(),a.transform=a.container.localTransform),a.container.enableRenderGroup(),this.runners.prerender.emit(a),this.runners.renderStart.emit(a),this.runners.render.emit(a),this.runners.renderEnd.emit(a),this.runners.postrender.emit(a)}resize(t,i,a){const l=this.view.resolution;this.view.resize(t,i,a),this.emit("resize",this.view.screen.width,this.view.screen.height,this.view.resolution),a!==void 0&&a!==l&&this.runners.resolutionChange.emit(a)}clear(t={}){const i=this;t.target||(t.target=i.renderTarget.renderTarget),t.clearColor||(t.clearColor=this.background.colorRgba),t.clear??(t.clear=O0.ALL);const{clear:a,clearColor:l,target:u}=t;Kt.shared.setValue(l??this.background.colorRgba),i.renderTarget.clear(u,a,Kt.shared.toArray())}get resolution(){return this.view.resolution}set resolution(t){this.view.resolution=t,this.runners.resolutionChange.emit(t)}get width(){return this.view.texture.frame.width}get height(){return this.view.texture.frame.height}get canvas(){return this.view.canvas}get lastObjectRendered(){return this._lastObjectRendered}get renderingToScreen(){return this.renderTarget.renderingToScreen}get screen(){return this.view.screen}_addRunners(...t){t.forEach(i=>{this.runners[i]=new tA(i)})}_addSystems(t){let i;for(i in t){const a=t[i];this._addSystem(a.value,a.name)}}_addSystem(t,i){const a=new t(this);if(this[i])throw new Error(`Whoops! The name "${i}" is already in use`);this[i]=a,this._systemsHash[i]=a;for(const l in this.runners)this.runners[l].add(a);return this}_addPipes(t,i){const a=i.reduce((l,u)=>(l[u.name]=u.value,l),{});t.forEach(l=>{const u=l.value,c=l.name,f=a[c];this.renderPipes[c]=new u(this,f?new f:null)})}destroy(t=!1){this.runners.destroy.items.reverse(),this.runners.destroy.emit(t),Object.values(this.runners).forEach(i=>{i.destroy()}),this._systemsHash=null,this.renderPipes=null}generateTexture(t){return this.textureGenerator.generateTexture(t)}get roundPixels(){return!!this._roundPixels}_unsafeEvalCheck(){if(!GS())throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}resetState(){this.runners.resetState.emit()}};D0.defaultOptions={resolution:1,failIfMajorPerformanceCaveat:!1,roundPixels:!1};let U0=D0,Xl;function iA(s){return Xl!==void 0||(Xl=(()=>{const t={stencil:!0,failIfMajorPerformanceCaveat:s??U0.defaultOptions.failIfMajorPerformanceCaveat};try{if(!Lt.get().getWebGLRenderingContext())return!1;let a=Lt.get().createCanvas().getContext("webgl",t);const l=!!a?.getContextAttributes()?.stencil;if(a){const u=a.getExtension("WEBGL_lose_context");u&&u.loseContext()}return a=null,l}catch{return!1}})()),Xl}let ql;async function nA(s={}){return ql!==void 0||(ql=await(async()=>{const t=Lt.get().getNavigator().gpu;if(!t)return!1;try{return await(await t.requestAdapter(s)).requestDevice(),!0}catch{return!1}})()),ql}const kg=["webgl","webgpu","canvas"];async function sA(s){let t=[];s.preference?(t.push(s.preference),kg.forEach(u=>{u!==s.preference&&t.push(u)})):t=kg.slice();let i,a={};for(let u=0;u<t.length;u++){const c=t[u];if(c==="webgpu"&&await nA()){const{WebGPURenderer:f}=await eo(async()=>{const{WebGPURenderer:d}=await import("./WebGPURenderer-EOoTU0rD.js");return{WebGPURenderer:d}},__vite__mapDeps([3,2,4]));i=f,a={...s,...s.webgpu};break}else if(c==="webgl"&&iA(s.failIfMajorPerformanceCaveat??U0.defaultOptions.failIfMajorPerformanceCaveat)){const{WebGLRenderer:f}=await eo(async()=>{const{WebGLRenderer:d}=await import("./WebGLRenderer-BM-M3Aqs.js");return{WebGLRenderer:d}},__vite__mapDeps([5,2,4]));i=f,a={...s,...s.webgl};break}else if(c==="canvas")throw a={...s},new Error("CanvasRenderer is not yet implemented")}if(delete a.webgpu,delete a.webgl,!i)throw new Error("No available renderer for the current environment");const l=new i;return await l.init(a),l}const G0="8.12.0";class L0{static init(){globalThis.__PIXI_APP_INIT__?.(this,G0)}static destroy(){}}L0.extension=nt.Application;class aA{constructor(t){this._renderer=t}init(){globalThis.__PIXI_RENDERER_INIT__?.(this._renderer,G0)}destroy(){this._renderer=null}}aA.extension={type:[nt.WebGLSystem,nt.WebGPUSystem],name:"initHook",priority:-10};const H0=class Mh{constructor(...t){this.stage=new Xi,t[0]!==void 0&&xt(Et,"Application constructor options are deprecated, please use Application.init() instead.")}async init(t){t={...t},this.renderer=await sA(t),Mh._plugins.forEach(i=>{i.init.call(this,t)})}render(){this.renderer.render({container:this.stage})}get canvas(){return this.renderer.canvas}get view(){return xt(Et,"Application.view is deprecated, please use Application.canvas instead."),this.renderer.canvas}get screen(){return this.renderer.screen}destroy(t=!1,i=!1){const a=Mh._plugins.slice(0);a.reverse(),a.forEach(l=>{l.destroy.call(this)}),this.stage.destroy(i),this.stage=null,this.renderer.destroy(t),this.renderer=null}};H0._plugins=[];let N0=H0;he.handleByList(nt.Application,N0._plugins);he.add(L0);class P0 extends ui{constructor(){super(...arguments),this.chars=Object.create(null),this.lineHeight=0,this.fontFamily="",this.fontMetrics={fontSize:0,ascent:0,descent:0},this.baseLineOffset=0,this.distanceField={type:"none",range:0},this.pages=[],this.applyFillAsTint=!0,this.baseMeasurementFontSize=100,this.baseRenderedFontSize=100}get font(){return xt(Et,"BitmapFont.font is deprecated, please use BitmapFont.fontFamily instead."),this.fontFamily}get pageTextures(){return xt(Et,"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}get size(){return xt(Et,"BitmapFont.size is deprecated, please use BitmapFont.fontMetrics.fontSize instead."),this.fontMetrics.fontSize}get distanceFieldRange(){return xt(Et,"BitmapFont.distanceFieldRange is deprecated, please use BitmapFont.distanceField.range instead."),this.distanceField.range}get distanceFieldType(){return xt(Et,"BitmapFont.distanceFieldType is deprecated, please use BitmapFont.distanceField.type instead."),this.distanceField.type}destroy(t=!1){this.emit("destroy",this),this.removeAllListeners();for(const i in this.chars)this.chars[i].texture?.destroy();this.chars=null,t&&(this.pages.forEach(i=>i.texture.destroy(!0)),this.pages=null)}}const rA=["serif","sans-serif","monospace","cursive","fantasy","system-ui"];function no(s){const t=typeof s.fontSize=="number"?`${s.fontSize}px`:s.fontSize;let i=s.fontFamily;Array.isArray(s.fontFamily)||(i=s.fontFamily.split(","));for(let a=i.length-1;a>=0;a--){let l=i[a].trim();!/([\"\'])[^\'\"]+\1/.test(l)&&!rA.includes(l)&&(l=`"${l}"`),i[a]=l}return`${s.fontStyle} ${s.fontVariant} ${s.fontWeight} ${t} ${i.join(",")}`}const th={willReadFrequently:!0},bi=class it{static get experimentalLetterSpacingSupported(){let t=it._experimentalLetterSpacingSupported;if(t===void 0){const i=Lt.get().getCanvasRenderingContext2D().prototype;t=it._experimentalLetterSpacingSupported="letterSpacing"in i||"textLetterSpacing"in i}return t}constructor(t,i,a,l,u,c,f,d,p){this.text=t,this.style=i,this.width=a,this.height=l,this.lines=u,this.lineWidths=c,this.lineHeight=f,this.maxLineWidth=d,this.fontProperties=p}static measureText(t=" ",i,a=it._canvas,l=i.wordWrap){const u=no(i),c=it.measureFont(u);c.fontSize===0&&(c.fontSize=i.fontSize,c.ascent=i.fontSize);const f=it.__context;f.font=u;const p=(l?it._wordWrap(t,i,a):t).split(/(?:\r\n|\r|\n)/),g=new Array(p.length);let y=0;for(let T=0;T<p.length;T++){const C=it._measureText(p[T],i.letterSpacing,f);g[T]=C,y=Math.max(y,C)}const _=i._stroke?.width||0;let b=y+_;i.dropShadow&&(b+=i.dropShadow.distance);const A=i.lineHeight||c.fontSize;let w=Math.max(A,c.fontSize+_)+(p.length-1)*(A+i.leading);return i.dropShadow&&(w+=i.dropShadow.distance),new it(t,i,b,w,p,g,A+i.leading,y,c)}static _measureText(t,i,a){let l=!1;it.experimentalLetterSpacingSupported&&(it.experimentalLetterSpacing?(a.letterSpacing=`${i}px`,a.textLetterSpacing=`${i}px`,l=!0):(a.letterSpacing="0px",a.textLetterSpacing="0px"));const u=a.measureText(t);let c=u.width;const f=-u.actualBoundingBoxLeft;let p=u.actualBoundingBoxRight-f;if(c>0)if(l)c-=i,p-=i;else{const g=(it.graphemeSegmenter(t).length-1)*i;c+=g,p+=g}return Math.max(c,p)}static _wordWrap(t,i,a=it._canvas){const l=a.getContext("2d",th);let u=0,c="",f="";const d=Object.create(null),{letterSpacing:p,whiteSpace:g}=i,y=it._collapseSpaces(g),_=it._collapseNewlines(g);let b=!y;const A=i.wordWrapWidth+p,w=it._tokenize(t);for(let S=0;S<w.length;S++){let T=w[S];if(it._isNewline(T)){if(!_){f+=it._addLine(c),b=!y,c="",u=0;continue}T=" "}if(y){const E=it.isBreakingSpace(T),D=it.isBreakingSpace(c[c.length-1]);if(E&&D)continue}const C=it._getFromCache(T,p,d,l);if(C>A)if(c!==""&&(f+=it._addLine(c),c="",u=0),it.canBreakWords(T,i.breakWords)){const E=it.wordWrapSplit(T);for(let D=0;D<E.length;D++){let H=E[D],F=H,N=1;for(;E[D+N];){const j=E[D+N];if(!it.canBreakChars(F,j,T,D,i.breakWords))H+=j;else break;F=j,N++}D+=N-1;const J=it._getFromCache(H,p,d,l);J+u>A&&(f+=it._addLine(c),b=!1,c="",u=0),c+=H,u+=J}}else{c.length>0&&(f+=it._addLine(c),c="",u=0);const E=S===w.length-1;f+=it._addLine(T,!E),b=!1,c="",u=0}else C+u>A&&(b=!1,f+=it._addLine(c),c="",u=0),(c.length>0||!it.isBreakingSpace(T)||b)&&(c+=T,u+=C)}return f+=it._addLine(c,!1),f}static _addLine(t,i=!0){return t=it._trimRight(t),t=i?`${t}
`:t,t}static _getFromCache(t,i,a,l){let u=a[t];return typeof u!="number"&&(u=it._measureText(t,i,l)+i,a[t]=u),u}static _collapseSpaces(t){return t==="normal"||t==="pre-line"}static _collapseNewlines(t){return t==="normal"}static _trimRight(t){if(typeof t!="string")return"";for(let i=t.length-1;i>=0;i--){const a=t[i];if(!it.isBreakingSpace(a))break;t=t.slice(0,-1)}return t}static _isNewline(t){return typeof t!="string"?!1:it._newlines.includes(t.charCodeAt(0))}static isBreakingSpace(t,i){return typeof t!="string"?!1:it._breakingSpaces.includes(t.charCodeAt(0))}static _tokenize(t){const i=[];let a="";if(typeof t!="string")return i;for(let l=0;l<t.length;l++){const u=t[l],c=t[l+1];if(it.isBreakingSpace(u,c)||it._isNewline(u)){a!==""&&(i.push(a),a=""),u==="\r"&&c===`
`?(i.push(`\r
`),l++):i.push(u);continue}a+=u}return a!==""&&i.push(a),i}static canBreakWords(t,i){return i}static canBreakChars(t,i,a,l,u){return!0}static wordWrapSplit(t){return it.graphemeSegmenter(t)}static measureFont(t){if(it._fonts[t])return it._fonts[t];const i=it._context;i.font=t;const a=i.measureText(it.METRICS_STRING+it.BASELINE_SYMBOL),l={ascent:a.actualBoundingBoxAscent,descent:a.actualBoundingBoxDescent,fontSize:a.actualBoundingBoxAscent+a.actualBoundingBoxDescent};return it._fonts[t]=l,l}static clearMetrics(t=""){t?delete it._fonts[t]:it._fonts={}}static get _canvas(){if(!it.__canvas){let t;try{const i=new OffscreenCanvas(0,0);if(i.getContext("2d",th)?.measureText)return it.__canvas=i,i;t=Lt.get().createCanvas()}catch{t=Lt.get().createCanvas()}t.width=t.height=10,it.__canvas=t}return it.__canvas}static get _context(){return it.__context||(it.__context=it._canvas.getContext("2d",th)),it.__context}};bi.METRICS_STRING="|ÉqÅ";bi.BASELINE_SYMBOL="M";bi.BASELINE_MULTIPLIER=1.4;bi.HEIGHT_MULTIPLIER=2;bi.graphemeSegmenter=(()=>{if(typeof Intl?.Segmenter=="function"){const s=new Intl.Segmenter;return t=>{const i=s.segment(t),a=[];let l=0;for(const u of i)a[l++]=u.segment;return a}}return s=>[...s]})();bi.experimentalLetterSpacing=!1;bi._fonts={};bi._newlines=[10,13];bi._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let xi=bi;const Ug=[{offset:0,color:"white"},{offset:1,color:"black"}],qh=class Eh{constructor(...t){this.uid=Qt("fillGradient"),this.type="linear",this.colorStops=[];let i=lA(t);i={...i.type==="radial"?Eh.defaultRadialOptions:Eh.defaultLinearOptions,...qy(i)},this._textureSize=i.textureSize,this._wrapMode=i.wrapMode,i.type==="radial"?(this.center=i.center,this.outerCenter=i.outerCenter??this.center,this.innerRadius=i.innerRadius,this.outerRadius=i.outerRadius,this.scale=i.scale,this.rotation=i.rotation):(this.start=i.start,this.end=i.end),this.textureSpace=i.textureSpace,this.type=i.type,i.colorStops.forEach(l=>{this.addColorStop(l.offset,l.color)})}addColorStop(t,i){return this.colorStops.push({offset:t,color:Kt.shared.setValue(i).toHexa()}),this}buildLinearGradient(){if(this.texture)return;let{x:t,y:i}=this.start,{x:a,y:l}=this.end,u=a-t,c=l-i;const f=u<0||c<0;if(this._wrapMode==="clamp-to-edge"){if(u<0){const S=t;t=a,a=S,u*=-1}if(c<0){const S=i;i=l,l=S,c*=-1}}const d=this.colorStops.length?this.colorStops:Ug,p=this._textureSize,{canvas:g,context:y}=Lg(p,1),_=f?y.createLinearGradient(this._textureSize,0,0,0):y.createLinearGradient(0,0,this._textureSize,0);Gg(_,d),y.fillStyle=_,y.fillRect(0,0,p,1),this.texture=new vt({source:new In({resource:g,addressMode:this._wrapMode})});const b=Math.sqrt(u*u+c*c),A=Math.atan2(c,u),w=new bt;w.scale(b/p,1),w.rotate(A),w.translate(t,i),this.textureSpace==="local"&&w.scale(p,p),this.transform=w}buildGradient(){this.type==="linear"?this.buildLinearGradient():this.buildRadialGradient()}buildRadialGradient(){if(this.texture)return;const t=this.colorStops.length?this.colorStops:Ug,i=this._textureSize,{canvas:a,context:l}=Lg(i,i),{x:u,y:c}=this.center,{x:f,y:d}=this.outerCenter,p=this.innerRadius,g=this.outerRadius,y=f-g,_=d-g,b=i/(g*2),A=(u-y)*b,w=(c-_)*b,S=l.createRadialGradient(A,w,p*b,(f-y)*b,(d-_)*b,g*b);Gg(S,t),l.fillStyle=t[t.length-1].color,l.fillRect(0,0,i,i),l.fillStyle=S,l.translate(A,w),l.rotate(this.rotation),l.scale(1,this.scale),l.translate(-A,-w),l.fillRect(0,0,i,i),this.texture=new vt({source:new In({resource:a,addressMode:this._wrapMode})});const T=new bt;T.scale(1/b,1/b),T.translate(y,_),this.textureSpace==="local"&&T.scale(i,i),this.transform=T}get styleKey(){return this.uid}destroy(){this.texture?.destroy(!0),this.texture=null,this.transform=null,this.colorStops=[],this.start=null,this.end=null,this.center=null,this.outerCenter=null}};qh.defaultLinearOptions={start:{x:0,y:0},end:{x:0,y:1},colorStops:[],textureSpace:"local",type:"linear",textureSize:256,wrapMode:"clamp-to-edge"};qh.defaultRadialOptions={center:{x:.5,y:.5},innerRadius:0,outerRadius:.5,colorStops:[],scale:1,textureSpace:"local",type:"radial",textureSize:256,wrapMode:"clamp-to-edge"};let Fi=qh;function Gg(s,t){for(let i=0;i<t.length;i++){const a=t[i];s.addColorStop(a.offset,a.color)}}function Lg(s,t){const i=Lt.get().createCanvas(s,t),a=i.getContext("2d");return{canvas:i,context:a}}function lA(s){let t=s[0]??{};return(typeof t=="number"||s[1])&&(xt("8.5.2","use options object instead"),t={type:"linear",start:{x:s[0],y:s[1]},end:{x:s[2],y:s[3]},textureSpace:s[4],textureSize:s[5]??Fi.defaultLinearOptions.textureSize}),t}const Hg={repeat:{addressModeU:"repeat",addressModeV:"repeat"},"repeat-x":{addressModeU:"repeat",addressModeV:"clamp-to-edge"},"repeat-y":{addressModeU:"clamp-to-edge",addressModeV:"repeat"},"no-repeat":{addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}};class ho{constructor(t,i){this.uid=Qt("fillPattern"),this.transform=new bt,this._styleKey=null,this.texture=t,this.transform.scale(1/t.frame.width,1/t.frame.height),i&&(t.source.style.addressModeU=Hg[i].addressModeU,t.source.style.addressModeV=Hg[i].addressModeV)}setTransform(t){const i=this.texture;this.transform.copyFrom(t),this.transform.invert(),this.transform.scale(1/i.frame.width,1/i.frame.height),this._styleKey=null}get styleKey(){return this._styleKey?this._styleKey:(this._styleKey=`fill-pattern-${this.uid}-${this.texture.uid}-${this.transform.toArray().join("-")}`,this._styleKey)}destroy(){this.texture.destroy(!0),this.texture=null,this._styleKey=null}}var eh,Ng;function oA(){if(Ng)return eh;Ng=1,eh=i;var s={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},t=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function i(u){var c=[];return u.replace(t,function(f,d,p){var g=d.toLowerCase();for(p=l(p),g=="m"&&p.length>2&&(c.push([d].concat(p.splice(0,2))),g="l",d=d=="m"?"l":"L");;){if(p.length==s[g])return p.unshift(d),c.push(p);if(p.length<s[g])throw new Error("malformed path data");c.push([d].concat(p.splice(0,s[g])))}}),c}var a=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function l(u){var c=u.match(a);return c?c.map(Number):[]}return eh}var uA=oA();const cA=My(uA);function hA(s,t){const i=cA(s),a=[];let l=null,u=0,c=0;for(let f=0;f<i.length;f++){const d=i[f],p=d[0],g=d;switch(p){case"M":u=g[1],c=g[2],t.moveTo(u,c);break;case"m":u+=g[1],c+=g[2],t.moveTo(u,c);break;case"H":u=g[1],t.lineTo(u,c);break;case"h":u+=g[1],t.lineTo(u,c);break;case"V":c=g[1],t.lineTo(u,c);break;case"v":c+=g[1],t.lineTo(u,c);break;case"L":u=g[1],c=g[2],t.lineTo(u,c);break;case"l":u+=g[1],c+=g[2],t.lineTo(u,c);break;case"C":u=g[5],c=g[6],t.bezierCurveTo(g[1],g[2],g[3],g[4],u,c);break;case"c":t.bezierCurveTo(u+g[1],c+g[2],u+g[3],c+g[4],u+g[5],c+g[6]),u+=g[5],c+=g[6];break;case"S":u=g[3],c=g[4],t.bezierCurveToShort(g[1],g[2],u,c);break;case"s":t.bezierCurveToShort(u+g[1],c+g[2],u+g[3],c+g[4]),u+=g[3],c+=g[4];break;case"Q":u=g[3],c=g[4],t.quadraticCurveTo(g[1],g[2],u,c);break;case"q":t.quadraticCurveTo(u+g[1],c+g[2],u+g[3],c+g[4]),u+=g[3],c+=g[4];break;case"T":u=g[1],c=g[2],t.quadraticCurveToShort(u,c);break;case"t":u+=g[1],c+=g[2],t.quadraticCurveToShort(u,c);break;case"A":u=g[6],c=g[7],t.arcToSvg(g[1],g[2],g[3],g[4],g[5],u,c);break;case"a":u+=g[6],c+=g[7],t.arcToSvg(g[1],g[2],g[3],g[4],g[5],u,c);break;case"Z":case"z":t.closePath(),a.length>0&&(l=a.pop(),l?(u=l.startX,c=l.startY):(u=0,c=0)),l=null;break;default:Gt(`Unknown SVG path command: ${p}`)}p!=="Z"&&p!=="z"&&l===null&&(l={startX:u,startY:c},a.push(l))}return t}class Ih{constructor(t=0,i=0,a=0){this.type="circle",this.x=t,this.y=i,this.radius=a}clone(){return new Ih(this.x,this.y,this.radius)}contains(t,i){if(this.radius<=0)return!1;const a=this.radius*this.radius;let l=this.x-t,u=this.y-i;return l*=l,u*=u,l+u<=a}strokeContains(t,i,a,l=.5){if(this.radius===0)return!1;const u=this.x-t,c=this.y-i,f=this.radius,d=(1-l)*a,p=Math.sqrt(u*u+c*c);return p<=f+d&&p>f-(a-d)}getBounds(t){return t||(t=new Pt),t.x=this.x-this.radius,t.y=this.y-this.radius,t.width=this.radius*2,t.height=this.radius*2,t}copyFrom(t){return this.x=t.x,this.y=t.y,this.radius=t.radius,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class Wh{constructor(t=0,i=0,a=0,l=0){this.type="ellipse",this.x=t,this.y=i,this.halfWidth=a,this.halfHeight=l}clone(){return new Wh(this.x,this.y,this.halfWidth,this.halfHeight)}contains(t,i){if(this.halfWidth<=0||this.halfHeight<=0)return!1;let a=(t-this.x)/this.halfWidth,l=(i-this.y)/this.halfHeight;return a*=a,l*=l,a+l<=1}strokeContains(t,i,a,l=.5){const{halfWidth:u,halfHeight:c}=this;if(u<=0||c<=0)return!1;const f=a*(1-l),d=a-f,p=u-d,g=c-d,y=u+f,_=c+f,b=t-this.x,A=i-this.y,w=b*b/(p*p)+A*A/(g*g),S=b*b/(y*y)+A*A/(_*_);return w>1&&S<=1}getBounds(t){return t||(t=new Pt),t.x=this.x-this.halfWidth,t.y=this.y-this.halfHeight,t.width=this.halfWidth*2,t.height=this.halfHeight*2,t}copyFrom(t){return this.x=t.x,this.y=t.y,this.halfWidth=t.halfWidth,this.halfHeight=t.halfHeight,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:Ellipse x=${this.x} y=${this.y} halfWidth=${this.halfWidth} halfHeight=${this.halfHeight}]`}}function fA(s,t,i,a,l,u){const c=s-i,f=t-a,d=l-i,p=u-a,g=c*d+f*p,y=d*d+p*p;let _=-1;y!==0&&(_=g/y);let b,A;_<0?(b=i,A=a):_>1?(b=l,A=u):(b=i+_*d,A=a+_*p);const w=s-b,S=t-A;return w*w+S*S}let dA,pA;class or{constructor(...t){this.type="polygon";let i=Array.isArray(t[0])?t[0]:t;if(typeof i[0]!="number"){const a=[];for(let l=0,u=i.length;l<u;l++)a.push(i[l].x,i[l].y);i=a}this.points=i,this.closePath=!0}isClockwise(){let t=0;const i=this.points,a=i.length;for(let l=0;l<a;l+=2){const u=i[l],c=i[l+1],f=i[(l+2)%a],d=i[(l+3)%a];t+=(f-u)*(d+c)}return t<0}containsPolygon(t){const i=this.getBounds(dA),a=t.getBounds(pA);if(!i.containsRect(a))return!1;const l=t.points;for(let u=0;u<l.length;u+=2){const c=l[u],f=l[u+1];if(!this.contains(c,f))return!1}return!0}clone(){const t=this.points.slice(),i=new or(t);return i.closePath=this.closePath,i}contains(t,i){let a=!1;const l=this.points.length/2;for(let u=0,c=l-1;u<l;c=u++){const f=this.points[u*2],d=this.points[u*2+1],p=this.points[c*2],g=this.points[c*2+1];d>i!=g>i&&t<(p-f)*((i-d)/(g-d))+f&&(a=!a)}return a}strokeContains(t,i,a,l=.5){const u=a*a,c=u*(1-l),f=u-c,{points:d}=this,p=d.length-(this.closePath?0:2);for(let g=0;g<p;g+=2){const y=d[g],_=d[g+1],b=d[(g+2)%d.length],A=d[(g+3)%d.length],w=fA(t,i,y,_,b,A),S=Math.sign((b-y)*(i-_)-(A-_)*(t-y));if(w<=(S<0?f:c))return!0}return!1}getBounds(t){t||(t=new Pt);const i=this.points;let a=1/0,l=-1/0,u=1/0,c=-1/0;for(let f=0,d=i.length;f<d;f+=2){const p=i[f],g=i[f+1];a=p<a?p:a,l=p>l?p:l,u=g<u?g:u,c=g>c?g:c}return t.x=a,t.width=l-a,t.y=u,t.height=c-u,t}copyFrom(t){return this.points=t.points.slice(),this.closePath=t.closePath,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:PolygoncloseStroke=${this.closePath}points=${this.points.reduce((t,i)=>`${t}, ${i}`,"")}]`}get lastX(){return this.points[this.points.length-2]}get lastY(){return this.points[this.points.length-1]}get x(){return xt("8.11.0","Polygon.lastX is deprecated, please use Polygon.lastX instead."),this.points[this.points.length-2]}get y(){return xt("8.11.0","Polygon.y is deprecated, please use Polygon.lastY instead."),this.points[this.points.length-1]}get startX(){return this.points[0]}get startY(){return this.points[1]}}const Il=(s,t,i,a,l,u,c)=>{const f=s-i,d=t-a,p=Math.sqrt(f*f+d*d);return p>=l-u&&p<=l+c};class Zh{constructor(t=0,i=0,a=0,l=0,u=20){this.type="roundedRectangle",this.x=t,this.y=i,this.width=a,this.height=l,this.radius=u}getBounds(t){return t||(t=new Pt),t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t}clone(){return new Zh(this.x,this.y,this.width,this.height,this.radius)}copyFrom(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}copyTo(t){return t.copyFrom(this),t}contains(t,i){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&i>=this.y&&i<=this.y+this.height){const a=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(i>=this.y+a&&i<=this.y+this.height-a||t>=this.x+a&&t<=this.x+this.width-a)return!0;let l=t-(this.x+a),u=i-(this.y+a);const c=a*a;if(l*l+u*u<=c||(l=t-(this.x+this.width-a),l*l+u*u<=c)||(u=i-(this.y+this.height-a),l*l+u*u<=c)||(l=t-(this.x+a),l*l+u*u<=c))return!0}return!1}strokeContains(t,i,a,l=.5){const{x:u,y:c,width:f,height:d,radius:p}=this,g=a*(1-l),y=a-g,_=u+p,b=c+p,A=f-p*2,w=d-p*2,S=u+f,T=c+d;return(t>=u-g&&t<=u+y||t>=S-y&&t<=S+g)&&i>=b&&i<=b+w||(i>=c-g&&i<=c+y||i>=T-y&&i<=T+g)&&t>=_&&t<=_+A?!0:t<_&&i<b&&Il(t,i,_,b,p,y,g)||t>S-p&&i<b&&Il(t,i,S-p,b,p,y,g)||t>S-p&&i>T-p&&Il(t,i,S-p,T-p,p,y,g)||t<_&&i>T-p&&Il(t,i,_,T-p,p,y,g)}toString(){return`[pixi.js/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}const j0={};function mA(s,t,i){let a=2166136261;for(let l=0;l<t;l++)a^=s[l].uid,a=Math.imul(a,16777619),a>>>=0;return j0[a]||gA(s,t,a,i)}function gA(s,t,i,a){const l={};let u=0;for(let f=0;f<a;f++){const d=f<t?s[f]:vt.EMPTY.source;l[u++]=d.source,l[u++]=d.style}const c=new Jl(l);return j0[i]=c,c}class Pg{constructor(t){typeof t=="number"?this.rawBinaryData=new ArrayBuffer(t):t instanceof Uint8Array?this.rawBinaryData=t.buffer:this.rawBinaryData=t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData),this.size=this.rawBinaryData.byteLength}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}get float64View(){return this._float64Array||(this._float64Array=new Float64Array(this.rawBinaryData)),this._float64Array}get bigUint64View(){return this._bigUint64Array||(this._bigUint64Array=new BigUint64Array(this.rawBinaryData)),this._bigUint64Array}view(t){return this[`${t}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this.uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${t} isn't a valid view type`)}}}function jg(s,t){const i=s.byteLength/8|0,a=new Float64Array(s,0,i);new Float64Array(t,0,i).set(a);const u=s.byteLength-i*8;if(u>0){const c=new Uint8Array(s,i*8,u);new Uint8Array(t,i*8,u).set(c)}}const yA={normal:"normal-npm",add:"add-npm",screen:"screen-npm"};var xA=(s=>(s[s.DISABLED=0]="DISABLED",s[s.RENDERING_MASK_ADD=1]="RENDERING_MASK_ADD",s[s.MASK_ACTIVE=2]="MASK_ACTIVE",s[s.INVERSE_MASK_ACTIVE=3]="INVERSE_MASK_ACTIVE",s[s.RENDERING_MASK_REMOVE=4]="RENDERING_MASK_REMOVE",s[s.NONE=5]="NONE",s))(xA||{});function Yg(s,t){return t.alphaMode==="no-premultiply-alpha"&&yA[s]||s}const _A=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function bA(s){let t="";for(let i=0;i<s;++i)i>0&&(t+=`
else `),i<s-1&&(t+=`if(test == ${i}.0){}`);return t}function vA(s,t){if(s===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const i=t.createShader(t.FRAGMENT_SHADER);try{for(;;){const a=_A.replace(/%forloop%/gi,bA(s));if(t.shaderSource(i,a),t.compileShader(i),!t.getShaderParameter(i,t.COMPILE_STATUS))s=s/2|0;else break}}finally{t.deleteShader(i)}return s}let Gs=null;function SA(){if(Gs)return Gs;const s=v0();return Gs=s.getParameter(s.MAX_TEXTURE_IMAGE_UNITS),Gs=vA(Gs,s),s.getExtension("WEBGL_lose_context")?.loseContext(),Gs}class AA{constructor(){this.ids=Object.create(null),this.textures=[],this.count=0}clear(){for(let t=0;t<this.count;t++){const i=this.textures[t];this.textures[t]=null,this.ids[i.uid]=null}this.count=0}}class wA{constructor(){this.renderPipeId="batch",this.action="startBatch",this.start=0,this.size=0,this.textures=new AA,this.blendMode="normal",this.topology="triangle-strip",this.canBundle=!0}destroy(){this.textures=null,this.gpuBindGroup=null,this.bindGroup=null,this.batcher=null}}const Y0=[];let Rh=0;function Fg(){return Rh>0?Y0[--Rh]:new wA}function Vg(s){Y0[Rh++]=s}let $a=0;const F0=class V0{constructor(t){this.uid=Qt("batcher"),this.dirty=!0,this.batchIndex=0,this.batches=[],this._elements=[],t={...V0.defaultOptions,...t},t.maxTextures||(xt("v8.8.0","maxTextures is a required option for Batcher now, please pass it in the options"),t.maxTextures=SA());const{maxTextures:i,attributesInitialSize:a,indicesInitialSize:l}=t;this.attributeBuffer=new Pg(a*4),this.indexBuffer=new Uint16Array(l),this.maxTextures=i}begin(){this.elementSize=0,this.elementStart=0,this.indexSize=0,this.attributeSize=0;for(let t=0;t<this.batchIndex;t++)Vg(this.batches[t]);this.batchIndex=0,this._batchIndexStart=0,this._batchIndexSize=0,this.dirty=!0}add(t){this._elements[this.elementSize++]=t,t._indexStart=this.indexSize,t._attributeStart=this.attributeSize,t._batcher=this,this.indexSize+=t.indexSize,this.attributeSize+=t.attributeSize*this.vertexSize}checkAndUpdateTexture(t,i){const a=t._batch.textures.ids[i._source.uid];return!a&&a!==0?!1:(t._textureId=a,t.texture=i,!0)}updateElement(t){this.dirty=!0;const i=this.attributeBuffer;t.packAsQuad?this.packQuadAttributes(t,i.float32View,i.uint32View,t._attributeStart,t._textureId):this.packAttributes(t,i.float32View,i.uint32View,t._attributeStart,t._textureId)}break(t){const i=this._elements;if(!i[this.elementStart])return;let a=Fg(),l=a.textures;l.clear();const u=i[this.elementStart];let c=Yg(u.blendMode,u.texture._source),f=u.topology;this.attributeSize*4>this.attributeBuffer.size&&this._resizeAttributeBuffer(this.attributeSize*4),this.indexSize>this.indexBuffer.length&&this._resizeIndexBuffer(this.indexSize);const d=this.attributeBuffer.float32View,p=this.attributeBuffer.uint32View,g=this.indexBuffer;let y=this._batchIndexSize,_=this._batchIndexStart,b="startBatch";const A=this.maxTextures;for(let w=this.elementStart;w<this.elementSize;++w){const S=i[w];i[w]=null;const C=S.texture._source,E=Yg(S.blendMode,C),D=c!==E||f!==S.topology;if(C._batchTick===$a&&!D){S._textureId=C._textureBindLocation,y+=S.indexSize,S.packAsQuad?(this.packQuadAttributes(S,d,p,S._attributeStart,S._textureId),this.packQuadIndex(g,S._indexStart,S._attributeStart/this.vertexSize)):(this.packAttributes(S,d,p,S._attributeStart,S._textureId),this.packIndex(S,g,S._indexStart,S._attributeStart/this.vertexSize)),S._batch=a;continue}C._batchTick=$a,(l.count>=A||D)&&(this._finishBatch(a,_,y-_,l,c,f,t,b),b="renderBatch",_=y,c=E,f=S.topology,a=Fg(),l=a.textures,l.clear(),++$a),S._textureId=C._textureBindLocation=l.count,l.ids[C.uid]=l.count,l.textures[l.count++]=C,S._batch=a,y+=S.indexSize,S.packAsQuad?(this.packQuadAttributes(S,d,p,S._attributeStart,S._textureId),this.packQuadIndex(g,S._indexStart,S._attributeStart/this.vertexSize)):(this.packAttributes(S,d,p,S._attributeStart,S._textureId),this.packIndex(S,g,S._indexStart,S._attributeStart/this.vertexSize))}l.count>0&&(this._finishBatch(a,_,y-_,l,c,f,t,b),_=y,++$a),this.elementStart=this.elementSize,this._batchIndexStart=_,this._batchIndexSize=y}_finishBatch(t,i,a,l,u,c,f,d){t.gpuBindGroup=null,t.bindGroup=null,t.action=d,t.batcher=this,t.textures=l,t.blendMode=u,t.topology=c,t.start=i,t.size=a,++$a,this.batches[this.batchIndex++]=t,f.add(t)}finish(t){this.break(t)}ensureAttributeBuffer(t){t*4<=this.attributeBuffer.size||this._resizeAttributeBuffer(t*4)}ensureIndexBuffer(t){t<=this.indexBuffer.length||this._resizeIndexBuffer(t)}_resizeAttributeBuffer(t){const i=Math.max(t,this.attributeBuffer.size*2),a=new Pg(i);jg(this.attributeBuffer.rawBinaryData,a.rawBinaryData),this.attributeBuffer=a}_resizeIndexBuffer(t){const i=this.indexBuffer;let a=Math.max(t,i.length*1.5);a+=a%2;const l=a>65535?new Uint32Array(a):new Uint16Array(a);if(l.BYTES_PER_ELEMENT!==i.BYTES_PER_ELEMENT)for(let u=0;u<i.length;u++)l[u]=i[u];else jg(i.buffer,l.buffer);this.indexBuffer=l}packQuadIndex(t,i,a){t[i]=a+0,t[i+1]=a+1,t[i+2]=a+2,t[i+3]=a+0,t[i+4]=a+2,t[i+5]=a+3}packIndex(t,i,a,l){const u=t.indices,c=t.indexSize,f=t.indexOffset,d=t.attributeOffset;for(let p=0;p<c;p++)i[a++]=l+u[p+f]-d}destroy(){for(let t=0;t<this.batches.length;t++)Vg(this.batches[t]);this.batches=null;for(let t=0;t<this._elements.length;t++)this._elements[t]._batch=null;this._elements=null,this.indexBuffer=null,this.attributeBuffer.destroy(),this.attributeBuffer=null}};F0.defaultOptions={maxTextures:null,attributesInitialSize:4,indicesInitialSize:6};let TA=F0;var we=(s=>(s[s.MAP_READ=1]="MAP_READ",s[s.MAP_WRITE=2]="MAP_WRITE",s[s.COPY_SRC=4]="COPY_SRC",s[s.COPY_DST=8]="COPY_DST",s[s.INDEX=16]="INDEX",s[s.VERTEX=32]="VERTEX",s[s.UNIFORM=64]="UNIFORM",s[s.STORAGE=128]="STORAGE",s[s.INDIRECT=256]="INDIRECT",s[s.QUERY_RESOLVE=512]="QUERY_RESOLVE",s[s.STATIC=1024]="STATIC",s))(we||{});class pr extends ui{constructor(t){let{data:i,size:a}=t;const{usage:l,label:u,shrinkToFit:c}=t;super(),this.uid=Qt("buffer"),this._resourceType="buffer",this._resourceId=Qt("resource"),this._touched=0,this._updateID=1,this._dataInt32=null,this.shrinkToFit=!0,this.destroyed=!1,i instanceof Array&&(i=new Float32Array(i)),this._data=i,a??(a=i?.byteLength);const f=!!i;this.descriptor={size:a,usage:l,mappedAtCreation:f,label:u},this.shrinkToFit=c??!0}get data(){return this._data}set data(t){this.setDataWithSize(t,t.length,!0)}get dataInt32(){return this._dataInt32||(this._dataInt32=new Int32Array(this.data.buffer)),this._dataInt32}get static(){return!!(this.descriptor.usage&we.STATIC)}set static(t){t?this.descriptor.usage|=we.STATIC:this.descriptor.usage&=~we.STATIC}setDataWithSize(t,i,a){if(this._updateID++,this._updateSize=i*t.BYTES_PER_ELEMENT,this._data===t){a&&this.emit("update",this);return}const l=this._data;if(this._data=t,this._dataInt32=null,!l||l.length!==t.length){!this.shrinkToFit&&l&&t.byteLength<l.byteLength?a&&this.emit("update",this):(this.descriptor.size=t.byteLength,this._resourceId=Qt("resource"),this.emit("change",this));return}a&&this.emit("update",this)}update(t){this._updateSize=t??this._updateSize,this._updateID++,this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._data=null,this.descriptor=null,this.removeAllListeners()}}function X0(s,t){if(!(s instanceof pr)){let i=t?we.INDEX:we.VERTEX;s instanceof Array&&(t?(s=new Uint32Array(s),i=we.INDEX|we.COPY_DST):(s=new Float32Array(s),i=we.VERTEX|we.COPY_DST)),s=new pr({data:s,label:t?"index-mesh-buffer":"vertex-mesh-buffer",usage:i})}return s}function CA(s,t,i){const a=s.getAttribute(t);if(!a)return i.minX=0,i.minY=0,i.maxX=0,i.maxY=0,i;const l=a.buffer.data;let u=1/0,c=1/0,f=-1/0,d=-1/0;const p=l.BYTES_PER_ELEMENT,g=(a.offset||0)/p,y=(a.stride||8)/p;for(let _=g;_<l.length;_+=y){const b=l[_],A=l[_+1];b>f&&(f=b),A>d&&(d=A),b<u&&(u=b),A<c&&(c=A)}return i.minX=u,i.minY=c,i.maxX=f,i.maxY=d,i}function MA(s){return(s instanceof pr||Array.isArray(s)||s.BYTES_PER_ELEMENT)&&(s={buffer:s}),s.buffer=X0(s.buffer,!1),s}class EA extends ui{constructor(t={}){super(),this.uid=Qt("geometry"),this._layoutKey=0,this.instanceCount=1,this._bounds=new oi,this._boundsDirty=!0;const{attributes:i,indexBuffer:a,topology:l}=t;if(this.buffers=[],this.attributes={},i)for(const u in i)this.addAttribute(u,i[u]);this.instanceCount=t.instanceCount??1,a&&this.addIndex(a),this.topology=l||"triangle-list"}onBufferUpdate(){this._boundsDirty=!0,this.emit("update",this)}getAttribute(t){return this.attributes[t]}getIndex(){return this.indexBuffer}getBuffer(t){return this.getAttribute(t).buffer}getSize(){for(const t in this.attributes){const i=this.attributes[t];return i.buffer.data.length/(i.stride/4||i.size)}return 0}addAttribute(t,i){const a=MA(i);this.buffers.indexOf(a.buffer)===-1&&(this.buffers.push(a.buffer),a.buffer.on("update",this.onBufferUpdate,this),a.buffer.on("change",this.onBufferUpdate,this)),this.attributes[t]=a}addIndex(t){this.indexBuffer=X0(t,!0),this.buffers.push(this.indexBuffer)}get bounds(){return this._boundsDirty?(this._boundsDirty=!1,CA(this,"aPosition",this._bounds)):this._bounds}destroy(t=!1){this.emit("destroy",this),this.removeAllListeners(),t&&this.buffers.forEach(i=>i.destroy()),this.attributes=null,this.buffers=null,this.indexBuffer=null,this._bounds=null}}const RA=new Float32Array(1),BA=new Uint32Array(1);class zA extends EA{constructor(){const i=new pr({data:RA,label:"attribute-batch-buffer",usage:we.VERTEX|we.COPY_DST,shrinkToFit:!1}),a=new pr({data:BA,label:"index-batch-buffer",usage:we.INDEX|we.COPY_DST,shrinkToFit:!1}),l=24;super({attributes:{aPosition:{buffer:i,format:"float32x2",stride:l,offset:0},aUV:{buffer:i,format:"float32x2",stride:l,offset:8},aColor:{buffer:i,format:"unorm8x4",stride:l,offset:16},aTextureIdAndRound:{buffer:i,format:"uint16x2",stride:l,offset:20}},indexBuffer:a})}}function Xg(s,t,i){if(s)for(const a in s){const l=a.toLocaleLowerCase(),u=t[l];if(u){let c=s[a];a==="header"&&(c=c.replace(/@in\s+[^;]+;\s*/g,"").replace(/@out\s+[^;]+;\s*/g,"")),i&&u.push(`//----${i}----//`),u.push(c)}else Gt(`${a} placement hook does not exist in shader`)}}const OA=/\{\{(.*?)\}\}/g;function qg(s){const t={};return(s.match(OA)?.map(a=>a.replace(/[{()}]/g,""))??[]).forEach(a=>{t[a]=[]}),t}function Ig(s,t){let i;const a=/@in\s+([^;]+);/g;for(;(i=a.exec(s))!==null;)t.push(i[1])}function Wg(s,t,i=!1){const a=[];Ig(t,a),s.forEach(f=>{f.header&&Ig(f.header,a)});const l=a;i&&l.sort();const u=l.map((f,d)=>`       @location(${d}) ${f},`).join(`
`);let c=t.replace(/@in\s+[^;]+;\s*/g,"");return c=c.replace("{{in}}",`
${u}
`),c}function Zg(s,t){let i;const a=/@out\s+([^;]+);/g;for(;(i=a.exec(s))!==null;)t.push(i[1])}function DA(s){const i=/\b(\w+)\s*:/g.exec(s);return i?i[1]:""}function kA(s){const t=/@.*?\s+/g;return s.replace(t,"")}function UA(s,t){const i=[];Zg(t,i),s.forEach(d=>{d.header&&Zg(d.header,i)});let a=0;const l=i.sort().map(d=>d.indexOf("builtin")>-1?d:`@location(${a++}) ${d}`).join(`,
`),u=i.sort().map(d=>`       var ${kA(d)};`).join(`
`),c=`return VSOutput(
            ${i.sort().map(d=>` ${DA(d)}`).join(`,
`)});`;let f=t.replace(/@out\s+[^;]+;\s*/g,"");return f=f.replace("{{struct}}",`
${l}
`),f=f.replace("{{start}}",`
${u}
`),f=f.replace("{{return}}",`
${c}
`),f}function Qg(s,t){let i=s;for(const a in t){const l=t[a];l.join(`
`).length?i=i.replace(`{{${a}}}`,`//-----${a} START-----//
${l.join(`
`)}
//----${a} FINISH----//`):i=i.replace(`{{${a}}}`,"")}return i}const _n=Object.create(null),ih=new Map;let GA=0;function LA({template:s,bits:t}){const i=q0(s,t);if(_n[i])return _n[i];const{vertex:a,fragment:l}=NA(s,t);return _n[i]=I0(a,l,t),_n[i]}function HA({template:s,bits:t}){const i=q0(s,t);return _n[i]||(_n[i]=I0(s.vertex,s.fragment,t)),_n[i]}function NA(s,t){const i=t.map(c=>c.vertex).filter(c=>!!c),a=t.map(c=>c.fragment).filter(c=>!!c);let l=Wg(i,s.vertex,!0);l=UA(i,l);const u=Wg(a,s.fragment,!0);return{vertex:l,fragment:u}}function q0(s,t){return t.map(i=>(ih.has(i)||ih.set(i,GA++),ih.get(i))).sort((i,a)=>i-a).join("-")+s.vertex+s.fragment}function I0(s,t,i){const a=qg(s),l=qg(t);return i.forEach(u=>{Xg(u.vertex,a,u.name),Xg(u.fragment,l,u.name)}),{vertex:Qg(s,a),fragment:Qg(t,l)}}const PA=`
    @in aPosition: vec2<f32>;
    @in aUV: vec2<f32>;

    @out @builtin(position) vPosition: vec4<f32>;
    @out vUV : vec2<f32>;
    @out vColor : vec4<f32>;

    {{header}}

    struct VSOutput {
        {{struct}}
    };

    @vertex
    fn main( {{in}} ) -> VSOutput {

        var worldTransformMatrix = globalUniforms.uWorldTransformMatrix;
        var modelMatrix = mat3x3<f32>(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        var position = aPosition;
        var uv = aUV;

        {{start}}

        vColor = vec4<f32>(1., 1., 1., 1.);

        {{main}}

        vUV = uv;

        var modelViewProjectionMatrix = globalUniforms.uProjectionMatrix * worldTransformMatrix * modelMatrix;

        vPosition =  vec4<f32>((modelViewProjectionMatrix *  vec3<f32>(position, 1.0)).xy, 0.0, 1.0);

        vColor *= globalUniforms.uWorldColorAlpha;

        {{end}}

        {{return}}
    };
`,jA=`
    @in vUV : vec2<f32>;
    @in vColor : vec4<f32>;

    {{header}}

    @fragment
    fn main(
        {{in}}
      ) -> @location(0) vec4<f32> {

        {{start}}

        var outColor:vec4<f32>;

        {{main}}

        var finalColor:vec4<f32> = outColor * vColor;

        {{end}}

        return finalColor;
      };
`,YA=`
    in vec2 aPosition;
    in vec2 aUV;

    out vec4 vColor;
    out vec2 vUV;

    {{header}}

    void main(void){

        mat3 worldTransformMatrix = uWorldTransformMatrix;
        mat3 modelMatrix = mat3(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        vec2 position = aPosition;
        vec2 uv = aUV;

        {{start}}

        vColor = vec4(1.);

        {{main}}

        vUV = uv;

        mat3 modelViewProjectionMatrix = uProjectionMatrix * worldTransformMatrix * modelMatrix;

        gl_Position = vec4((modelViewProjectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);

        vColor *= uWorldColorAlpha;

        {{end}}
    }
`,FA=`

    in vec4 vColor;
    in vec2 vUV;

    out vec4 finalColor;

    {{header}}

    void main(void) {

        {{start}}

        vec4 outColor;

        {{main}}

        finalColor = outColor * vColor;

        {{end}}
    }
`,VA={name:"global-uniforms-bit",vertex:{header:`
        struct GlobalUniforms {
            uProjectionMatrix:mat3x3<f32>,
            uWorldTransformMatrix:mat3x3<f32>,
            uWorldColorAlpha: vec4<f32>,
            uResolution: vec2<f32>,
        }

        @group(0) @binding(0) var<uniform> globalUniforms : GlobalUniforms;
        `}},XA={name:"global-uniforms-bit",vertex:{header:`
          uniform mat3 uProjectionMatrix;
          uniform mat3 uWorldTransformMatrix;
          uniform vec4 uWorldColorAlpha;
          uniform vec2 uResolution;
        `}};function qA({bits:s,name:t}){const i=LA({template:{fragment:jA,vertex:PA},bits:[VA,...s]});return co.from({name:t,vertex:{source:i.vertex,entryPoint:"main"},fragment:{source:i.fragment,entryPoint:"main"}})}function IA({bits:s,name:t}){return new A0({name:t,...HA({template:{vertex:YA,fragment:FA},bits:[XA,...s]})})}const WA={name:"color-bit",vertex:{header:`
            @in aColor: vec4<f32>;
        `,main:`
            vColor *= vec4<f32>(aColor.rgb * aColor.a, aColor.a);
        `}},ZA={name:"color-bit",vertex:{header:`
            in vec4 aColor;
        `,main:`
            vColor *= vec4(aColor.rgb * aColor.a, aColor.a);
        `}},nh={};function QA(s){const t=[];if(s===1)t.push("@group(1) @binding(0) var textureSource1: texture_2d<f32>;"),t.push("@group(1) @binding(1) var textureSampler1: sampler;");else{let i=0;for(let a=0;a<s;a++)t.push(`@group(1) @binding(${i++}) var textureSource${a+1}: texture_2d<f32>;`),t.push(`@group(1) @binding(${i++}) var textureSampler${a+1}: sampler;`)}return t.join(`
`)}function KA(s){const t=[];if(s===1)t.push("outColor = textureSampleGrad(textureSource1, textureSampler1, vUV, uvDx, uvDy);");else{t.push("switch vTextureId {");for(let i=0;i<s;i++)i===s-1?t.push("  default:{"):t.push(`  case ${i}:{`),t.push(`      outColor = textureSampleGrad(textureSource${i+1}, textureSampler${i+1}, vUV, uvDx, uvDy);`),t.push("      break;}");t.push("}")}return t.join(`
`)}function $A(s){return nh[s]||(nh[s]={name:"texture-batch-bit",vertex:{header:`
                @in aTextureIdAndRound: vec2<u32>;
                @out @interpolate(flat) vTextureId : u32;
            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1)
                {
                    vPosition = vec4<f32>(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
                }
            `},fragment:{header:`
                @in @interpolate(flat) vTextureId: u32;

                ${QA(s)}
            `,main:`
                var uvDx = dpdx(vUV);
                var uvDy = dpdy(vUV);

                ${KA(s)}
            `}}),nh[s]}const sh={};function JA(s){const t=[];for(let i=0;i<s;i++)i>0&&t.push("else"),i<s-1&&t.push(`if(vTextureId < ${i}.5)`),t.push("{"),t.push(`	outColor = texture(uTextures[${i}], vUV);`),t.push("}");return t.join(`
`)}function tw(s){return sh[s]||(sh[s]={name:"texture-batch-bit",vertex:{header:`
                in vec2 aTextureIdAndRound;
                out float vTextureId;

            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1.)
                {
                    gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
                }
            `},fragment:{header:`
                in float vTextureId;

                uniform sampler2D uTextures[${s}];

            `,main:`

                ${JA(s)}
            `}}),sh[s]}const ew={name:"round-pixels-bit",vertex:{header:`
            fn roundPixels(position: vec2<f32>, targetSize: vec2<f32>) -> vec2<f32>
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},iw={name:"round-pixels-bit",vertex:{header:`
            vec2 roundPixels(vec2 position, vec2 targetSize)
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},Kg={};function nw(s){let t=Kg[s];if(t)return t;const i=new Int32Array(s);for(let a=0;a<s;a++)i[a]=a;return t=Kg[s]=new M0({uTextures:{value:i,type:"i32",size:s}},{isStatic:!0}),t}class sw extends Xh{constructor(t){const i=IA({name:"batch",bits:[ZA,tw(t),iw]}),a=qA({name:"batch",bits:[WA,$A(t),ew]});super({glProgram:i,gpuProgram:a,resources:{batchSamplers:nw(t)}})}}let ah=null;const W0=class Z0 extends TA{constructor(t){super(t),this.geometry=new zA,this.name=Z0.extension.name,this.vertexSize=6,ah??(ah=new sw(t.maxTextures)),this.shader=ah}packAttributes(t,i,a,l,u){const c=u<<16|t.roundPixels&65535,f=t.transform,d=f.a,p=f.b,g=f.c,y=f.d,_=f.tx,b=f.ty,{positions:A,uvs:w}=t,S=t.color,T=t.attributeOffset,C=T+t.attributeSize;for(let E=T;E<C;E++){const D=E*2,H=A[D],F=A[D+1];i[l++]=d*H+g*F+_,i[l++]=y*F+p*H+b,i[l++]=w[D],i[l++]=w[D+1],a[l++]=S,a[l++]=c}}packQuadAttributes(t,i,a,l,u){const c=t.texture,f=t.transform,d=f.a,p=f.b,g=f.c,y=f.d,_=f.tx,b=f.ty,A=t.bounds,w=A.maxX,S=A.minX,T=A.maxY,C=A.minY,E=c.uvs,D=t.color,H=u<<16|t.roundPixels&65535;i[l+0]=d*S+g*C+_,i[l+1]=y*C+p*S+b,i[l+2]=E.x0,i[l+3]=E.y0,a[l+4]=D,a[l+5]=H,i[l+6]=d*w+g*C+_,i[l+7]=y*C+p*w+b,i[l+8]=E.x1,i[l+9]=E.y1,a[l+10]=D,a[l+11]=H,i[l+12]=d*w+g*T+_,i[l+13]=y*T+p*w+b,i[l+14]=E.x2,i[l+15]=E.y2,a[l+16]=D,a[l+17]=H,i[l+18]=d*S+g*T+_,i[l+19]=y*T+p*S+b,i[l+20]=E.x3,i[l+21]=E.y3,a[l+22]=D,a[l+23]=H}};W0.extension={type:[nt.Batcher],name:"default"};let aw=W0;function rw(s,t,i,a,l,u,c,f=null){let d=0;i*=t,l*=u;const p=f.a,g=f.b,y=f.c,_=f.d,b=f.tx,A=f.ty;for(;d<c;){const w=s[i],S=s[i+1];a[l]=p*w+y*S+b,a[l+1]=g*w+_*S+A,l+=u,i+=t,d++}}function lw(s,t,i,a){let l=0;for(t*=i;l<a;)s[t]=0,s[t+1]=0,t+=i,l++}function Q0(s,t,i,a,l){const u=t.a,c=t.b,f=t.c,d=t.d,p=t.tx,g=t.ty;i||(i=0),a||(a=2),l||(l=s.length/a-i);let y=i*a;for(let _=0;_<l;_++){const b=s[y],A=s[y+1];s[y]=u*b+f*A+p,s[y+1]=c*b+d*A+g,y+=a}}const ow=new bt;class K0{constructor(){this.packAsQuad=!1,this.batcherName="default",this.topology="triangle-list",this.applyTransform=!0,this.roundPixels=0,this._batcher=null,this._batch=null}get uvs(){return this.geometryData.uvs}get positions(){return this.geometryData.vertices}get indices(){return this.geometryData.indices}get blendMode(){return this.renderable&&this.applyTransform?this.renderable.groupBlendMode:"normal"}get color(){const t=this.baseColor,i=t>>16|t&65280|(t&255)<<16,a=this.renderable;return a?i0(i,a.groupColor)+(this.alpha*a.groupAlpha*255<<24):i+(this.alpha*255<<24)}get transform(){return this.renderable?.groupTransform||ow}copyTo(t){t.indexOffset=this.indexOffset,t.indexSize=this.indexSize,t.attributeOffset=this.attributeOffset,t.attributeSize=this.attributeSize,t.baseColor=this.baseColor,t.alpha=this.alpha,t.texture=this.texture,t.geometryData=this.geometryData,t.topology=this.topology}reset(){this.applyTransform=!0,this.renderable=null,this.topology="triangle-list"}}const mr={extension:{type:nt.ShapeBuilder,name:"circle"},build(s,t){let i,a,l,u,c,f;if(s.type==="circle"){const D=s;if(c=f=D.radius,c<=0)return!1;i=D.x,a=D.y,l=u=0}else if(s.type==="ellipse"){const D=s;if(c=D.halfWidth,f=D.halfHeight,c<=0||f<=0)return!1;i=D.x,a=D.y,l=u=0}else{const D=s,H=D.width/2,F=D.height/2;i=D.x+H,a=D.y+F,c=f=Math.max(0,Math.min(D.radius,Math.min(H,F))),l=H-c,u=F-f}if(l<0||u<0)return!1;const d=Math.ceil(2.3*Math.sqrt(c+f)),p=d*8+(l?4:0)+(u?4:0);if(p===0)return!1;if(d===0)return t[0]=t[6]=i+l,t[1]=t[3]=a+u,t[2]=t[4]=i-l,t[5]=t[7]=a-u,!0;let g=0,y=d*4+(l?2:0)+2,_=y,b=p,A=l+c,w=u,S=i+A,T=i-A,C=a+w;if(t[g++]=S,t[g++]=C,t[--y]=C,t[--y]=T,u){const D=a-w;t[_++]=T,t[_++]=D,t[--b]=D,t[--b]=S}for(let D=1;D<d;D++){const H=Math.PI/2*(D/d),F=l+Math.cos(H)*c,N=u+Math.sin(H)*f,J=i+F,j=i-F,W=a+N,K=a-N;t[g++]=J,t[g++]=W,t[--y]=W,t[--y]=j,t[_++]=j,t[_++]=K,t[--b]=K,t[--b]=J}A=l,w=u+f,S=i+A,T=i-A,C=a+w;const E=a-w;return t[g++]=S,t[g++]=C,t[--b]=E,t[--b]=S,l&&(t[g++]=T,t[g++]=C,t[--b]=E,t[--b]=T),!0},triangulate(s,t,i,a,l,u){if(s.length===0)return;let c=0,f=0;for(let g=0;g<s.length;g+=2)c+=s[g],f+=s[g+1];c/=s.length/2,f/=s.length/2;let d=a;t[d*i]=c,t[d*i+1]=f;const p=d++;for(let g=0;g<s.length;g+=2)t[d*i]=s[g],t[d*i+1]=s[g+1],g>0&&(l[u++]=d,l[u++]=p,l[u++]=d-1),d++;l[u++]=p+1,l[u++]=p,l[u++]=d-1}},uw={...mr,extension:{...mr.extension,name:"ellipse"}},cw={...mr,extension:{...mr.extension,name:"roundedRectangle"}},$0=1e-4,$g=1e-4;function hw(s){const t=s.length;if(t<6)return 1;let i=0;for(let a=0,l=s[t-2],u=s[t-1];a<t;a+=2){const c=s[a],f=s[a+1];i+=(c-l)*(f+u),l=c,u=f}return i<0?-1:1}function Jg(s,t,i,a,l,u,c,f){const d=s-i*l,p=t-a*l,g=s+i*u,y=t+a*u;let _,b;c?(_=a,b=-i):(_=-a,b=i);const A=d+_,w=p+b,S=g+_,T=y+b;return f.push(A,w),f.push(S,T),2}function Pn(s,t,i,a,l,u,c,f){const d=i-s,p=a-t;let g=Math.atan2(d,p),y=Math.atan2(l-s,u-t);f&&g<y?g+=Math.PI*2:!f&&g>y&&(y+=Math.PI*2);let _=g;const b=y-g,A=Math.abs(b),w=Math.sqrt(d*d+p*p),S=(15*A*Math.sqrt(w)/Math.PI>>0)+1,T=b/S;if(_+=T,f){c.push(s,t),c.push(i,a);for(let C=1,E=_;C<S;C++,E+=T)c.push(s,t),c.push(s+Math.sin(E)*w,t+Math.cos(E)*w);c.push(s,t),c.push(l,u)}else{c.push(i,a),c.push(s,t);for(let C=1,E=_;C<S;C++,E+=T)c.push(s+Math.sin(E)*w,t+Math.cos(E)*w),c.push(s,t);c.push(l,u),c.push(s,t)}return S*2}function fw(s,t,i,a,l,u){const c=$0;if(s.length===0)return;const f=t;let d=f.alignment;if(t.alignment!==.5){let at=hw(s);d=(d-.5)*at+.5}const p=new ge(s[0],s[1]),g=new ge(s[s.length-2],s[s.length-1]),y=a,_=Math.abs(p.x-g.x)<c&&Math.abs(p.y-g.y)<c;if(y){s=s.slice(),_&&(s.pop(),s.pop(),g.set(s[s.length-2],s[s.length-1]));const at=(p.x+g.x)*.5,R=(g.y+p.y)*.5;s.unshift(at,R),s.push(at,R)}const b=l,A=s.length/2;let w=s.length;const S=b.length/2,T=f.width/2,C=T*T,E=f.miterLimit*f.miterLimit;let D=s[0],H=s[1],F=s[2],N=s[3],J=0,j=0,W=-(H-N),K=D-F,ht=0,_t=0,Ht=Math.sqrt(W*W+K*K);W/=Ht,K/=Ht,W*=T,K*=T;const wt=d,O=(1-wt)*2,X=wt*2;y||(f.cap==="round"?w+=Pn(D-W*(O-X)*.5,H-K*(O-X)*.5,D-W*O,H-K*O,D+W*X,H+K*X,b,!0)+2:f.cap==="square"&&(w+=Jg(D,H,W,K,O,X,!0,b))),b.push(D-W*O,H-K*O),b.push(D+W*X,H+K*X);for(let at=1;at<A-1;++at){D=s[(at-1)*2],H=s[(at-1)*2+1],F=s[at*2],N=s[at*2+1],J=s[(at+1)*2],j=s[(at+1)*2+1],W=-(H-N),K=D-F,Ht=Math.sqrt(W*W+K*K),W/=Ht,K/=Ht,W*=T,K*=T,ht=-(N-j),_t=F-J,Ht=Math.sqrt(ht*ht+_t*_t),ht/=Ht,_t/=Ht,ht*=T,_t*=T;const R=F-D,I=H-N,$=F-J,Q=j-N,st=R*$+I*Q,mt=I*$-Q*R,ot=mt<0;if(Math.abs(mt)<.001*Math.abs(st)){b.push(F-W*O,N-K*O),b.push(F+W*X,N+K*X),st>=0&&(f.join==="round"?w+=Pn(F,N,F-W*O,N-K*O,F-ht*O,N-_t*O,b,!1)+4:w+=2,b.push(F-ht*X,N-_t*X),b.push(F+ht*O,N+_t*O));continue}const fe=(-W+D)*(-K+N)-(-W+F)*(-K+H),Dt=(-ht+J)*(-_t+N)-(-ht+F)*(-_t+j),Ce=(R*Dt-$*fe)/mt,qi=(Q*fe-I*Dt)/mt,Ii=(Ce-F)*(Ce-F)+(qi-N)*(qi-N),$e=F+(Ce-F)*O,Je=N+(qi-N)*O,ti=F-(Ce-F)*X,vi=N-(qi-N)*X,mo=Math.min(R*R+I*I,$*$+Q*Q),Me=ot?O:X,go=mo+Me*Me*C;Ii<=go?f.join==="bevel"||Ii/C>E?(ot?(b.push($e,Je),b.push(F+W*X,N+K*X),b.push($e,Je),b.push(F+ht*X,N+_t*X)):(b.push(F-W*O,N-K*O),b.push(ti,vi),b.push(F-ht*O,N-_t*O),b.push(ti,vi)),w+=2):f.join==="round"?ot?(b.push($e,Je),b.push(F+W*X,N+K*X),w+=Pn(F,N,F+W*X,N+K*X,F+ht*X,N+_t*X,b,!0)+4,b.push($e,Je),b.push(F+ht*X,N+_t*X)):(b.push(F-W*O,N-K*O),b.push(ti,vi),w+=Pn(F,N,F-W*O,N-K*O,F-ht*O,N-_t*O,b,!1)+4,b.push(F-ht*O,N-_t*O),b.push(ti,vi)):(b.push($e,Je),b.push(ti,vi)):(b.push(F-W*O,N-K*O),b.push(F+W*X,N+K*X),f.join==="round"?ot?w+=Pn(F,N,F+W*X,N+K*X,F+ht*X,N+_t*X,b,!0)+2:w+=Pn(F,N,F-W*O,N-K*O,F-ht*O,N-_t*O,b,!1)+2:f.join==="miter"&&Ii/C<=E&&(ot?(b.push(ti,vi),b.push(ti,vi)):(b.push($e,Je),b.push($e,Je)),w+=2),b.push(F-ht*O,N-_t*O),b.push(F+ht*X,N+_t*X),w+=2)}D=s[(A-2)*2],H=s[(A-2)*2+1],F=s[(A-1)*2],N=s[(A-1)*2+1],W=-(H-N),K=D-F,Ht=Math.sqrt(W*W+K*K),W/=Ht,K/=Ht,W*=T,K*=T,b.push(F-W*O,N-K*O),b.push(F+W*X,N+K*X),y||(f.cap==="round"?w+=Pn(F-W*(O-X)*.5,N-K*(O-X)*.5,F-W*O,N-K*O,F+W*X,N+K*X,b,!1)+2:f.cap==="square"&&(w+=Jg(F,N,W,K,O,X,!1,b)));const rt=$g*$g;for(let at=S;at<w+S-2;++at)D=b[at*2],H=b[at*2+1],F=b[(at+1)*2],N=b[(at+1)*2+1],J=b[(at+2)*2],j=b[(at+2)*2+1],!(Math.abs(D*(N-j)+F*(j-H)+J*(H-N))<rt)&&u.push(at,at+1,at+2)}function dw(s,t,i,a){const l=$0;if(s.length===0)return;const u=s[0],c=s[1],f=s[s.length-2],d=s[s.length-1],p=t||Math.abs(u-f)<l&&Math.abs(c-d)<l,g=i,y=s.length/2,_=g.length/2;for(let b=0;b<y;b++)g.push(s[b*2]),g.push(s[b*2+1]);for(let b=0;b<y-1;b++)a.push(_+b,_+b+1);p&&a.push(_+y-1,_)}function J0(s,t,i,a,l,u,c){const f=JS(s,t,2);if(!f)return;for(let p=0;p<f.length;p+=3)u[c++]=f[p]+l,u[c++]=f[p+1]+l,u[c++]=f[p+2]+l;let d=l*a;for(let p=0;p<s.length;p+=2)i[d]=s[p],i[d+1]=s[p+1],d+=a}const pw=[],mw={extension:{type:nt.ShapeBuilder,name:"polygon"},build(s,t){for(let i=0;i<s.points.length;i++)t[i]=s.points[i];return!0},triangulate(s,t,i,a,l,u){J0(s,pw,t,i,a,l,u)}},gw={extension:{type:nt.ShapeBuilder,name:"rectangle"},build(s,t){const i=s,a=i.x,l=i.y,u=i.width,c=i.height;return u>0&&c>0?(t[0]=a,t[1]=l,t[2]=a+u,t[3]=l,t[4]=a+u,t[5]=l+c,t[6]=a,t[7]=l+c,!0):!1},triangulate(s,t,i,a,l,u){let c=0;a*=i,t[a+c]=s[0],t[a+c+1]=s[1],c+=i,t[a+c]=s[2],t[a+c+1]=s[3],c+=i,t[a+c]=s[6],t[a+c+1]=s[7],c+=i,t[a+c]=s[4],t[a+c+1]=s[5],c+=i;const f=a/i;l[u++]=f,l[u++]=f+1,l[u++]=f+2,l[u++]=f+1,l[u++]=f+3,l[u++]=f+2}},yw={extension:{type:nt.ShapeBuilder,name:"triangle"},build(s,t){return t[0]=s.x,t[1]=s.y,t[2]=s.x2,t[3]=s.y2,t[4]=s.x3,t[5]=s.y3,!0},triangulate(s,t,i,a,l,u){let c=0;a*=i,t[a+c]=s[0],t[a+c+1]=s[1],c+=i,t[a+c]=s[2],t[a+c+1]=s[3],c+=i,t[a+c]=s[4],t[a+c+1]=s[5];const f=a/i;l[u++]=f,l[u++]=f+1,l[u++]=f+2}},xw=new bt,_w=new Pt;function bw(s,t,i,a){const l=t.matrix?s.copyFrom(t.matrix).invert():s.identity();if(t.textureSpace==="local"){const c=i.getBounds(_w);t.width&&c.pad(t.width);const{x:f,y:d}=c,p=1/c.width,g=1/c.height,y=-f*p,_=-d*g,b=l.a,A=l.b,w=l.c,S=l.d;l.a*=p,l.b*=p,l.c*=g,l.d*=g,l.tx=y*b+_*w+l.tx,l.ty=y*A+_*S+l.ty}else l.translate(t.texture.frame.x,t.texture.frame.y),l.scale(1/t.texture.source.width,1/t.texture.source.height);const u=t.texture.source.style;return!(t.fill instanceof Fi)&&u.addressMode==="clamp-to-edge"&&(u.addressMode="repeat",u.update()),a&&l.append(xw.copyFrom(a).invert()),l}const fo={};he.handleByMap(nt.ShapeBuilder,fo);he.add(gw,mw,yw,mr,uw,cw);const vw=new Pt,Sw=new bt;function Aw(s,t){const{geometryData:i,batches:a}=t;a.length=0,i.indices.length=0,i.vertices.length=0,i.uvs.length=0;for(let l=0;l<s.instructions.length;l++){const u=s.instructions[l];if(u.action==="texture")ww(u.data,a,i);else if(u.action==="fill"||u.action==="stroke"){const c=u.action==="stroke",f=u.data.path.shapePath,d=u.data.style,p=u.data.hole;c&&p&&ty(p.shapePath,d,!0,a,i),p&&(f.shapePrimitives[f.shapePrimitives.length-1].holes=p.shapePath.shapePrimitives),ty(f,d,c,a,i)}}}function ww(s,t,i){const a=[],l=fo.rectangle,u=vw;u.x=s.dx,u.y=s.dy,u.width=s.dw,u.height=s.dh;const c=s.transform;if(!l.build(u,a))return;const{vertices:f,uvs:d,indices:p}=i,g=p.length,y=f.length/2;c&&Q0(a,c),l.triangulate(a,f,2,y,p,g);const _=s.image,b=_.uvs;d.push(b.x0,b.y0,b.x1,b.y1,b.x3,b.y3,b.x2,b.y2);const A=Pi.get(K0);A.indexOffset=g,A.indexSize=p.length-g,A.attributeOffset=y,A.attributeSize=f.length/2-y,A.baseColor=s.style,A.alpha=s.alpha,A.texture=_,A.geometryData=i,t.push(A)}function ty(s,t,i,a,l){const{vertices:u,uvs:c,indices:f}=l;s.shapePrimitives.forEach(({shape:d,transform:p,holes:g})=>{const y=[],_=fo[d.type];if(!_.build(d,y))return;const b=f.length,A=u.length/2;let w="triangle-list";if(p&&Q0(y,p),i){const E=d.closePath??!0,D=t;D.pixelLine?(dw(y,E,u,f),w="line-list"):fw(y,D,!1,E,u,f)}else if(g){const E=[],D=y.slice();Tw(g).forEach(F=>{E.push(D.length/2),D.push(...F)}),J0(D,E,u,2,A,f,b)}else _.triangulate(y,u,2,A,f,b);const S=c.length/2,T=t.texture;if(T!==vt.WHITE){const E=bw(Sw,t,d,p);rw(u,2,A,c,S,2,u.length/2-A,E)}else lw(c,S,2,u.length/2-A);const C=Pi.get(K0);C.indexOffset=b,C.indexSize=f.length-b,C.attributeOffset=A,C.attributeSize=u.length/2-A,C.baseColor=t.color,C.alpha=t.alpha,C.texture=T,C.geometryData=l,C.topology=w,a.push(C)})}function Tw(s){const t=[];for(let i=0;i<s.length;i++){const a=s[i].shape,l=[];fo[a.type].build(a,l)&&t.push(l)}return t}class Cw{constructor(){this.batches=[],this.geometryData={vertices:[],uvs:[],indices:[]}}}class Mw{constructor(){this.instructions=new r0}init(t){this.batcher=new aw({maxTextures:t}),this.instructions.reset()}get geometry(){return xt(w1,"GraphicsContextRenderData#geometry is deprecated, please use batcher.geometry instead."),this.batcher.geometry}}const Qh=class Bh{constructor(t){this._gpuContextHash={},this._graphicsDataContextHash=Object.create(null),this._renderer=t,t.renderableGC.addManagedHash(this,"_gpuContextHash"),t.renderableGC.addManagedHash(this,"_graphicsDataContextHash")}init(t){Bh.defaultOptions.bezierSmoothness=t?.bezierSmoothness??Bh.defaultOptions.bezierSmoothness}getContextRenderData(t){return this._graphicsDataContextHash[t.uid]||this._initContextRenderData(t)}updateGpuContext(t){let i=this._gpuContextHash[t.uid]||this._initContext(t);if(t.dirty){i?this._cleanGraphicsContextData(t):i=this._initContext(t),Aw(t,i);const a=t.batchMode;t.customShader||a==="no-batch"?i.isBatchable=!1:a==="auto"?i.isBatchable=i.geometryData.vertices.length<400:i.isBatchable=!0,t.dirty=!1}return i}getGpuContext(t){return this._gpuContextHash[t.uid]||this._initContext(t)}_initContextRenderData(t){const i=Pi.get(Mw,{maxTextures:this._renderer.limits.maxBatchableTextures}),{batches:a,geometryData:l}=this._gpuContextHash[t.uid],u=l.vertices.length,c=l.indices.length;for(let g=0;g<a.length;g++)a[g].applyTransform=!1;const f=i.batcher;f.ensureAttributeBuffer(u),f.ensureIndexBuffer(c),f.begin();for(let g=0;g<a.length;g++){const y=a[g];f.add(y)}f.finish(i.instructions);const d=f.geometry;d.indexBuffer.setDataWithSize(f.indexBuffer,f.indexSize,!0),d.buffers[0].setDataWithSize(f.attributeBuffer.float32View,f.attributeSize,!0);const p=f.batches;for(let g=0;g<p.length;g++){const y=p[g];y.bindGroup=mA(y.textures.textures,y.textures.count,this._renderer.limits.maxBatchableTextures)}return this._graphicsDataContextHash[t.uid]=i,i}_initContext(t){const i=new Cw;return i.context=t,this._gpuContextHash[t.uid]=i,t.on("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[t.uid]}onGraphicsContextDestroy(t){this._cleanGraphicsContextData(t),t.off("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[t.uid]=null}_cleanGraphicsContextData(t){const i=this._gpuContextHash[t.uid];i.isBatchable||this._graphicsDataContextHash[t.uid]&&(Pi.return(this.getContextRenderData(t)),this._graphicsDataContextHash[t.uid]=null),i.batches&&i.batches.forEach(a=>{Pi.return(a)})}destroy(){for(const t in this._gpuContextHash)this._gpuContextHash[t]&&this.onGraphicsContextDestroy(this._gpuContextHash[t].context)}};Qh.extension={type:[nt.WebGLSystem,nt.WebGPUSystem,nt.CanvasSystem],name:"graphicsContext"};Qh.defaultOptions={bezierSmoothness:.5};let tx=Qh;const Ew=8,Wl=11920929e-14,Rw=1;function ex(s,t,i,a,l,u,c,f,d,p){const y=Math.min(.99,Math.max(0,p??tx.defaultOptions.bezierSmoothness));let _=(Rw-y)/1;return _*=_,Bw(t,i,a,l,u,c,f,d,s,_),s}function Bw(s,t,i,a,l,u,c,f,d,p){zh(s,t,i,a,l,u,c,f,d,p,0),d.push(c,f)}function zh(s,t,i,a,l,u,c,f,d,p,g){if(g>Ew)return;const y=(s+i)/2,_=(t+a)/2,b=(i+l)/2,A=(a+u)/2,w=(l+c)/2,S=(u+f)/2,T=(y+b)/2,C=(_+A)/2,E=(b+w)/2,D=(A+S)/2,H=(T+E)/2,F=(C+D)/2;if(g>0){let N=c-s,J=f-t;const j=Math.abs((i-c)*J-(a-f)*N),W=Math.abs((l-c)*J-(u-f)*N);if(j>Wl&&W>Wl){if((j+W)*(j+W)<=p*(N*N+J*J)){d.push(H,F);return}}else if(j>Wl){if(j*j<=p*(N*N+J*J)){d.push(H,F);return}}else if(W>Wl){if(W*W<=p*(N*N+J*J)){d.push(H,F);return}}else if(N=H-(s+c)/2,J=F-(t+f)/2,N*N+J*J<=p){d.push(H,F);return}}zh(s,t,y,_,T,C,H,F,d,p,g+1),zh(H,F,E,D,w,S,c,f,d,p,g+1)}const zw=8,Ow=11920929e-14,Dw=1;function kw(s,t,i,a,l,u,c,f){const p=Math.min(.99,Math.max(0,f??tx.defaultOptions.bezierSmoothness));let g=(Dw-p)/1;return g*=g,Uw(t,i,a,l,u,c,s,g),s}function Uw(s,t,i,a,l,u,c,f){Oh(c,s,t,i,a,l,u,f,0),c.push(l,u)}function Oh(s,t,i,a,l,u,c,f,d){if(d>zw)return;const p=(t+a)/2,g=(i+l)/2,y=(a+u)/2,_=(l+c)/2,b=(p+y)/2,A=(g+_)/2;let w=u-t,S=c-i;const T=Math.abs((a-u)*S-(l-c)*w);if(T>Ow){if(T*T<=f*(w*w+S*S)){s.push(b,A);return}}else if(w=b-(t+u)/2,S=A-(i+c)/2,w*w+S*S<=f){s.push(b,A);return}Oh(s,t,i,p,g,b,A,f,d+1),Oh(s,b,A,y,_,u,c,f,d+1)}function ix(s,t,i,a,l,u,c,f){let d=Math.abs(l-u);(!c&&l>u||c&&u>l)&&(d=2*Math.PI-d),f||(f=Math.max(6,Math.floor(6*Math.pow(a,1/3)*(d/Math.PI)))),f=Math.max(f,3);let p=d/f,g=l;p*=c?-1:1;for(let y=0;y<f+1;y++){const _=Math.cos(g),b=Math.sin(g),A=t+_*a,w=i+b*a;s.push(A,w),g+=p}}function Gw(s,t,i,a,l,u){const c=s[s.length-2],d=s[s.length-1]-i,p=c-t,g=l-i,y=a-t,_=Math.abs(d*y-p*g);if(_<1e-8||u===0){(s[s.length-2]!==t||s[s.length-1]!==i)&&s.push(t,i);return}const b=d*d+p*p,A=g*g+y*y,w=d*g+p*y,S=u*Math.sqrt(b)/_,T=u*Math.sqrt(A)/_,C=S*w/b,E=T*w/A,D=S*y+T*p,H=S*g+T*d,F=p*(T+C),N=d*(T+C),J=y*(S+E),j=g*(S+E),W=Math.atan2(N-H,F-D),K=Math.atan2(j-H,J-D);ix(s,D+t,H+i,u,W,K,p*g>y*d)}const ur=Math.PI*2,rh={centerX:0,centerY:0,ang1:0,ang2:0},lh=({x:s,y:t},i,a,l,u,c,f,d)=>{s*=i,t*=a;const p=l*s-u*t,g=u*s+l*t;return d.x=p+c,d.y=g+f,d};function Lw(s,t){const i=t===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(t/4),a=t===1.5707963267948966?.551915024494:i,l=Math.cos(s),u=Math.sin(s),c=Math.cos(s+t),f=Math.sin(s+t);return[{x:l-u*a,y:u+l*a},{x:c+f*a,y:f-c*a},{x:c,y:f}]}const ey=(s,t,i,a)=>{const l=s*a-t*i<0?-1:1;let u=s*i+t*a;return u>1&&(u=1),u<-1&&(u=-1),l*Math.acos(u)},Hw=(s,t,i,a,l,u,c,f,d,p,g,y,_)=>{const b=Math.pow(l,2),A=Math.pow(u,2),w=Math.pow(g,2),S=Math.pow(y,2);let T=b*A-b*S-A*w;T<0&&(T=0),T/=b*S+A*w,T=Math.sqrt(T)*(c===f?-1:1);const C=T*l/u*y,E=T*-u/l*g,D=p*C-d*E+(s+i)/2,H=d*C+p*E+(t+a)/2,F=(g-C)/l,N=(y-E)/u,J=(-g-C)/l,j=(-y-E)/u,W=ey(1,0,F,N);let K=ey(F,N,J,j);f===0&&K>0&&(K-=ur),f===1&&K<0&&(K+=ur),_.centerX=D,_.centerY=H,_.ang1=W,_.ang2=K};function Nw(s,t,i,a,l,u,c,f=0,d=0,p=0){if(u===0||c===0)return;const g=Math.sin(f*ur/360),y=Math.cos(f*ur/360),_=y*(t-a)/2+g*(i-l)/2,b=-g*(t-a)/2+y*(i-l)/2;if(_===0&&b===0)return;u=Math.abs(u),c=Math.abs(c);const A=Math.pow(_,2)/Math.pow(u,2)+Math.pow(b,2)/Math.pow(c,2);A>1&&(u*=Math.sqrt(A),c*=Math.sqrt(A)),Hw(t,i,a,l,u,c,d,p,g,y,_,b,rh);let{ang1:w,ang2:S}=rh;const{centerX:T,centerY:C}=rh;let E=Math.abs(S)/(ur/4);Math.abs(1-E)<1e-7&&(E=1);const D=Math.max(Math.ceil(E),1);S/=D;let H=s[s.length-2],F=s[s.length-1];const N={x:0,y:0};for(let J=0;J<D;J++){const j=Lw(w,S),{x:W,y:K}=lh(j[0],u,c,y,g,T,C,N),{x:ht,y:_t}=lh(j[1],u,c,y,g,T,C,N),{x:Ht,y:wt}=lh(j[2],u,c,y,g,T,C,N);ex(s,H,F,W,K,ht,_t,Ht,wt),H=Ht,F=wt,w+=S}}function Pw(s,t,i){const a=(c,f)=>{const d=f.x-c.x,p=f.y-c.y,g=Math.sqrt(d*d+p*p),y=d/g,_=p/g;return{len:g,nx:y,ny:_}},l=(c,f)=>{c===0?s.moveTo(f.x,f.y):s.lineTo(f.x,f.y)};let u=t[t.length-1];for(let c=0;c<t.length;c++){const f=t[c%t.length],d=f.radius??i;if(d<=0){l(c,f),u=f;continue}const p=t[(c+1)%t.length],g=a(f,u),y=a(f,p);if(g.len<1e-4||y.len<1e-4){l(c,f),u=f;continue}let _=Math.asin(g.nx*y.ny-g.ny*y.nx),b=1,A=!1;g.nx*y.nx-g.ny*-y.ny<0?_<0?_=Math.PI+_:(_=Math.PI-_,b=-1,A=!0):_>0&&(b=-1,A=!0);const w=_/2;let S,T=Math.abs(Math.cos(w)*d/Math.sin(w));T>Math.min(g.len/2,y.len/2)?(T=Math.min(g.len/2,y.len/2),S=Math.abs(T*Math.sin(w)/Math.cos(w))):S=d;const C=f.x+y.nx*T+-y.ny*S*b,E=f.y+y.ny*T+y.nx*S*b,D=Math.atan2(g.ny,g.nx)+Math.PI/2*b,H=Math.atan2(y.ny,y.nx)-Math.PI/2*b;c===0&&s.moveTo(C+Math.cos(D)*S,E+Math.sin(D)*S),s.arc(C,E,S,D,H,A),u=f}}function jw(s,t,i,a){const l=(f,d)=>Math.sqrt((f.x-d.x)**2+(f.y-d.y)**2),u=(f,d,p)=>({x:f.x+(d.x-f.x)*p,y:f.y+(d.y-f.y)*p}),c=t.length;for(let f=0;f<c;f++){const d=t[(f+1)%c],p=d.radius??i;if(p<=0){f===0?s.moveTo(d.x,d.y):s.lineTo(d.x,d.y);continue}const g=t[f],y=t[(f+2)%c],_=l(g,d);let b;if(_<1e-4)b=d;else{const S=Math.min(_/2,p);b=u(d,g,S/_)}const A=l(y,d);let w;if(A<1e-4)w=d;else{const S=Math.min(A/2,p);w=u(d,y,S/A)}f===0?s.moveTo(b.x,b.y):s.lineTo(b.x,b.y),s.quadraticCurveTo(d.x,d.y,w.x,w.y,a)}}const Yw=new Pt;class Fw{constructor(t){this.shapePrimitives=[],this._currentPoly=null,this._bounds=new oi,this._graphicsPath2D=t,this.signed=t.checkForHoles}moveTo(t,i){return this.startPoly(t,i),this}lineTo(t,i){this._ensurePoly();const a=this._currentPoly.points,l=a[a.length-2],u=a[a.length-1];return(l!==t||u!==i)&&a.push(t,i),this}arc(t,i,a,l,u,c){this._ensurePoly(!1);const f=this._currentPoly.points;return ix(f,t,i,a,l,u,c),this}arcTo(t,i,a,l,u){this._ensurePoly();const c=this._currentPoly.points;return Gw(c,t,i,a,l,u),this}arcToSvg(t,i,a,l,u,c,f){const d=this._currentPoly.points;return Nw(d,this._currentPoly.lastX,this._currentPoly.lastY,c,f,t,i,a,l,u),this}bezierCurveTo(t,i,a,l,u,c,f){this._ensurePoly();const d=this._currentPoly;return ex(this._currentPoly.points,d.lastX,d.lastY,t,i,a,l,u,c,f),this}quadraticCurveTo(t,i,a,l,u){this._ensurePoly();const c=this._currentPoly;return kw(this._currentPoly.points,c.lastX,c.lastY,t,i,a,l,u),this}closePath(){return this.endPoly(!0),this}addPath(t,i){this.endPoly(),i&&!i.isIdentity()&&(t=t.clone(!0),t.transform(i));const a=this.shapePrimitives,l=a.length;for(let u=0;u<t.instructions.length;u++){const c=t.instructions[u];this[c.action](...c.data)}if(t.checkForHoles&&a.length-l>1){let u=null;for(let c=l;c<a.length;c++){const f=a[c];if(f.shape.type==="polygon"){const d=f.shape,p=u?.shape;p&&p.containsPolygon(d)?(u.holes||(u.holes=[]),u.holes.push(f),a.copyWithin(c,c+1),a.length--,c--):u=f}}}return this}finish(t=!1){this.endPoly(t)}rect(t,i,a,l,u){return this.drawShape(new Pt(t,i,a,l),u),this}circle(t,i,a,l){return this.drawShape(new Ih(t,i,a),l),this}poly(t,i,a){const l=new or(t);return l.closePath=i,this.drawShape(l,a),this}regularPoly(t,i,a,l,u=0,c){l=Math.max(l|0,3);const f=-1*Math.PI/2+u,d=Math.PI*2/l,p=[];for(let g=0;g<l;g++){const y=f-g*d;p.push(t+a*Math.cos(y),i+a*Math.sin(y))}return this.poly(p,!0,c),this}roundPoly(t,i,a,l,u,c=0,f){if(l=Math.max(l|0,3),u<=0)return this.regularPoly(t,i,a,l,c);const d=a*Math.sin(Math.PI/l)-.001;u=Math.min(u,d);const p=-1*Math.PI/2+c,g=Math.PI*2/l,y=(l-2)*Math.PI/l/2;for(let _=0;_<l;_++){const b=_*g+p,A=t+a*Math.cos(b),w=i+a*Math.sin(b),S=b+Math.PI+y,T=b-Math.PI-y,C=A+u*Math.cos(S),E=w+u*Math.sin(S),D=A+u*Math.cos(T),H=w+u*Math.sin(T);_===0?this.moveTo(C,E):this.lineTo(C,E),this.quadraticCurveTo(A,w,D,H,f)}return this.closePath()}roundShape(t,i,a=!1,l){return t.length<3?this:(a?jw(this,t,i,l):Pw(this,t,i),this.closePath())}filletRect(t,i,a,l,u){if(u===0)return this.rect(t,i,a,l);const c=Math.min(a,l)/2,f=Math.min(c,Math.max(-c,u)),d=t+a,p=i+l,g=f<0?-f:0,y=Math.abs(f);return this.moveTo(t,i+y).arcTo(t+g,i+g,t+y,i,y).lineTo(d-y,i).arcTo(d-g,i+g,d,i+y,y).lineTo(d,p-y).arcTo(d-g,p-g,t+a-y,p,y).lineTo(t+y,p).arcTo(t+g,p-g,t,p-y,y).closePath()}chamferRect(t,i,a,l,u,c){if(u<=0)return this.rect(t,i,a,l);const f=Math.min(u,Math.min(a,l)/2),d=t+a,p=i+l,g=[t+f,i,d-f,i,d,i+f,d,p-f,d-f,p,t+f,p,t,p-f,t,i+f];for(let y=g.length-1;y>=2;y-=2)g[y]===g[y-2]&&g[y-1]===g[y-3]&&g.splice(y-1,2);return this.poly(g,!0,c)}ellipse(t,i,a,l,u){return this.drawShape(new Wh(t,i,a,l),u),this}roundRect(t,i,a,l,u,c){return this.drawShape(new Zh(t,i,a,l,u),c),this}drawShape(t,i){return this.endPoly(),this.shapePrimitives.push({shape:t,transform:i}),this}startPoly(t,i){let a=this._currentPoly;return a&&this.endPoly(),a=new or,a.points.push(t,i),this._currentPoly=a,this}endPoly(t=!1){const i=this._currentPoly;return i&&i.points.length>2&&(i.closePath=t,this.shapePrimitives.push({shape:i})),this._currentPoly=null,this}_ensurePoly(t=!0){if(!this._currentPoly&&(this._currentPoly=new or,t)){const i=this.shapePrimitives[this.shapePrimitives.length-1];if(i){let a=i.shape.x,l=i.shape.y;if(i.transform&&!i.transform.isIdentity()){const u=i.transform,c=a;a=u.a*a+u.c*l+u.tx,l=u.b*c+u.d*l+u.ty}this._currentPoly.points.push(a,l)}else this._currentPoly.points.push(0,0)}}buildPath(){const t=this._graphicsPath2D;this.shapePrimitives.length=0,this._currentPoly=null;for(let i=0;i<t.instructions.length;i++){const a=t.instructions[i];this[a.action](...a.data)}this.finish()}get bounds(){const t=this._bounds;t.clear();const i=this.shapePrimitives;for(let a=0;a<i.length;a++){const l=i[a],u=l.shape.getBounds(Yw);l.transform?t.addRect(u,l.transform):t.addRect(u)}return t}}class Vs{constructor(t,i=!1){this.instructions=[],this.uid=Qt("graphicsPath"),this._dirty=!0,this.checkForHoles=i,typeof t=="string"?hA(t,this):this.instructions=t?.slice()??[]}get shapePath(){return this._shapePath||(this._shapePath=new Fw(this)),this._dirty&&(this._dirty=!1,this._shapePath.buildPath()),this._shapePath}addPath(t,i){return t=t.clone(),this.instructions.push({action:"addPath",data:[t,i]}),this._dirty=!0,this}arc(...t){return this.instructions.push({action:"arc",data:t}),this._dirty=!0,this}arcTo(...t){return this.instructions.push({action:"arcTo",data:t}),this._dirty=!0,this}arcToSvg(...t){return this.instructions.push({action:"arcToSvg",data:t}),this._dirty=!0,this}bezierCurveTo(...t){return this.instructions.push({action:"bezierCurveTo",data:t}),this._dirty=!0,this}bezierCurveToShort(t,i,a,l,u){const c=this.instructions[this.instructions.length-1],f=this.getLastPoint(ge.shared);let d=0,p=0;if(!c||c.action!=="bezierCurveTo")d=f.x,p=f.y;else{d=c.data[2],p=c.data[3];const g=f.x,y=f.y;d=g+(g-d),p=y+(y-p)}return this.instructions.push({action:"bezierCurveTo",data:[d,p,t,i,a,l,u]}),this._dirty=!0,this}closePath(){return this.instructions.push({action:"closePath",data:[]}),this._dirty=!0,this}ellipse(...t){return this.instructions.push({action:"ellipse",data:t}),this._dirty=!0,this}lineTo(...t){return this.instructions.push({action:"lineTo",data:t}),this._dirty=!0,this}moveTo(...t){return this.instructions.push({action:"moveTo",data:t}),this}quadraticCurveTo(...t){return this.instructions.push({action:"quadraticCurveTo",data:t}),this._dirty=!0,this}quadraticCurveToShort(t,i,a){const l=this.instructions[this.instructions.length-1],u=this.getLastPoint(ge.shared);let c=0,f=0;if(!l||l.action!=="quadraticCurveTo")c=u.x,f=u.y;else{c=l.data[0],f=l.data[1];const d=u.x,p=u.y;c=d+(d-c),f=p+(p-f)}return this.instructions.push({action:"quadraticCurveTo",data:[c,f,t,i,a]}),this._dirty=!0,this}rect(t,i,a,l,u){return this.instructions.push({action:"rect",data:[t,i,a,l,u]}),this._dirty=!0,this}circle(t,i,a,l){return this.instructions.push({action:"circle",data:[t,i,a,l]}),this._dirty=!0,this}roundRect(...t){return this.instructions.push({action:"roundRect",data:t}),this._dirty=!0,this}poly(...t){return this.instructions.push({action:"poly",data:t}),this._dirty=!0,this}regularPoly(...t){return this.instructions.push({action:"regularPoly",data:t}),this._dirty=!0,this}roundPoly(...t){return this.instructions.push({action:"roundPoly",data:t}),this._dirty=!0,this}roundShape(...t){return this.instructions.push({action:"roundShape",data:t}),this._dirty=!0,this}filletRect(...t){return this.instructions.push({action:"filletRect",data:t}),this._dirty=!0,this}chamferRect(...t){return this.instructions.push({action:"chamferRect",data:t}),this._dirty=!0,this}star(t,i,a,l,u,c,f){u||(u=l/2);const d=-1*Math.PI/2+c,p=a*2,g=Math.PI*2/p,y=[];for(let _=0;_<p;_++){const b=_%2?u:l,A=_*g+d;y.push(t+b*Math.cos(A),i+b*Math.sin(A))}return this.poly(y,!0,f),this}clone(t=!1){const i=new Vs;if(i.checkForHoles=this.checkForHoles,!t)i.instructions=this.instructions.slice();else for(let a=0;a<this.instructions.length;a++){const l=this.instructions[a];i.instructions.push({action:l.action,data:l.data.slice()})}return i}clear(){return this.instructions.length=0,this._dirty=!0,this}transform(t){if(t.isIdentity())return this;const i=t.a,a=t.b,l=t.c,u=t.d,c=t.tx,f=t.ty;let d=0,p=0,g=0,y=0,_=0,b=0,A=0,w=0;for(let S=0;S<this.instructions.length;S++){const T=this.instructions[S],C=T.data;switch(T.action){case"moveTo":case"lineTo":d=C[0],p=C[1],C[0]=i*d+l*p+c,C[1]=a*d+u*p+f;break;case"bezierCurveTo":g=C[0],y=C[1],_=C[2],b=C[3],d=C[4],p=C[5],C[0]=i*g+l*y+c,C[1]=a*g+u*y+f,C[2]=i*_+l*b+c,C[3]=a*_+u*b+f,C[4]=i*d+l*p+c,C[5]=a*d+u*p+f;break;case"quadraticCurveTo":g=C[0],y=C[1],d=C[2],p=C[3],C[0]=i*g+l*y+c,C[1]=a*g+u*y+f,C[2]=i*d+l*p+c,C[3]=a*d+u*p+f;break;case"arcToSvg":d=C[5],p=C[6],A=C[0],w=C[1],C[0]=i*A+l*w,C[1]=a*A+u*w,C[5]=i*d+l*p+c,C[6]=a*d+u*p+f;break;case"circle":C[4]=Ja(C[3],t);break;case"rect":C[4]=Ja(C[4],t);break;case"ellipse":C[8]=Ja(C[8],t);break;case"roundRect":C[5]=Ja(C[5],t);break;case"addPath":C[0].transform(t);break;case"poly":C[2]=Ja(C[2],t);break;default:Gt("unknown transform action",T.action);break}}return this._dirty=!0,this}get bounds(){return this.shapePath.bounds}getLastPoint(t){let i=this.instructions.length-1,a=this.instructions[i];if(!a)return t.x=0,t.y=0,t;for(;a.action==="closePath";){if(i--,i<0)return t.x=0,t.y=0,t;a=this.instructions[i]}switch(a.action){case"moveTo":case"lineTo":t.x=a.data[0],t.y=a.data[1];break;case"quadraticCurveTo":t.x=a.data[2],t.y=a.data[3];break;case"bezierCurveTo":t.x=a.data[4],t.y=a.data[5];break;case"arc":case"arcToSvg":t.x=a.data[5],t.y=a.data[6];break;case"addPath":a.data[0].getLastPoint(t);break}return t}}function Ja(s,t){return s?s.prepend(t):t.clone()}function It(s,t,i){const a=s.getAttribute(t);return a?Number(a):i}function Vw(s,t){const i=s.querySelectorAll("defs");for(let a=0;a<i.length;a++){const l=i[a];for(let u=0;u<l.children.length;u++){const c=l.children[u];switch(c.nodeName.toLowerCase()){case"lineargradient":t.defs[c.id]=Xw(c);break;case"radialgradient":t.defs[c.id]=qw();break}}}}function Xw(s){const t=It(s,"x1",0),i=It(s,"y1",0),a=It(s,"x2",1),l=It(s,"y2",0),u=s.getAttribute("gradientUnits")||"objectBoundingBox",c=new Fi(t,i,a,l,u==="objectBoundingBox"?"local":"global");for(let f=0;f<s.children.length;f++){const d=s.children[f],p=It(d,"offset",0),g=Kt.shared.setValue(d.getAttribute("stop-color")).toNumber();c.addColorStop(p,g)}return c}function qw(s){return Gt("[SVG Parser] Radial gradients are not yet supported"),new Fi(0,0,1,0)}function iy(s){const t=s.match(/url\s*\(\s*['"]?\s*#([^'"\s)]+)\s*['"]?\s*\)/i);return t?t[1]:""}const ny={fill:{type:"paint",default:0},"fill-opacity":{type:"number",default:1},stroke:{type:"paint",default:0},"stroke-width":{type:"number",default:1},"stroke-opacity":{type:"number",default:1},"stroke-linecap":{type:"string",default:"butt"},"stroke-linejoin":{type:"string",default:"miter"},"stroke-miterlimit":{type:"number",default:10},"stroke-dasharray":{type:"string",default:"none"},"stroke-dashoffset":{type:"number",default:0},opacity:{type:"number",default:1}};function nx(s,t){const i=s.getAttribute("style"),a={},l={},u={strokeStyle:a,fillStyle:l,useFill:!1,useStroke:!1};for(const c in ny){const f=s.getAttribute(c);f&&sy(t,u,c,f.trim())}if(i){const c=i.split(";");for(let f=0;f<c.length;f++){const d=c[f].trim(),[p,g]=d.split(":");ny[p]&&sy(t,u,p,g.trim())}}return{strokeStyle:u.useStroke?a:null,fillStyle:u.useFill?l:null,useFill:u.useFill,useStroke:u.useStroke}}function sy(s,t,i,a){switch(i){case"stroke":if(a!=="none"){if(a.startsWith("url(")){const l=iy(a);t.strokeStyle.fill=s.defs[l]}else t.strokeStyle.color=Kt.shared.setValue(a).toNumber();t.useStroke=!0}break;case"stroke-width":t.strokeStyle.width=Number(a);break;case"fill":if(a!=="none"){if(a.startsWith("url(")){const l=iy(a);t.fillStyle.fill=s.defs[l]}else t.fillStyle.color=Kt.shared.setValue(a).toNumber();t.useFill=!0}break;case"fill-opacity":t.fillStyle.alpha=Number(a);break;case"stroke-opacity":t.strokeStyle.alpha=Number(a);break;case"opacity":t.fillStyle.alpha=Number(a),t.strokeStyle.alpha=Number(a);break}}function Iw(s,t){if(typeof s=="string"){const c=document.createElement("div");c.innerHTML=s.trim(),s=c.querySelector("svg")}const i={context:t,defs:{},path:new Vs};Vw(s,i);const a=s.children,{fillStyle:l,strokeStyle:u}=nx(s,i);for(let c=0;c<a.length;c++){const f=a[c];f.nodeName.toLowerCase()!=="defs"&&sx(f,i,l,u)}return t}function sx(s,t,i,a){const l=s.children,{fillStyle:u,strokeStyle:c}=nx(s,t);u&&i?i={...i,...u}:u&&(i=u),c&&a?a={...a,...c}:c&&(a=c);const f=!i&&!a;f&&(i={color:0});let d,p,g,y,_,b,A,w,S,T,C,E,D,H,F,N,J;switch(s.nodeName.toLowerCase()){case"path":H=s.getAttribute("d"),s.getAttribute("fill-rule")==="evenodd"&&Gt("SVG Evenodd fill rule not supported, your svg may render incorrectly"),F=new Vs(H,!0),t.context.path(F),i&&t.context.fill(i),a&&t.context.stroke(a);break;case"circle":A=It(s,"cx",0),w=It(s,"cy",0),S=It(s,"r",0),t.context.ellipse(A,w,S,S),i&&t.context.fill(i),a&&t.context.stroke(a);break;case"rect":d=It(s,"x",0),p=It(s,"y",0),N=It(s,"width",0),J=It(s,"height",0),T=It(s,"rx",0),C=It(s,"ry",0),T||C?t.context.roundRect(d,p,N,J,T||C):t.context.rect(d,p,N,J),i&&t.context.fill(i),a&&t.context.stroke(a);break;case"ellipse":A=It(s,"cx",0),w=It(s,"cy",0),T=It(s,"rx",0),C=It(s,"ry",0),t.context.beginPath(),t.context.ellipse(A,w,T,C),i&&t.context.fill(i),a&&t.context.stroke(a);break;case"line":g=It(s,"x1",0),y=It(s,"y1",0),_=It(s,"x2",0),b=It(s,"y2",0),t.context.beginPath(),t.context.moveTo(g,y),t.context.lineTo(_,b),a&&t.context.stroke(a);break;case"polygon":D=s.getAttribute("points"),E=D.match(/\d+/g).map(j=>parseInt(j,10)),t.context.poly(E,!0),i&&t.context.fill(i),a&&t.context.stroke(a);break;case"polyline":D=s.getAttribute("points"),E=D.match(/\d+/g).map(j=>parseInt(j,10)),t.context.poly(E,!1),a&&t.context.stroke(a);break;case"g":case"svg":break;default:{Gt(`[SVG parser] <${s.nodeName}> elements unsupported`);break}}f&&(i=null);for(let j=0;j<l.length;j++)sx(l[j],t,i,a)}function Ww(s){return Kt.isColorLike(s)}function ay(s){return s instanceof ho}function ry(s){return s instanceof Fi}function Zw(s){return s instanceof vt}function Qw(s,t,i){const a=Kt.shared.setValue(t??0);return s.color=a.toNumber(),s.alpha=a.alpha===1?i.alpha:a.alpha,s.texture=vt.WHITE,{...i,...s}}function Kw(s,t,i){return s.texture=t,{...i,...s}}function ly(s,t,i){return s.fill=t,s.color=16777215,s.texture=t.texture,s.matrix=t.transform,{...i,...s}}function oy(s,t,i){return t.buildGradient(),s.fill=t,s.color=16777215,s.texture=t.texture,s.matrix=t.transform,s.textureSpace=t.textureSpace,{...i,...s}}function $w(s,t){const i={...t,...s},a=Kt.shared.setValue(i.color);return i.alpha*=a.alpha,i.color=a.toNumber(),i}function qn(s,t){if(s==null)return null;const i={},a=s;return Ww(s)?Qw(i,s,t):Zw(s)?Kw(i,s,t):ay(s)?ly(i,s,t):ry(s)?oy(i,s,t):a.fill&&ay(a.fill)?ly(a,a.fill,t):a.fill&&ry(a.fill)?oy(a,a.fill,t):$w(a,t)}function so(s,t){const{width:i,alignment:a,miterLimit:l,cap:u,join:c,pixelLine:f,...d}=t,p=qn(s,d);return p?{width:i,alignment:a,miterLimit:l,cap:u,join:c,pixelLine:f,...p}:null}const Jw=new ge,uy=new bt,Kh=class yi extends ui{constructor(){super(...arguments),this.uid=Qt("graphicsContext"),this.dirty=!0,this.batchMode="auto",this.instructions=[],this._activePath=new Vs,this._transform=new bt,this._fillStyle={...yi.defaultFillStyle},this._strokeStyle={...yi.defaultStrokeStyle},this._stateStack=[],this._tick=0,this._bounds=new oi,this._boundsDirty=!0}clone(){const t=new yi;return t.batchMode=this.batchMode,t.instructions=this.instructions.slice(),t._activePath=this._activePath.clone(),t._transform=this._transform.clone(),t._fillStyle={...this._fillStyle},t._strokeStyle={...this._strokeStyle},t._stateStack=this._stateStack.slice(),t._bounds=this._bounds.clone(),t._boundsDirty=!0,t}get fillStyle(){return this._fillStyle}set fillStyle(t){this._fillStyle=qn(t,yi.defaultFillStyle)}get strokeStyle(){return this._strokeStyle}set strokeStyle(t){this._strokeStyle=so(t,yi.defaultStrokeStyle)}setFillStyle(t){return this._fillStyle=qn(t,yi.defaultFillStyle),this}setStrokeStyle(t){return this._strokeStyle=qn(t,yi.defaultStrokeStyle),this}texture(t,i,a,l,u,c){return this.instructions.push({action:"texture",data:{image:t,dx:a||0,dy:l||0,dw:u||t.frame.width,dh:c||t.frame.height,transform:this._transform.clone(),alpha:this._fillStyle.alpha,style:i?Kt.shared.setValue(i).toNumber():16777215}}),this.onUpdate(),this}beginPath(){return this._activePath=new Vs,this}fill(t,i){let a;const l=this.instructions[this.instructions.length-1];return this._tick===0&&l&&l.action==="stroke"?a=l.data.path:a=this._activePath.clone(),a?(t!=null&&(i!==void 0&&typeof t=="number"&&(xt(Et,"GraphicsContext.fill(color, alpha) is deprecated, use GraphicsContext.fill({ color, alpha }) instead"),t={color:t,alpha:i}),this._fillStyle=qn(t,yi.defaultFillStyle)),this.instructions.push({action:"fill",data:{style:this.fillStyle,path:a}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}_initNextPathLocation(){const{x:t,y:i}=this._activePath.getLastPoint(ge.shared);this._activePath.clear(),this._activePath.moveTo(t,i)}stroke(t){let i;const a=this.instructions[this.instructions.length-1];return this._tick===0&&a&&a.action==="fill"?i=a.data.path:i=this._activePath.clone(),i?(t!=null&&(this._strokeStyle=so(t,yi.defaultStrokeStyle)),this.instructions.push({action:"stroke",data:{style:this.strokeStyle,path:i}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}cut(){for(let t=0;t<2;t++){const i=this.instructions[this.instructions.length-1-t],a=this._activePath.clone();if(i&&(i.action==="stroke"||i.action==="fill"))if(i.data.hole)i.data.hole.addPath(a);else{i.data.hole=a;break}}return this._initNextPathLocation(),this}arc(t,i,a,l,u,c){this._tick++;const f=this._transform;return this._activePath.arc(f.a*t+f.c*i+f.tx,f.b*t+f.d*i+f.ty,a,l,u,c),this}arcTo(t,i,a,l,u){this._tick++;const c=this._transform;return this._activePath.arcTo(c.a*t+c.c*i+c.tx,c.b*t+c.d*i+c.ty,c.a*a+c.c*l+c.tx,c.b*a+c.d*l+c.ty,u),this}arcToSvg(t,i,a,l,u,c,f){this._tick++;const d=this._transform;return this._activePath.arcToSvg(t,i,a,l,u,d.a*c+d.c*f+d.tx,d.b*c+d.d*f+d.ty),this}bezierCurveTo(t,i,a,l,u,c,f){this._tick++;const d=this._transform;return this._activePath.bezierCurveTo(d.a*t+d.c*i+d.tx,d.b*t+d.d*i+d.ty,d.a*a+d.c*l+d.tx,d.b*a+d.d*l+d.ty,d.a*u+d.c*c+d.tx,d.b*u+d.d*c+d.ty,f),this}closePath(){return this._tick++,this._activePath?.closePath(),this}ellipse(t,i,a,l){return this._tick++,this._activePath.ellipse(t,i,a,l,this._transform.clone()),this}circle(t,i,a){return this._tick++,this._activePath.circle(t,i,a,this._transform.clone()),this}path(t){return this._tick++,this._activePath.addPath(t,this._transform.clone()),this}lineTo(t,i){this._tick++;const a=this._transform;return this._activePath.lineTo(a.a*t+a.c*i+a.tx,a.b*t+a.d*i+a.ty),this}moveTo(t,i){this._tick++;const a=this._transform,l=this._activePath.instructions,u=a.a*t+a.c*i+a.tx,c=a.b*t+a.d*i+a.ty;return l.length===1&&l[0].action==="moveTo"?(l[0].data[0]=u,l[0].data[1]=c,this):(this._activePath.moveTo(u,c),this)}quadraticCurveTo(t,i,a,l,u){this._tick++;const c=this._transform;return this._activePath.quadraticCurveTo(c.a*t+c.c*i+c.tx,c.b*t+c.d*i+c.ty,c.a*a+c.c*l+c.tx,c.b*a+c.d*l+c.ty,u),this}rect(t,i,a,l){return this._tick++,this._activePath.rect(t,i,a,l,this._transform.clone()),this}roundRect(t,i,a,l,u){return this._tick++,this._activePath.roundRect(t,i,a,l,u,this._transform.clone()),this}poly(t,i){return this._tick++,this._activePath.poly(t,i,this._transform.clone()),this}regularPoly(t,i,a,l,u=0,c){return this._tick++,this._activePath.regularPoly(t,i,a,l,u,c),this}roundPoly(t,i,a,l,u,c){return this._tick++,this._activePath.roundPoly(t,i,a,l,u,c),this}roundShape(t,i,a,l){return this._tick++,this._activePath.roundShape(t,i,a,l),this}filletRect(t,i,a,l,u){return this._tick++,this._activePath.filletRect(t,i,a,l,u),this}chamferRect(t,i,a,l,u,c){return this._tick++,this._activePath.chamferRect(t,i,a,l,u,c),this}star(t,i,a,l,u=0,c=0){return this._tick++,this._activePath.star(t,i,a,l,u,c,this._transform.clone()),this}svg(t){return this._tick++,Iw(t,this),this}restore(){const t=this._stateStack.pop();return t&&(this._transform=t.transform,this._fillStyle=t.fillStyle,this._strokeStyle=t.strokeStyle),this}save(){return this._stateStack.push({transform:this._transform.clone(),fillStyle:{...this._fillStyle},strokeStyle:{...this._strokeStyle}}),this}getTransform(){return this._transform}resetTransform(){return this._transform.identity(),this}rotate(t){return this._transform.rotate(t),this}scale(t,i=t){return this._transform.scale(t,i),this}setTransform(t,i,a,l,u,c){return t instanceof bt?(this._transform.set(t.a,t.b,t.c,t.d,t.tx,t.ty),this):(this._transform.set(t,i,a,l,u,c),this)}transform(t,i,a,l,u,c){return t instanceof bt?(this._transform.append(t),this):(uy.set(t,i,a,l,u,c),this._transform.append(uy),this)}translate(t,i=t){return this._transform.translate(t,i),this}clear(){return this._activePath.clear(),this.instructions.length=0,this.resetTransform(),this.onUpdate(),this}onUpdate(){this.dirty||(this.emit("update",this,16),this.dirty=!0,this._boundsDirty=!0)}get bounds(){if(!this._boundsDirty)return this._bounds;const t=this._bounds;t.clear();for(let i=0;i<this.instructions.length;i++){const a=this.instructions[i],l=a.action;if(l==="fill"){const u=a.data;t.addBounds(u.path.bounds)}else if(l==="texture"){const u=a.data;t.addFrame(u.dx,u.dy,u.dx+u.dw,u.dy+u.dh,u.transform)}if(l==="stroke"){const u=a.data,c=u.style.alignment,f=u.style.width*(1-c),d=u.path.bounds;t.addFrame(d.minX-f,d.minY-f,d.maxX+f,d.maxY+f)}}return t}containsPoint(t){if(!this.bounds.containsPoint(t.x,t.y))return!1;const i=this.instructions;let a=!1;for(let l=0;l<i.length;l++){const u=i[l],c=u.data,f=c.path;if(!u.action||!f)continue;const d=c.style,p=f.shapePath.shapePrimitives;for(let g=0;g<p.length;g++){const y=p[g].shape;if(!d||!y)continue;const _=p[g].transform,b=_?_.applyInverse(t,Jw):t;if(u.action==="fill")a=y.contains(b.x,b.y);else{const w=d;a=y.strokeContains(b.x,b.y,w.width,w.alignment)}const A=c.hole;if(A){const w=A.shapePath?.shapePrimitives;if(w)for(let S=0;S<w.length;S++)w[S].shape.contains(b.x,b.y)&&(a=!1)}if(a)return!0}}return a}destroy(t=!1){if(this._stateStack.length=0,this._transform=null,this.emit("destroy",this),this.removeAllListeners(),typeof t=="boolean"?t:t?.texture){const a=typeof t=="boolean"?t:t?.textureSource;this._fillStyle.texture&&(this._fillStyle.fill&&"uid"in this._fillStyle.fill?this._fillStyle.fill.destroy():this._fillStyle.texture.destroy(a)),this._strokeStyle.texture&&(this._strokeStyle.fill&&"uid"in this._strokeStyle.fill?this._strokeStyle.fill.destroy():this._strokeStyle.texture.destroy(a))}this._fillStyle=null,this._strokeStyle=null,this.instructions=null,this._activePath=null,this._bounds=null,this._stateStack=null,this.customShader=null,this._transform=null}};Kh.defaultFillStyle={color:16777215,alpha:1,texture:vt.WHITE,matrix:null,fill:null,textureSpace:"local"};Kh.defaultStrokeStyle={width:1,color:16777215,alpha:1,alignment:.5,miterLimit:10,cap:"butt",join:"miter",texture:vt.WHITE,matrix:null,fill:null,textureSpace:"local",pixelLine:!1};let We=Kh;const cy=["align","breakWords","cssOverrides","fontVariant","fontWeight","leading","letterSpacing","lineHeight","padding","textBaseline","trim","whiteSpace","wordWrap","wordWrapWidth","fontFamily","fontStyle","fontSize"];function t2(s){const t=[];let i=0;for(let a=0;a<cy.length;a++){const l=`_${cy[a]}`;t[i++]=s[l]}return i=ax(s._fill,t,i),i=i2(s._stroke,t,i),i=n2(s.dropShadow,t,i),i=e2(s.filters,t,i),t.join("-")}function e2(s,t,i){if(!s)return i;for(const a of s)t[i++]=a.uid;return i}function ax(s,t,i){return s&&(t[i++]=s.color,t[i++]=s.alpha,t[i++]=s.fill?.styleKey),i}function i2(s,t,i){return s&&(i=ax(s,t,i),t[i++]=s.width,t[i++]=s.alignment,t[i++]=s.cap,t[i++]=s.join,t[i++]=s.miterLimit),i}function n2(s,t,i){return s&&(t[i++]=s.alpha,t[i++]=s.angle,t[i++]=s.blur,t[i++]=s.distance,t[i++]=Kt.shared.setValue(s.color).toNumber()),i}const $h=class Ls extends ui{constructor(t={}){super(),s2(t);const i={...Ls.defaultTextStyle,...t};for(const a in i){const l=a;this[l]=i[a]}this.update()}get align(){return this._align}set align(t){this._align=t,this.update()}get breakWords(){return this._breakWords}set breakWords(t){this._breakWords=t,this.update()}get dropShadow(){return this._dropShadow}set dropShadow(t){t!==null&&typeof t=="object"?this._dropShadow=this._createProxy({...Ls.defaultDropShadow,...t}):this._dropShadow=t?this._createProxy({...Ls.defaultDropShadow}):null,this.update()}get fontFamily(){return this._fontFamily}set fontFamily(t){this._fontFamily=t,this.update()}get fontSize(){return this._fontSize}set fontSize(t){typeof t=="string"?this._fontSize=parseInt(t,10):this._fontSize=t,this.update()}get fontStyle(){return this._fontStyle}set fontStyle(t){this._fontStyle=t.toLowerCase(),this.update()}get fontVariant(){return this._fontVariant}set fontVariant(t){this._fontVariant=t,this.update()}get fontWeight(){return this._fontWeight}set fontWeight(t){this._fontWeight=t,this.update()}get leading(){return this._leading}set leading(t){this._leading=t,this.update()}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing=t,this.update()}get lineHeight(){return this._lineHeight}set lineHeight(t){this._lineHeight=t,this.update()}get padding(){return this._padding}set padding(t){this._padding=t,this.update()}get filters(){return this._filters}set filters(t){this._filters=t,this.update()}get trim(){return this._trim}set trim(t){this._trim=t,this.update()}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline=t,this.update()}get whiteSpace(){return this._whiteSpace}set whiteSpace(t){this._whiteSpace=t,this.update()}get wordWrap(){return this._wordWrap}set wordWrap(t){this._wordWrap=t,this.update()}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(t){this._wordWrapWidth=t,this.update()}get fill(){return this._originalFill}set fill(t){t!==this._originalFill&&(this._originalFill=t,this._isFillStyle(t)&&(this._originalFill=this._createProxy({...We.defaultFillStyle,...t},()=>{this._fill=qn({...this._originalFill},We.defaultFillStyle)})),this._fill=qn(t===0?"black":t,We.defaultFillStyle),this.update())}get stroke(){return this._originalStroke}set stroke(t){t!==this._originalStroke&&(this._originalStroke=t,this._isFillStyle(t)&&(this._originalStroke=this._createProxy({...We.defaultStrokeStyle,...t},()=>{this._stroke=so({...this._originalStroke},We.defaultStrokeStyle)})),this._stroke=so(t,We.defaultStrokeStyle),this.update())}_generateKey(){return this._styleKey=t2(this),this._styleKey}update(){this._styleKey=null,this.emit("update",this)}reset(){const t=Ls.defaultTextStyle;for(const i in t)this[i]=t[i]}get styleKey(){return this._styleKey||this._generateKey()}clone(){return new Ls({align:this.align,breakWords:this.breakWords,dropShadow:this._dropShadow?{...this._dropShadow}:null,fill:this._fill,fontFamily:this.fontFamily,fontSize:this.fontSize,fontStyle:this.fontStyle,fontVariant:this.fontVariant,fontWeight:this.fontWeight,leading:this.leading,letterSpacing:this.letterSpacing,lineHeight:this.lineHeight,padding:this.padding,stroke:this._stroke,textBaseline:this.textBaseline,whiteSpace:this.whiteSpace,wordWrap:this.wordWrap,wordWrapWidth:this.wordWrapWidth,filters:this._filters?[...this._filters]:void 0})}_getFinalPadding(){let t=0;if(this._filters)for(let i=0;i<this._filters.length;i++)t+=this._filters[i].padding;return Math.max(this._padding,t)}destroy(t=!1){if(this.removeAllListeners(),typeof t=="boolean"?t:t?.texture){const a=typeof t=="boolean"?t:t?.textureSource;this._fill?.texture&&this._fill.texture.destroy(a),this._originalFill?.texture&&this._originalFill.texture.destroy(a),this._stroke?.texture&&this._stroke.texture.destroy(a),this._originalStroke?.texture&&this._originalStroke.texture.destroy(a)}this._fill=null,this._stroke=null,this.dropShadow=null,this._originalStroke=null,this._originalFill=null}_createProxy(t,i){return new Proxy(t,{set:(a,l,u)=>(a[l]=u,i?.(l,u),this.update(),!0)})}_isFillStyle(t){return(t??null)!==null&&!(Kt.isColorLike(t)||t instanceof Fi||t instanceof ho)}};$h.defaultDropShadow={alpha:1,angle:Math.PI/6,blur:0,color:"black",distance:5};$h.defaultTextStyle={align:"left",breakWords:!1,dropShadow:null,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,padding:0,stroke:null,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let Xs=$h;function s2(s){const t=s;if(typeof t.dropShadow=="boolean"&&t.dropShadow){const i=Xs.defaultDropShadow;s.dropShadow={alpha:t.dropShadowAlpha??i.alpha,angle:t.dropShadowAngle??i.angle,blur:t.dropShadowBlur??i.blur,color:t.dropShadowColor??i.color,distance:t.dropShadowDistance??i.distance}}if(t.strokeThickness!==void 0){xt(Et,"strokeThickness is now a part of stroke");const i=t.stroke;let a={};if(Kt.isColorLike(i))a.color=i;else if(i instanceof Fi||i instanceof ho)a.fill=i;else if(Object.hasOwnProperty.call(i,"color")||Object.hasOwnProperty.call(i,"fill"))a=i;else throw new Error("Invalid stroke value.");s.stroke={...a,width:t.strokeThickness}}if(Array.isArray(t.fillGradientStops)){if(xt(Et,"gradient fill is now a fill pattern: `new FillGradient(...)`"),!Array.isArray(t.fill)||t.fill.length===0)throw new Error("Invalid fill value. Expected an array of colors for gradient fill.");t.fill.length!==t.fillGradientStops.length&&Gt("The number of fill colors must match the number of fill gradient stops.");const i=new Fi({start:{x:0,y:0},end:{x:0,y:1},textureSpace:"local"}),a=t.fillGradientStops.slice(),l=t.fill.map(u=>Kt.shared.setValue(u).toNumber());a.forEach((u,c)=>{i.addColorStop(u,l[c])}),s.fill={fill:i}}}class a2{constructor(t){this._canvasPool=Object.create(null),this.canvasOptions=t||{},this.enableFullScreen=!1}_createCanvasAndContext(t,i){const a=Lt.get().createCanvas();a.width=t,a.height=i;const l=a.getContext("2d");return{canvas:a,context:l}}getOptimalCanvasAndContext(t,i,a=1){t=Math.ceil(t*a-1e-6),i=Math.ceil(i*a-1e-6),t=Ps(t),i=Ps(i);const l=(t<<17)+(i<<1);this._canvasPool[l]||(this._canvasPool[l]=[]);let u=this._canvasPool[l].pop();return u||(u=this._createCanvasAndContext(t,i)),u}returnCanvasAndContext(t){const i=t.canvas,{width:a,height:l}=i,u=(a<<17)+(l<<1);t.context.resetTransform(),t.context.clearRect(0,0,a,l),this._canvasPool[u].push(t)}clear(){this._canvasPool={}}}const ao=new a2,hy=1e5;function ro(s,t,i,a=0){if(s.texture===vt.WHITE&&!s.fill)return Kt.shared.setValue(s.color).setAlpha(s.alpha??1).toHexa();if(s.fill){if(s.fill instanceof ho){const l=s.fill,u=t.createPattern(l.texture.source.resource,"repeat"),c=l.transform.copyTo(bt.shared);return c.scale(l.texture.frame.width,l.texture.frame.height),u.setTransform(c),u}else if(s.fill instanceof Fi){const l=s.fill,u=l.type==="linear",c=l.textureSpace==="local";let f=1,d=1;c&&i&&(f=i.width+a,d=i.height+a);let p,g=!1;if(u){const{start:y,end:_}=l;p=t.createLinearGradient(y.x*f,y.y*d,_.x*f,_.y*d),g=Math.abs(_.x-y.x)<Math.abs((_.y-y.y)*.1)}else{const{center:y,innerRadius:_,outerCenter:b,outerRadius:A}=l;p=t.createRadialGradient(y.x*f,y.y*d,_*f,b.x*f,b.y*d,A*f)}if(g&&c&&i){const y=i.lineHeight/d;for(let _=0;_<i.lines.length;_++){const b=(_*i.lineHeight+a/2)/d;l.colorStops.forEach(A=>{const w=b+A.offset*y;p.addColorStop(Math.floor(w*hy)/hy,Kt.shared.setValue(A.color).toHex())})}}else l.colorStops.forEach(y=>{p.addColorStop(y.offset,Kt.shared.setValue(y.color).toHex())});return p}}else{const l=t.createPattern(s.texture.source.resource,"repeat"),u=s.matrix.copyTo(bt.shared);return u.scale(s.texture.frame.width,s.texture.frame.height),l.setTransform(u),l}return Gt("FillStyle not recognised",s),"red"}const rx=class lx extends P0{constructor(t){super(),this.resolution=1,this.pages=[],this._padding=0,this._measureCache=Object.create(null),this._currentChars=[],this._currentX=0,this._currentY=0,this._currentMaxCharHeight=0,this._currentPageIndex=-1,this._skipKerning=!1;const i={...lx.defaultOptions,...t};this._textureSize=i.textureSize,this._mipmap=i.mipmap;const a=i.style.clone();i.overrideFill&&(a._fill.color=16777215,a._fill.alpha=1,a._fill.texture=vt.WHITE,a._fill.fill=null),this.applyFillAsTint=i.overrideFill;const l=a.fontSize;a.fontSize=this.baseMeasurementFontSize;const u=no(a);i.overrideSize?a._stroke&&(a._stroke.width*=this.baseRenderedFontSize/l):a.fontSize=this.baseRenderedFontSize=l,this._style=a,this._skipKerning=i.skipKerning??!1,this.resolution=i.resolution??1,this._padding=i.padding??4,i.textureStyle&&(this._textureStyle=i.textureStyle instanceof js?i.textureStyle:new js(i.textureStyle)),this.fontMetrics=xi.measureFont(u),this.lineHeight=a.lineHeight||this.fontMetrics.fontSize||a.fontSize}ensureCharacters(t){const i=xi.graphemeSegmenter(t).filter(S=>!this._currentChars.includes(S)).filter((S,T,C)=>C.indexOf(S)===T);if(!i.length)return;this._currentChars=[...this._currentChars,...i];let a;this._currentPageIndex===-1?a=this._nextPage():a=this.pages[this._currentPageIndex];let{canvas:l,context:u}=a.canvasAndContext,c=a.texture.source;const f=this._style;let d=this._currentX,p=this._currentY,g=this._currentMaxCharHeight;const y=this.baseRenderedFontSize/this.baseMeasurementFontSize,_=this._padding*y;let b=!1;const A=l.width/this.resolution,w=l.height/this.resolution;for(let S=0;S<i.length;S++){const T=i[S],C=xi.measureText(T,f,l,!1);C.lineHeight=C.height;const E=C.width*y,D=Math.ceil((f.fontStyle==="italic"?2:1)*E),H=C.height*y,F=D+_*2,N=H+_*2;if(b=!1,T!==`
`&&T!=="\r"&&T!=="	"&&T!==" "&&(b=!0,g=Math.ceil(Math.max(N,g))),d+F>A&&(p+=g,g=N,d=0,p+g>w)){c.update();const j=this._nextPage();l=j.canvasAndContext.canvas,u=j.canvasAndContext.context,c=j.texture.source,d=0,p=0,g=0}const J=E/y-(f.dropShadow?.distance??0)-(f._stroke?.width??0);if(this.chars[T]={id:T.codePointAt(0),xOffset:-this._padding,yOffset:-this._padding,xAdvance:J,kerning:{}},b){this._drawGlyph(u,C,d+_,p+_,y,f);const j=c.width*y,W=c.height*y,K=new Pt(d/j*c.width,p/W*c.height,F/j*c.width,N/W*c.height);this.chars[T].texture=new vt({source:c,frame:K}),d+=Math.ceil(F)}}c.update(),this._currentX=d,this._currentY=p,this._currentMaxCharHeight=g,this._skipKerning&&this._applyKerning(i,u)}get pageTextures(){return xt(Et,"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}_applyKerning(t,i){const a=this._measureCache;for(let l=0;l<t.length;l++){const u=t[l];for(let c=0;c<this._currentChars.length;c++){const f=this._currentChars[c];let d=a[u];d||(d=a[u]=i.measureText(u).width);let p=a[f];p||(p=a[f]=i.measureText(f).width);let g=i.measureText(u+f).width,y=g-(d+p);y&&(this.chars[u].kerning[f]=y),g=i.measureText(u+f).width,y=g-(d+p),y&&(this.chars[f].kerning[u]=y)}}}_nextPage(){this._currentPageIndex++;const t=this.resolution,i=ao.getOptimalCanvasAndContext(this._textureSize,this._textureSize,t);this._setupContext(i.context,this._style,t);const a=t*(this.baseRenderedFontSize/this.baseMeasurementFontSize),l=new vt({source:new In({resource:i.canvas,resolution:a,alphaMode:"premultiply-alpha-on-upload",autoGenerateMipmaps:this._mipmap})});this._textureStyle&&(l.source.style=this._textureStyle);const u={canvasAndContext:i,texture:l};return this.pages[this._currentPageIndex]=u,u}_setupContext(t,i,a){i.fontSize=this.baseRenderedFontSize,t.scale(a,a),t.font=no(i),i.fontSize=this.baseMeasurementFontSize,t.textBaseline=i.textBaseline;const l=i._stroke,u=l?.width??0;if(l&&(t.lineWidth=u,t.lineJoin=l.join,t.miterLimit=l.miterLimit,t.strokeStyle=ro(l,t)),i._fill&&(t.fillStyle=ro(i._fill,t)),i.dropShadow){const c=i.dropShadow,f=Kt.shared.setValue(c.color).toArray(),d=c.blur*a,p=c.distance*a;t.shadowColor=`rgba(${f[0]*255},${f[1]*255},${f[2]*255},${c.alpha})`,t.shadowBlur=d,t.shadowOffsetX=Math.cos(c.angle)*p,t.shadowOffsetY=Math.sin(c.angle)*p}else t.shadowColor="black",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0}_drawGlyph(t,i,a,l,u,c){const f=i.text,d=i.fontProperties,g=(c._stroke?.width??0)*u,y=a+g/2,_=l-g/2,b=d.descent*u,A=i.lineHeight*u;let w=!1;c.stroke&&g&&(w=!0,t.strokeText(f,y,_+A-b));const{shadowBlur:S,shadowOffsetX:T,shadowOffsetY:C}=t;c._fill&&(w&&(t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0),t.fillText(f,y,_+A-b)),w&&(t.shadowBlur=S,t.shadowOffsetX=T,t.shadowOffsetY=C)}destroy(){super.destroy();for(let t=0;t<this.pages.length;t++){const{canvasAndContext:i,texture:a}=this.pages[t];ao.returnCanvasAndContext(i),a.destroy(!0)}this.pages=null}};rx.defaultOptions={textureSize:512,style:new Xs,mipmap:!0};let fy=rx;function r2(s,t,i,a){const l={width:0,height:0,offsetY:0,scale:t.fontSize/i.baseMeasurementFontSize,lines:[{width:0,charPositions:[],spaceWidth:0,spacesIndex:[],chars:[]}]};l.offsetY=i.baseLineOffset;let u=l.lines[0],c=null,f=!0;const d={width:0,start:0,index:0,positions:[],chars:[]},p=i.baseMeasurementFontSize/t.fontSize,g=t.letterSpacing*p,y=t.wordWrapWidth*p,_=t.lineHeight?t.lineHeight*p:i.lineHeight,b=t.wordWrap&&t.breakWords,A=T=>{const C=u.width;for(let E=0;E<d.index;E++){const D=T.positions[E];u.chars.push(T.chars[E]),u.charPositions.push(D+C)}u.width+=T.width,f=!1,d.width=0,d.index=0,d.chars.length=0},w=()=>{let T=u.chars.length-1;if(a){let C=u.chars[T];for(;C===" ";)u.width-=i.chars[C].xAdvance,C=u.chars[--T]}l.width=Math.max(l.width,u.width),u={width:0,charPositions:[],chars:[],spaceWidth:0,spacesIndex:[]},f=!0,l.lines.push(u),l.height+=_},S=T=>T-g>y;for(let T=0;T<s.length+1;T++){let C;const E=T===s.length;E||(C=s[T]);const D=i.chars[C]||i.chars[" "];if(/(?:\s)/.test(C)||C==="\r"||C===`
`||E){if(!f&&t.wordWrap&&S(u.width+d.width)?(w(),A(d),E||u.charPositions.push(0)):(d.start=u.width,A(d),E||u.charPositions.push(0)),C==="\r"||C===`
`)u.width!==0&&w();else if(!E){const J=D.xAdvance+(D.kerning[c]||0)+g;u.width+=J,u.spaceWidth=J,u.spacesIndex.push(u.charPositions.length),u.chars.push(C)}}else{const N=D.kerning[c]||0,J=D.xAdvance+N+g;b&&S(u.width+d.width+J)&&(A(d),w()),d.positions[d.index++]=d.width+N,d.chars.push(C),d.width+=J}c=C}return w(),t.align==="center"?l2(l):t.align==="right"?o2(l):t.align==="justify"&&u2(l),l}function l2(s){for(let t=0;t<s.lines.length;t++){const i=s.lines[t],a=s.width/2-i.width/2;for(let l=0;l<i.charPositions.length;l++)i.charPositions[l]+=a}}function o2(s){for(let t=0;t<s.lines.length;t++){const i=s.lines[t],a=s.width-i.width;for(let l=0;l<i.charPositions.length;l++)i.charPositions[l]+=a}}function u2(s){const t=s.width;for(let i=0;i<s.lines.length;i++){const a=s.lines[i];let l=0,u=a.spacesIndex[l++],c=0;const f=a.spacesIndex.length,p=(t-a.width)/f;for(let g=0;g<a.charPositions.length;g++)g===u&&(u=a.spacesIndex[l++],c+=p),a.charPositions[g]+=c}}function c2(s){if(s==="")return[];typeof s=="string"&&(s=[s]);const t=[];for(let i=0,a=s.length;i<a;i++){const l=s[i];if(Array.isArray(l)){if(l.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${l.length}.`);if(l[0].length===0||l[1].length===0)throw new Error("[BitmapFont]: Invalid character delimiter.");const u=l[0].charCodeAt(0),c=l[1].charCodeAt(0);if(c<u)throw new Error("[BitmapFont]: Invalid character range.");for(let f=u,d=c;f<=d;f++)t.push(String.fromCharCode(f))}else t.push(...Array.from(l))}if(t.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return t}let Zl=0;class h2{constructor(){this.ALPHA=[["a","z"],["A","Z"]," "],this.NUMERIC=[["0","9"]],this.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],this.ASCII=[[" ","~"]],this.defaultOptions={chars:this.ALPHANUMERIC,resolution:1,padding:4,skipKerning:!1,textureStyle:null}}getFont(t,i){let a=`${i.fontFamily}-bitmap`,l=!0;if(i._fill.fill&&!i._stroke)a+=i._fill.fill.styleKey,l=!1;else if(i._stroke||i.dropShadow){let c=i.styleKey;c=c.substring(0,c.lastIndexOf("-")),a=`${c}-bitmap`,l=!1}if(!Nt.has(a)){const c=Object.create(i);c.lineHeight=0;const f=new fy({style:c,overrideFill:l,overrideSize:!0,...this.defaultOptions});Zl++,Zl>50&&Gt("BitmapText",`You have dynamically created ${Zl} bitmap fonts, this can be inefficient. Try pre installing your font styles using \`BitmapFont.install({name:"style1", style})\``),f.once("destroy",()=>{Zl--,Nt.remove(a)}),Nt.set(a,f)}const u=Nt.get(a);return u.ensureCharacters?.(t),u}getLayout(t,i,a=!0){const l=this.getFont(t,i),u=xi.graphemeSegmenter(t);return r2(u,i,l,a)}measureText(t,i,a=!0){return this.getLayout(t,i,a)}install(...t){let i=t[0];typeof i=="string"&&(i={name:i,style:t[1],chars:t[2]?.chars,resolution:t[2]?.resolution,padding:t[2]?.padding,skipKerning:t[2]?.skipKerning},xt(Et,"BitmapFontManager.install(name, style, options) is deprecated, use BitmapFontManager.install({name, style, ...options})"));const a=i?.name;if(!a)throw new Error("[BitmapFontManager] Property `name` is required.");i={...this.defaultOptions,...i};const l=i.style,u=l instanceof Xs?l:new Xs(l),c=i.dynamicFill??this._canUseTintForStyle(u),f=new fy({style:u,overrideFill:c,skipKerning:i.skipKerning,padding:i.padding,resolution:i.resolution,overrideSize:!1,textureStyle:i.textureStyle}),d=c2(i.chars);return f.ensureCharacters(d.join("")),Nt.set(`${a}-bitmap`,f),f.once("destroy",()=>Nt.remove(`${a}-bitmap`)),f}uninstall(t){const i=`${t}-bitmap`,a=Nt.get(i);a&&a.destroy()}_canUseTintForStyle(t){return!t._stroke&&(!t.dropShadow||t.dropShadow.color===0)&&!t._fill.fill&&t._fill.color===16777215}}const dy=new h2;class ox extends P0{constructor(t,i){super();const{textures:a,data:l}=t;Object.keys(l.pages).forEach(u=>{const c=l.pages[parseInt(u,10)],f=a[c.id];this.pages.push({texture:f})}),Object.keys(l.chars).forEach(u=>{const c=l.chars[u],{frame:f,source:d,rotate:p}=a[c.page],g=Ot.transformRectCoords(c,f,p,new Pt),y=new vt({frame:g,orig:new Pt(0,0,c.width,c.height),source:d,rotate:p});this.chars[u]={id:u.codePointAt(0),xOffset:c.xOffset,yOffset:c.yOffset,xAdvance:c.xAdvance,kerning:c.kerning??{},texture:y}}),this.baseRenderedFontSize=l.fontSize,this.baseMeasurementFontSize=l.fontSize,this.fontMetrics={ascent:0,descent:0,fontSize:l.fontSize},this.baseLineOffset=l.baseLineOffset,this.lineHeight=l.lineHeight,this.fontFamily=l.fontFamily,this.distanceField=l.distanceField??{type:"none",range:0},this.url=i}destroy(){super.destroy();for(let t=0;t<this.pages.length;t++){const{texture:i}=this.pages[t];i.destroy(!0)}this.pages=null}static install(t){dy.install(t)}static uninstall(t){dy.uninstall(t)}}const oh={test(s){return typeof s=="string"&&s.startsWith("info face=")},parse(s){const t=s.match(/^[a-z]+\s+.+$/gm),i={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const y in t){const _=t[y].match(/^[a-z]+/gm)[0],b=t[y].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),A={};for(const w in b){const S=b[w].split("="),T=S[0],C=S[1].replace(/"/gm,""),E=parseFloat(C),D=isNaN(E)?C:E;A[T]=D}i[_].push(A)}const a={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},[l]=i.info,[u]=i.common,[c]=i.distanceField??[];c&&(a.distanceField={range:parseInt(c.distanceRange,10),type:c.fieldType}),a.fontSize=parseInt(l.size,10),a.fontFamily=l.face,a.lineHeight=parseInt(u.lineHeight,10);const f=i.page;for(let y=0;y<f.length;y++)a.pages.push({id:parseInt(f[y].id,10)||0,file:f[y].file});const d={};a.baseLineOffset=a.lineHeight-parseInt(u.base,10);const p=i.char;for(let y=0;y<p.length;y++){const _=p[y],b=parseInt(_.id,10);let A=_.letter??_.char??String.fromCharCode(b);A==="space"&&(A=" "),d[b]=A,a.chars[A]={id:b,page:parseInt(_.page,10)||0,x:parseInt(_.x,10),y:parseInt(_.y,10),width:parseInt(_.width,10),height:parseInt(_.height,10),xOffset:parseInt(_.xoffset,10),yOffset:parseInt(_.yoffset,10),xAdvance:parseInt(_.xadvance,10),kerning:{}}}const g=i.kerning||[];for(let y=0;y<g.length;y++){const _=parseInt(g[y].first,10),b=parseInt(g[y].second,10),A=parseInt(g[y].amount,10);a.chars[d[b]].kerning[d[_]]=A}return a}},py={test(s){const t=s;return typeof t!="string"&&"getElementsByTagName"in t&&t.getElementsByTagName("page").length&&t.getElementsByTagName("info")[0].getAttribute("face")!==null},parse(s){const t={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},i=s.getElementsByTagName("info")[0],a=s.getElementsByTagName("common")[0],l=s.getElementsByTagName("distanceField")[0];l&&(t.distanceField={type:l.getAttribute("fieldType"),range:parseInt(l.getAttribute("distanceRange"),10)});const u=s.getElementsByTagName("page"),c=s.getElementsByTagName("char"),f=s.getElementsByTagName("kerning");t.fontSize=parseInt(i.getAttribute("size"),10),t.fontFamily=i.getAttribute("face"),t.lineHeight=parseInt(a.getAttribute("lineHeight"),10);for(let p=0;p<u.length;p++)t.pages.push({id:parseInt(u[p].getAttribute("id"),10)||0,file:u[p].getAttribute("file")});const d={};t.baseLineOffset=t.lineHeight-parseInt(a.getAttribute("base"),10);for(let p=0;p<c.length;p++){const g=c[p],y=parseInt(g.getAttribute("id"),10);let _=g.getAttribute("letter")??g.getAttribute("char")??String.fromCharCode(y);_==="space"&&(_=" "),d[y]=_,t.chars[_]={id:y,page:parseInt(g.getAttribute("page"),10)||0,x:parseInt(g.getAttribute("x"),10),y:parseInt(g.getAttribute("y"),10),width:parseInt(g.getAttribute("width"),10),height:parseInt(g.getAttribute("height"),10),xOffset:parseInt(g.getAttribute("xoffset"),10),yOffset:parseInt(g.getAttribute("yoffset"),10),xAdvance:parseInt(g.getAttribute("xadvance"),10),kerning:{}}}for(let p=0;p<f.length;p++){const g=parseInt(f[p].getAttribute("first"),10),y=parseInt(f[p].getAttribute("second"),10),_=parseInt(f[p].getAttribute("amount"),10);t.chars[d[y]].kerning[d[g]]=_}return t}},my={test(s){return typeof s=="string"&&s.includes("<font>")?py.test(Lt.get().parseXML(s)):!1},parse(s){return py.parse(Lt.get().parseXML(s))}},f2=[".xml",".fnt"],d2={extension:{type:nt.CacheParser,name:"cacheBitmapFont"},test:s=>s instanceof ox,getCacheableAssets(s,t){const i={};return s.forEach(a=>{i[a]=t,i[`${a}-bitmap`]=t}),i[`${t.fontFamily}-bitmap`]=t,i}},p2={extension:{type:nt.LoadParser,priority:vn.Normal},name:"loadBitmapFont",id:"bitmap-font",test(s){return f2.includes(He.extname(s).toLowerCase())},async testParse(s){return oh.test(s)||my.test(s)},async parse(s,t,i){const a=oh.test(s)?oh.parse(s):my.parse(s),{src:l}=t,{pages:u}=a,c=[],f=a.distanceField?{scaleMode:"linear",alphaMode:"premultiply-alpha-on-upload",autoGenerateMipmaps:!1,resolution:1}:{};for(let y=0;y<u.length;++y){const _=u[y].file;let b=He.join(He.dirname(l),_);b=vh(b,l),c.push({src:b,data:f})}const d=await i.load(c),p=c.map(y=>d[y.src]);return new ox({data:a,textures:p},l)},async load(s,t){return await(await Lt.get().fetch(s)).text()},async unload(s,t,i){await Promise.all(s.pages.map(a=>i.unload(a.texture.source._sourceOrigin))),s.destroy()}};class m2{constructor(t,i=!1){this._loader=t,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=i}add(t){t.forEach(i=>{this._assetList.push(i)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const t=[],i=Math.min(this._assetList.length,this._maxConcurrent);for(let a=0;a<i;a++)t.push(this._assetList.pop());await this._loader.load(t),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(t){this._isActive!==t&&(this._isActive=t,t&&!this._isLoading&&this._next())}}const g2={extension:{type:nt.CacheParser,name:"cacheTextureArray"},test:s=>Array.isArray(s)&&s.every(t=>t instanceof vt),getCacheableAssets:(s,t)=>{const i={};return s.forEach(a=>{t.forEach((l,u)=>{i[a+(u===0?"":u+1)]=l})}),i}};async function ux(s){if("Image"in globalThis)return new Promise(t=>{const i=new Image;i.onload=()=>{t(!0)},i.onerror=()=>{t(!1)},i.src=s});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const t=await(await fetch(s)).blob();await createImageBitmap(t)}catch{return!1}return!0}return!1}const y2={extension:{type:nt.DetectionParser,priority:1},test:async()=>ux("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async s=>[...s,"avif"],remove:async s=>s.filter(t=>t!=="avif")},gy=["png","jpg","jpeg"],x2={extension:{type:nt.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async s=>[...s,...gy],remove:async s=>s.filter(t=>!gy.includes(t))},_2="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function po(s){return _2?!1:document.createElement("video").canPlayType(s)!==""}const b2={extension:{type:nt.DetectionParser,priority:0},test:async()=>po("video/mp4"),add:async s=>[...s,"mp4","m4v"],remove:async s=>s.filter(t=>t!=="mp4"&&t!=="m4v")},v2={extension:{type:nt.DetectionParser,priority:0},test:async()=>po("video/ogg"),add:async s=>[...s,"ogv"],remove:async s=>s.filter(t=>t!=="ogv")},S2={extension:{type:nt.DetectionParser,priority:0},test:async()=>po("video/webm"),add:async s=>[...s,"webm"],remove:async s=>s.filter(t=>t!=="webm")},A2={extension:{type:nt.DetectionParser,priority:0},test:async()=>ux("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async s=>[...s,"webp"],remove:async s=>s.filter(t=>t!=="webp")};class w2{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(t,i,a)=>(this._parsersValidated=!1,t[i]=a,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(t,i){const a={promise:null,parser:null};return a.promise=(async()=>{let l=null,u=null;if((i.parser||i.loadParser)&&(u=this._parserHash[i.parser||i.loadParser],i.loadParser&&Gt(`[Assets] "loadParser" is deprecated, use "parser" instead for ${t}`),u||Gt(`[Assets] specified load parser "${i.parser||i.loadParser}" not found while loading ${t}`)),!u){for(let c=0;c<this.parsers.length;c++){const f=this.parsers[c];if(f.load&&f.test?.(t,i,this)){u=f;break}}if(!u)return Gt(`[Assets] ${t} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}l=await u.load(t,i,this),a.parser=u;for(let c=0;c<this.parsers.length;c++){const f=this.parsers[c];f.parse&&f.parse&&await f.testParse?.(l,i,this)&&(l=await f.parse(l,i,this)||l,a.parser=f)}return l})(),a}async load(t,i){this._parsersValidated||this._validateParsers();let a=0;const l={},u=io(t),c=ai(t,p=>({alias:[p],src:p,data:{}})),f=c.length,d=c.map(async p=>{const g=He.toAbsolute(p.src);if(!l[p.src])try{this.promiseCache[g]||(this.promiseCache[g]=this._getLoadPromiseAndParser(g,p)),l[p.src]=await this.promiseCache[g].promise,i&&i(++a/f)}catch(y){throw delete this.promiseCache[g],delete l[p.src],new Error(`[Loader.load] Failed to load ${g}.
${y}`)}});return await Promise.all(d),u?l[c[0].src]:l}async unload(t){const a=ai(t,l=>({alias:[l],src:l})).map(async l=>{const u=He.toAbsolute(l.src),c=this.promiseCache[u];if(c){const f=await c.promise;delete this.promiseCache[u],await c.parser?.unload?.(f,l,this)}});await Promise.all(a)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(t=>t.name||t.id).reduce((t,i)=>(!i.name&&!i.id?Gt("[Assets] parser should have an id"):(t[i.name]||t[i.id])&&Gt(`[Assets] parser id conflict "${i.id}"`),t[i.name]=i,i.id&&(t[i.id]=i),t),{})}}function Ws(s,t){if(Array.isArray(t)){for(const i of t)if(s.startsWith(`data:${i}`))return!0;return!1}return s.startsWith(`data:${t}`)}function Zs(s,t){const i=s.split("?")[0],a=He.extname(i).toLowerCase();return Array.isArray(t)?t.includes(a):a===t}const T2=".json",C2="application/json",M2={extension:{type:nt.LoadParser,priority:vn.Low},name:"loadJson",id:"json",test(s){return Ws(s,C2)||Zs(s,T2)},async load(s){return await(await Lt.get().fetch(s)).json()}},E2=".txt",R2="text/plain",B2={name:"loadTxt",id:"text",extension:{type:nt.LoadParser,priority:vn.Low,name:"loadTxt"},test(s){return Ws(s,R2)||Zs(s,E2)},async load(s){return await(await Lt.get().fetch(s)).text()}},z2=["normal","bold","100","200","300","400","500","600","700","800","900"],O2=[".ttf",".otf",".woff",".woff2"],D2=["font/ttf","font/otf","font/woff","font/woff2"],k2=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function U2(s){const t=He.extname(s),l=He.basename(s,t).replace(/(-|_)/g," ").toLowerCase().split(" ").map(f=>f.charAt(0).toUpperCase()+f.slice(1));let u=l.length>0;for(const f of l)if(!f.match(k2)){u=!1;break}let c=l.join(" ");return u||(c=`"${c.replace(/[\\"]/g,"\\$&")}"`),c}const G2=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function L2(s){return G2.test(s)?s:encodeURI(s)}const H2={extension:{type:nt.LoadParser,priority:vn.Low},name:"loadWebFont",id:"web-font",test(s){return Ws(s,D2)||Zs(s,O2)},async load(s,t){const i=Lt.get().getFontFaceSet();if(i){const a=[],l=t.data?.family??U2(s),u=t.data?.weights?.filter(f=>z2.includes(f))??["normal"],c=t.data??{};for(let f=0;f<u.length;f++){const d=u[f],p=new FontFace(l,`url(${L2(s)})`,{...c,weight:d});await p.load(),i.add(p),a.push(p)}return Nt.has(`${l}-and-url`)?Nt.get(`${l}-and-url`).entries.push({url:s,faces:a}):Nt.set(`${l}-and-url`,{entries:[{url:s,faces:a}]}),a.length===1?a[0]:a}return Gt("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(s){const t=Array.isArray(s)?s:[s],i=t[0].family,a=Nt.get(`${i}-and-url`),l=a.entries.find(u=>u.faces.some(c=>t.indexOf(c)!==-1));l.faces=l.faces.filter(u=>t.indexOf(u)===-1),l.faces.length===0&&(a.entries=a.entries.filter(u=>u!==l)),t.forEach(u=>{Lt.get().getFontFaceSet().delete(u)}),a.entries.length===0&&Nt.remove(`${i}-and-url`)}};function Jh(s,t=1){const i=Is.RETINA_PREFIX?.exec(s);return i?parseFloat(i[1]):t}function tf(s,t,i){s.label=i,s._sourceOrigin=i;const a=new vt({source:s,label:i}),l=()=>{delete t.promiseCache[i],Nt.has(i)&&Nt.remove(i)};return a.source.once("destroy",()=>{t.promiseCache[i]&&(Gt("[Assets] A TextureSource managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the TextureSource."),l())}),a.once("destroy",()=>{s.destroyed||(Gt("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),l())}),a}const N2=".svg",P2="image/svg+xml",j2={extension:{type:nt.LoadParser,priority:vn.Low,name:"loadSVG"},name:"loadSVG",id:"svg",config:{crossOrigin:"anonymous",parseAsGraphicsContext:!1},test(s){return Ws(s,P2)||Zs(s,N2)},async load(s,t,i){return t.data?.parseAsGraphicsContext??this.config.parseAsGraphicsContext?F2(s):Y2(s,t,i,this.config.crossOrigin)},unload(s){s.destroy(!0)}};async function Y2(s,t,i,a){const u=await(await Lt.get().fetch(s)).blob(),c=URL.createObjectURL(u),f=Lt.get().createImage();f.src=c,f.crossOrigin=a,await f.decode(),URL.revokeObjectURL(c);const d=t.data?.width??f.width,p=t.data?.height??f.height,g=t.data?.resolution||Jh(s),y=Lt.get().createCanvas(d*g,p*g);y.getContext("2d").drawImage(f,0,0,d*g,p*g);const{parseAsGraphicsContext:b,...A}=t.data??{},w=new In({resource:y,alphaMode:"premultiply-alpha-on-upload",resolution:g,...A});return tf(w,i,s)}async function F2(s){const i=await(await Lt.get().fetch(s)).text(),a=new We;return a.svg(i),a}const V2=`(function () {
    'use strict';

    const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
    async function checkImageBitmap() {
      try {
        if (typeof createImageBitmap !== "function")
          return false;
        const response = await fetch(WHITE_PNG);
        const imageBlob = await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);
        return imageBitmap.width === 1 && imageBitmap.height === 1;
      } catch (_e) {
        return false;
      }
    }
    void checkImageBitmap().then((result) => {
      self.postMessage(result);
    });

})();
`;let Hs=null,Dh=class{constructor(){Hs||(Hs=URL.createObjectURL(new Blob([V2],{type:"application/javascript"}))),this.worker=new Worker(Hs)}};Dh.revokeObjectURL=function(){Hs&&(URL.revokeObjectURL(Hs),Hs=null)};const X2=`(function () {
    'use strict';

    async function loadImageBitmap(url, alphaMode) {
      const response = await fetch(url);
      if (!response.ok) {
        throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
      }
      const imageBlob = await response.blob();
      return alphaMode === "premultiplied-alpha" ? createImageBitmap(imageBlob, { premultiplyAlpha: "none" }) : createImageBitmap(imageBlob);
    }
    self.onmessage = async (event) => {
      try {
        const imageBitmap = await loadImageBitmap(event.data.data[0], event.data.data[1]);
        self.postMessage({
          data: imageBitmap,
          uuid: event.data.uuid,
          id: event.data.id
        }, [imageBitmap]);
      } catch (e) {
        self.postMessage({
          error: e,
          uuid: event.data.uuid,
          id: event.data.id
        });
      }
    };

})();
`;let Ns=null;class cx{constructor(){Ns||(Ns=URL.createObjectURL(new Blob([X2],{type:"application/javascript"}))),this.worker=new Worker(Ns)}}cx.revokeObjectURL=function(){Ns&&(URL.revokeObjectURL(Ns),Ns=null)};let yy=0,uh;class q2{constructor(){this._initialized=!1,this._createdWorkers=0,this._workerPool=[],this._queue=[],this._resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(t=>{const{worker:i}=new Dh;i.addEventListener("message",a=>{i.terminate(),Dh.revokeObjectURL(),t(a.data)})}),this._isImageBitmapSupported)}loadImageBitmap(t,i){return this._run("loadImageBitmap",[t,i?.data?.alphaMode])}async _initWorkers(){this._initialized||(this._initialized=!0)}_getWorker(){uh===void 0&&(uh=navigator.hardwareConcurrency||4);let t=this._workerPool.pop();return!t&&this._createdWorkers<uh&&(this._createdWorkers++,t=new cx().worker,t.addEventListener("message",i=>{this._complete(i.data),this._returnWorker(i.target),this._next()})),t}_returnWorker(t){this._workerPool.push(t)}_complete(t){t.error!==void 0?this._resolveHash[t.uuid].reject(t.error):this._resolveHash[t.uuid].resolve(t.data),this._resolveHash[t.uuid]=null}async _run(t,i){await this._initWorkers();const a=new Promise((l,u)=>{this._queue.push({id:t,arguments:i,resolve:l,reject:u})});return this._next(),a}_next(){if(!this._queue.length)return;const t=this._getWorker();if(!t)return;const i=this._queue.pop(),a=i.id;this._resolveHash[yy]={resolve:i.resolve,reject:i.reject},t.postMessage({data:i.arguments,uuid:yy++,id:a})}reset(){this._workerPool.forEach(t=>t.terminate()),this._workerPool.length=0,Object.values(this._resolveHash).forEach(({reject:t})=>{t?.(new Error("WorkerManager destroyed"))}),this._resolveHash={},this._queue.length=0,this._initialized=!1,this._createdWorkers=0}}const xy=new q2,I2=[".jpeg",".jpg",".png",".webp",".avif"],W2=["image/jpeg","image/png","image/webp","image/avif"];async function Z2(s,t){const i=await Lt.get().fetch(s);if(!i.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${s}: ${i.status} ${i.statusText}`);const a=await i.blob();return t?.data?.alphaMode==="premultiplied-alpha"?createImageBitmap(a,{premultiplyAlpha:"none"}):createImageBitmap(a)}const hx={name:"loadTextures",id:"texture",extension:{type:nt.LoadParser,priority:vn.High,name:"loadTextures"},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(s){return Ws(s,W2)||Zs(s,I2)},async load(s,t,i){let a=null;globalThis.createImageBitmap&&this.config.preferCreateImageBitmap?this.config.preferWorkers&&await xy.isImageBitmapSupported()?a=await xy.loadImageBitmap(s,t):a=await Z2(s,t):a=await new Promise((u,c)=>{a=Lt.get().createImage(),a.crossOrigin=this.config.crossOrigin,a.src=s,a.complete?u(a):(a.onload=()=>{u(a)},a.onerror=c)});const l=new In({resource:a,alphaMode:"premultiply-alpha-on-upload",resolution:t.data?.resolution||Jh(s),...t.data});return tf(l,i,s)},unload(s){s.destroy(!0)}},Q2=[".mp4",".m4v",".webm",".ogg",".ogv",".h264",".avi",".mov"];let ch,hh;function K2(s,t,i){i===void 0&&!t.startsWith("data:")?s.crossOrigin=J2(t):i!==!1&&(s.crossOrigin=typeof i=="string"?i:"anonymous")}function $2(s){return new Promise((t,i)=>{s.addEventListener("canplaythrough",a),s.addEventListener("error",l),s.load();function a(){u(),t()}function l(c){u(),i(c)}function u(){s.removeEventListener("canplaythrough",a),s.removeEventListener("error",l)}})}function J2(s,t=globalThis.location){if(s.startsWith("data:"))return"";t||(t=globalThis.location);const i=new URL(s,document.baseURI);return i.hostname!==t.hostname||i.port!==t.port||i.protocol!==t.protocol?"anonymous":""}function tT(){const s=[],t=[];for(const i of Q2){const a=lr.MIME_TYPES[i.substring(1)]||`video/${i.substring(1)}`;po(a)&&(s.push(i),t.includes(a)||t.push(a))}return{validVideoExtensions:s,validVideoMime:t}}const eT={name:"loadVideo",id:"video",extension:{type:nt.LoadParser,name:"loadVideo"},test(s){if(!ch||!hh){const{validVideoExtensions:a,validVideoMime:l}=tT();ch=a,hh=l}const t=Ws(s,hh),i=Zs(s,ch);return t||i},async load(s,t,i){const a={...lr.defaultOptions,resolution:t.data?.resolution||Jh(s),alphaMode:t.data?.alphaMode||await m0(),...t.data},l=document.createElement("video"),u={preload:a.autoLoad!==!1?"auto":void 0,"webkit-playsinline":a.playsinline!==!1?"":void 0,playsinline:a.playsinline!==!1?"":void 0,muted:a.muted===!0?"":void 0,loop:a.loop===!0?"":void 0,autoplay:a.autoPlay!==!1?"":void 0};Object.keys(u).forEach(d=>{const p=u[d];p!==void 0&&l.setAttribute(d,p)}),a.muted===!0&&(l.muted=!0),K2(l,s,a.crossorigin);const c=document.createElement("source");let f;if(a.mime)f=a.mime;else if(s.startsWith("data:"))f=s.slice(5,s.indexOf(";"));else if(!s.startsWith("blob:")){const d=s.split("?")[0].slice(s.lastIndexOf(".")+1).toLowerCase();f=lr.MIME_TYPES[d]||`video/${d}`}return c.src=s,f&&(c.type=f),new Promise(d=>{const p=async()=>{const g=new lr({...a,resource:l});l.removeEventListener("canplay",p),t.data.preload&&await $2(l),d(tf(g,i,s))};a.preload&&!a.autoPlay&&l.load(),l.addEventListener("canplay",p),l.appendChild(c)})},unload(s){s.destroy(!0)}},fx={extension:{type:nt.ResolveParser,name:"resolveTexture"},test:hx.test,parse:s=>({resolution:parseFloat(Is.RETINA_PREFIX.exec(s)?.[1]??"1"),format:s.split(".").pop(),src:s})},iT={extension:{type:nt.ResolveParser,priority:-2,name:"resolveJson"},test:s=>Is.RETINA_PREFIX.test(s)&&s.endsWith(".json"),parse:fx.parse};class nT{constructor(){this._detections=[],this._initialized=!1,this.resolver=new Is,this.loader=new w2,this.cache=Nt,this._backgroundLoader=new m2(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(t={}){if(this._initialized){Gt("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,t.defaultSearchParams&&this.resolver.setDefaultSearchParams(t.defaultSearchParams),t.basePath&&(this.resolver.basePath=t.basePath),t.bundleIdentifier&&this.resolver.setBundleIdentifier(t.bundleIdentifier),t.manifest){let u=t.manifest;typeof u=="string"&&(u=await this.load(u)),this.resolver.addManifest(u)}const i=t.texturePreference?.resolution??1,a=typeof i=="number"?[i]:i,l=await this._detectFormats({preferredFormats:t.texturePreference?.format,skipDetections:t.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:l,resolution:a}}),t.preferences&&this.setPreferences(t.preferences)}add(t){this.resolver.add(t)}async load(t,i){this._initialized||await this.init();const a=io(t),l=ai(t).map(f=>{if(typeof f!="string"){const d=this.resolver.getAlias(f);return d.some(p=>!this.resolver.hasKey(p))&&this.add(f),Array.isArray(d)?d[0]:d}return this.resolver.hasKey(f)||this.add({alias:f,src:f}),f}),u=this.resolver.resolve(l),c=await this._mapLoadToResolve(u,i);return a?c[l[0]]:c}addBundle(t,i){this.resolver.addBundle(t,i)}async loadBundle(t,i){this._initialized||await this.init();let a=!1;typeof t=="string"&&(a=!0,t=[t]);const l=this.resolver.resolveBundle(t),u={},c=Object.keys(l);let f=0,d=0;const p=()=>{i?.(++f/d)},g=c.map(y=>{const _=l[y],b=Object.values(_),A=[...new Set(b.flat())];return d+=A.length,this._mapLoadToResolve(_,p).then(w=>{u[y]=w})});return await Promise.all(g),a?u[t[0]]:u}async backgroundLoad(t){this._initialized||await this.init(),typeof t=="string"&&(t=[t]);const i=this.resolver.resolve(t);this._backgroundLoader.add(Object.values(i))}async backgroundLoadBundle(t){this._initialized||await this.init(),typeof t=="string"&&(t=[t]);const i=this.resolver.resolveBundle(t);Object.values(i).forEach(a=>{this._backgroundLoader.add(Object.values(a))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(t){if(typeof t=="string")return Nt.get(t);const i={};for(let a=0;a<t.length;a++)i[a]=Nt.get(t[a]);return i}async _mapLoadToResolve(t,i){const a=[...new Set(Object.values(t))];this._backgroundLoader.active=!1;const l=await this.loader.load(a,i);this._backgroundLoader.active=!0;const u={};return a.forEach(c=>{const f=l[c.src],d=[c.src];c.alias&&d.push(...c.alias),d.forEach(p=>{u[p]=f}),Nt.set(d,f)}),u}async unload(t){this._initialized||await this.init();const i=ai(t).map(l=>typeof l!="string"?l.src:l),a=this.resolver.resolve(i);await this._unloadFromResolved(a)}async unloadBundle(t){this._initialized||await this.init(),t=ai(t);const i=this.resolver.resolveBundle(t),a=Object.keys(i).map(l=>this._unloadFromResolved(i[l]));await Promise.all(a)}async _unloadFromResolved(t){const i=Object.values(t);i.forEach(a=>{Nt.remove(a.src)}),await this.loader.unload(i)}async _detectFormats(t){let i=[];t.preferredFormats&&(i=Array.isArray(t.preferredFormats)?t.preferredFormats:[t.preferredFormats]);for(const a of t.detections)t.skipDetections||await a.test()?i=await a.add(i):t.skipDetections||(i=await a.remove(i));return i=i.filter((a,l)=>i.indexOf(a)===l),i}get detections(){return this._detections}setPreferences(t){this.loader.parsers.forEach(i=>{i.config&&Object.keys(i.config).filter(a=>a in t).forEach(a=>{i.config[a]=t[a]})})}}const ri=new nT;he.handleByList(nt.LoadParser,ri.loader.parsers).handleByList(nt.ResolveParser,ri.resolver.parsers).handleByList(nt.CacheParser,ri.cache.parsers).handleByList(nt.DetectionParser,ri.detections);he.add(g2,x2,y2,A2,b2,v2,S2,M2,B2,H2,j2,hx,eT,p2,d2,fx,iT);const _y={loader:nt.LoadParser,resolver:nt.ResolveParser,cache:nt.CacheParser,detection:nt.DetectionParser};he.handle(nt.Asset,s=>{const t=s.ref;Object.entries(_y).filter(([i])=>!!t[i]).forEach(([i,a])=>he.add(Object.assign(t[i],{extension:t[i].extension??a})))},s=>{const t=s.ref;Object.keys(_y).filter(i=>!!t[i]).forEach(i=>he.remove(t[i]))});class bn extends Fh{constructor(t){t instanceof We&&(t={context:t});const{context:i,roundPixels:a,...l}=t||{};super({label:"Graphics",...l}),this.renderPipeId="graphics",i?this._context=i:this._context=this._ownedContext=new We,this._context.on("update",this.onViewUpdate,this),this.didViewUpdate=!0,this.allowChildren=!1,this.roundPixels=a??!1}set context(t){t!==this._context&&(this._context.off("update",this.onViewUpdate,this),this._context=t,this._context.on("update",this.onViewUpdate,this),this.onViewUpdate())}get context(){return this._context}get bounds(){return this._context.bounds}updateBounds(){}containsPoint(t){return this._context.containsPoint(t)}destroy(t){this._ownedContext&&!t?this._ownedContext.destroy(t):(t===!0||t?.context===!0)&&this._context.destroy(t),this._ownedContext=null,this._context=null,super.destroy(t)}_callContextMethod(t,i){return this.context[t](...i),this}setFillStyle(...t){return this._callContextMethod("setFillStyle",t)}setStrokeStyle(...t){return this._callContextMethod("setStrokeStyle",t)}fill(...t){return this._callContextMethod("fill",t)}stroke(...t){return this._callContextMethod("stroke",t)}texture(...t){return this._callContextMethod("texture",t)}beginPath(){return this._callContextMethod("beginPath",[])}cut(){return this._callContextMethod("cut",[])}arc(...t){return this._callContextMethod("arc",t)}arcTo(...t){return this._callContextMethod("arcTo",t)}arcToSvg(...t){return this._callContextMethod("arcToSvg",t)}bezierCurveTo(...t){return this._callContextMethod("bezierCurveTo",t)}closePath(){return this._callContextMethod("closePath",[])}ellipse(...t){return this._callContextMethod("ellipse",t)}circle(...t){return this._callContextMethod("circle",t)}path(...t){return this._callContextMethod("path",t)}lineTo(...t){return this._callContextMethod("lineTo",t)}moveTo(...t){return this._callContextMethod("moveTo",t)}quadraticCurveTo(...t){return this._callContextMethod("quadraticCurveTo",t)}rect(...t){return this._callContextMethod("rect",t)}roundRect(...t){return this._callContextMethod("roundRect",t)}poly(...t){return this._callContextMethod("poly",t)}regularPoly(...t){return this._callContextMethod("regularPoly",t)}roundPoly(...t){return this._callContextMethod("roundPoly",t)}roundShape(...t){return this._callContextMethod("roundShape",t)}filletRect(...t){return this._callContextMethod("filletRect",t)}chamferRect(...t){return this._callContextMethod("chamferRect",t)}star(...t){return this._callContextMethod("star",t)}svg(...t){return this._callContextMethod("svg",t)}restore(...t){return this._callContextMethod("restore",t)}save(){return this._callContextMethod("save",[])}getTransform(){return this.context.getTransform()}resetTransform(){return this._callContextMethod("resetTransform",[])}rotateTransform(...t){return this._callContextMethod("rotate",t)}scaleTransform(...t){return this._callContextMethod("scale",t)}setTransform(...t){return this._callContextMethod("setTransform",t)}transform(...t){return this._callContextMethod("transform",t)}translateTransform(...t){return this._callContextMethod("translate",t)}clear(){return this._callContextMethod("clear",[])}get fillStyle(){return this._context.fillStyle}set fillStyle(t){this._context.fillStyle=t}get strokeStyle(){return this._context.strokeStyle}set strokeStyle(t){this._context.strokeStyle=t}clone(t=!1){return t?new bn(this._context.clone()):(this._ownedContext=null,new bn(this._context))}lineStyle(t,i,a){xt(Et,"Graphics#lineStyle is no longer needed. Use Graphics#setStrokeStyle to set the stroke style.");const l={};return t&&(l.width=t),i&&(l.color=i),a&&(l.alpha=a),this.context.strokeStyle=l,this}beginFill(t,i){xt(Et,"Graphics#beginFill is no longer needed. Use Graphics#fill to fill the shape with the desired style.");const a={};return t!==void 0&&(a.color=t),i!==void 0&&(a.alpha=i),this.context.fillStyle=a,this}endFill(){xt(Et,"Graphics#endFill is no longer needed. Use Graphics#fill to fill the shape with the desired style."),this.context.fill();const t=this.context.strokeStyle;return(t.width!==We.defaultStrokeStyle.width||t.color!==We.defaultStrokeStyle.color||t.alpha!==We.defaultStrokeStyle.alpha)&&this.context.stroke(),this}drawCircle(...t){return xt(Et,"Graphics#drawCircle has been renamed to Graphics#circle"),this._callContextMethod("circle",t)}drawEllipse(...t){return xt(Et,"Graphics#drawEllipse has been renamed to Graphics#ellipse"),this._callContextMethod("ellipse",t)}drawPolygon(...t){return xt(Et,"Graphics#drawPolygon has been renamed to Graphics#poly"),this._callContextMethod("poly",t)}drawRect(...t){return xt(Et,"Graphics#drawRect has been renamed to Graphics#rect"),this._callContextMethod("rect",t)}drawRoundedRect(...t){return xt(Et,"Graphics#drawRoundedRect has been renamed to Graphics#roundRect"),this._callContextMethod("roundRect",t)}drawStar(...t){return xt(Et,"Graphics#drawStar has been renamed to Graphics#star"),this._callContextMethod("star",t)}}class sT extends Fh{constructor(t,i){const{text:a,resolution:l,style:u,anchor:c,width:f,height:d,roundPixels:p,...g}=t;super({...g}),this.batched=!0,this._resolution=null,this._autoResolution=!0,this._didTextUpdate=!0,this._styleClass=i,this.text=a??"",this.style=u,this.resolution=l??null,this.allowChildren=!1,this._anchor=new ce({_onUpdate:()=>{this.onViewUpdate()}}),c&&(this.anchor=c),this.roundPixels=p??!1,f!==void 0&&(this.width=f),d!==void 0&&(this.height=d)}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}set text(t){t=t.toString(),this._text!==t&&(this._text=t,this.onViewUpdate())}get text(){return this._text}set resolution(t){this._autoResolution=t===null,this._resolution=t,this.onViewUpdate()}get resolution(){return this._resolution}get style(){return this._style}set style(t){t||(t={}),this._style?.off("update",this.onViewUpdate,this),t instanceof this._styleClass?this._style=t:this._style=new this._styleClass(t),this._style.on("update",this.onViewUpdate,this),this.onViewUpdate()}get width(){return Math.abs(this.scale.x)*this.bounds.width}set width(t){this._setWidth(t,this.bounds.width)}get height(){return Math.abs(this.scale.y)*this.bounds.height}set height(t){this._setHeight(t,this.bounds.height)}getSize(t){return t||(t={}),t.width=Math.abs(this.scale.x)*this.bounds.width,t.height=Math.abs(this.scale.y)*this.bounds.height,t}setSize(t,i){typeof t=="object"?(i=t.height??t.width,t=t.width):i??(i=t),t!==void 0&&this._setWidth(t,this.bounds.width),i!==void 0&&this._setHeight(i,this.bounds.height)}containsPoint(t){const i=this.bounds.width,a=this.bounds.height,l=-i*this.anchor.x;let u=0;return t.x>=l&&t.x<=l+i&&(u=-a*this.anchor.y,t.y>=u&&t.y<=u+a)}onViewUpdate(){this.didViewUpdate||(this._didTextUpdate=!0),super.onViewUpdate()}destroy(t=!1){super.destroy(t),this.owner=null,this._bounds=null,this._anchor=null,(typeof t=="boolean"?t:t?.style)&&this._style.destroy(t),this._style=null,this._text=null}}function aT(s,t){let i=s[0]??{};return(typeof i=="string"||s[1])&&(xt(Et,`use new ${t}({ text: "hi!", style }) instead`),i={text:i,style:s[1]}),i}let jn=null,Hi=null;function rT(s,t){jn||(jn=Lt.get().createCanvas(256,128),Hi=jn.getContext("2d",{willReadFrequently:!0}),Hi.globalCompositeOperation="copy",Hi.globalAlpha=1),(jn.width<s||jn.height<t)&&(jn.width=Ps(s),jn.height=Ps(t))}function by(s,t,i){for(let a=0,l=4*i*t;a<t;++a,l+=4)if(s[l+3]!==0)return!1;return!0}function vy(s,t,i,a,l){const u=4*t;for(let c=a,f=a*u+4*i;c<=l;++c,f+=u)if(s[f+3]!==0)return!1;return!0}function lT(...s){let t=s[0];t.canvas||(t={canvas:s[0],resolution:s[1]});const{canvas:i}=t,a=Math.min(t.resolution??1,1),l=t.width??i.width,u=t.height??i.height;let c=t.output;if(rT(l,u),!Hi)throw new TypeError("Failed to get canvas 2D context");Hi.drawImage(i,0,0,l,u,0,0,l*a,u*a);const d=Hi.getImageData(0,0,l,u).data;let p=0,g=0,y=l-1,_=u-1;for(;g<u&&by(d,l,g);)++g;if(g===u)return Pt.EMPTY;for(;by(d,l,_);)--_;for(;vy(d,l,p,g,_);)++p;for(;vy(d,l,y,g,_);)--y;return++y,++_,Hi.globalCompositeOperation="source-over",Hi.strokeRect(p,g,y-p,_-g),Hi.globalCompositeOperation="copy",c??(c=new Pt),c.set(p/a,g/a,(y-p)/a,(_-g)/a),c}const Sy=new Pt;class oT{getCanvasAndContext(t){const{text:i,style:a,resolution:l=1}=t,u=a._getFinalPadding(),c=xi.measureText(i||" ",a),f=Math.ceil(Math.ceil(Math.max(1,c.width)+u*2)*l),d=Math.ceil(Math.ceil(Math.max(1,c.height)+u*2)*l),p=ao.getOptimalCanvasAndContext(f,d);this._renderTextToCanvas(i,a,u,l,p);const g=a.trim?lT({canvas:p.canvas,width:f,height:d,resolution:1,output:Sy}):Sy.set(0,0,f,d);return{canvasAndContext:p,frame:g}}returnCanvasAndContext(t){ao.returnCanvasAndContext(t)}_renderTextToCanvas(t,i,a,l,u){const{canvas:c,context:f}=u,d=no(i),p=xi.measureText(t||" ",i),g=p.lines,y=p.lineHeight,_=p.lineWidths,b=p.maxLineWidth,A=p.fontProperties,w=c.height;if(f.resetTransform(),f.scale(l,l),f.textBaseline=i.textBaseline,i._stroke?.width){const E=i._stroke;f.lineWidth=E.width,f.miterLimit=E.miterLimit,f.lineJoin=E.join,f.lineCap=E.cap}f.font=d;let S,T;const C=i.dropShadow?2:1;for(let E=0;E<C;++E){const D=i.dropShadow&&E===0,H=D?Math.ceil(Math.max(1,w)+a*2):0,F=H*l;if(D){f.fillStyle="black",f.strokeStyle="black";const j=i.dropShadow,W=j.color,K=j.alpha;f.shadowColor=Kt.shared.setValue(W).setAlpha(K).toRgbaString();const ht=j.blur*l,_t=j.distance*l;f.shadowBlur=ht,f.shadowOffsetX=Math.cos(j.angle)*_t,f.shadowOffsetY=Math.sin(j.angle)*_t+F}else{if(f.fillStyle=i._fill?ro(i._fill,f,p,a*2):null,i._stroke?.width){const j=i._stroke.width*.5+a*2;f.strokeStyle=ro(i._stroke,f,p,j)}f.shadowColor="black"}let N=(y-A.fontSize)/2;y-A.fontSize<0&&(N=0);const J=i._stroke?.width??0;for(let j=0;j<g.length;j++)S=J/2,T=J/2+j*y+A.ascent+N,i.align==="right"?S+=b-_[j]:i.align==="center"&&(S+=(b-_[j])/2),i._stroke?.width&&this._drawLetterSpacing(g[j],i,u,S+a,T+a-H,!0),i._fill!==void 0&&this._drawLetterSpacing(g[j],i,u,S+a,T+a-H)}}_drawLetterSpacing(t,i,a,l,u,c=!1){const{context:f}=a,d=i.letterSpacing;let p=!1;if(xi.experimentalLetterSpacingSupported&&(xi.experimentalLetterSpacing?(f.letterSpacing=`${d}px`,f.textLetterSpacing=`${d}px`,p=!0):(f.letterSpacing="0px",f.textLetterSpacing="0px")),d===0||p){c?f.strokeText(t,l,u):f.fillText(t,l,u);return}let g=l;const y=xi.graphemeSegmenter(t);let _=f.measureText(t).width,b=0;for(let A=0;A<y.length;++A){const w=y[A];c?f.strokeText(w,g,u):f.fillText(w,g,u);let S="";for(let T=A+1;T<y.length;++T)S+=y[T];b=f.measureText(S).width,g+=_-b+d,_=b}}}const Ay=new oT;class uT extends sT{constructor(...t){const i=aT(t,"Text");super(i,Xs),this.renderPipeId="text",i.textureStyle&&(this.textureStyle=i.textureStyle instanceof js?i.textureStyle:new js(i.textureStyle))}updateBounds(){const t=this._bounds,i=this._anchor;let a=0,l=0;if(this._style.trim){const{frame:u,canvasAndContext:c}=Ay.getCanvasAndContext({text:this.text,style:this._style,resolution:1});Ay.returnCanvasAndContext(c),a=u.width,l=u.height}else{const u=xi.measureText(this._text,this._style);a=u.width,l=u.height}t.minX=-i._x*a,t.maxX=t.minX+a,t.minY=-i._y*l,t.maxY=t.minY+l}}he.add(p1,m1);class Ke{static app=null;static async init(t="game-container"){if(this.app)return this.app;const i=document.getElementById(t);if(!i)throw new Error("Game container not found");return this.app=new N0,await this.app.init({resizeTo:i,background:"#ffffff"}),i.appendChild(this.app.canvas),this.app}static loadGame(){}static destroy(){this.app&&(this.app.destroy(!0),this.app=null)}static getApp(){return this.app}}const cT="/playroom/images/whack-a-mole/hole.png",hT="/playroom/images/whack-a-mole/mole.png",fT="/playroom/images/whack-a-mole/mole_hit.png",dT="/playroom/images/whack-a-mole/fake.png",pT="/playroom/images/whack-a-mole/fake_hit.png",mT="/playroom/sounds/hit.mp3",wy={easy:{spawnInterval:1500,moleVisibleTime:1500,fakeRate:0},normal:{spawnInterval:1200,moleVisibleTime:1200,fakeRate:.1},hard:{spawnInterval:1e3,moleVisibleTime:1e3,fakeRate:.2}};class Ty{moles=[];moleVisible=[];spawnTimer=null;onScore;spawnInterval=1e3;moleVisibleTime=1e3;score=0;level=1;hitSound;difficulty;constructor(t,i){this.onScore=t,this.hitSound=new Audio(mT),this.difficulty=i??"normal"}async start(){const t=Ke.getApp();if(!t?.canvas)return;const i=new bn;i.rect(0,0,t.renderer.width,t.renderer.height).fill(2263842),t.stage.addChild(i);const a=await ri.load(cT),l=await ri.load(hT),u=await ri.load(fT),c=await ri.load(dT),f=await ri.load(pT),d=wy[this.difficulty];this.spawnInterval=d.spawnInterval,this.moleVisibleTime=d.moleVisibleTime;for(let p=0;p<9;p++){let g=t.renderer.width/6+t.renderer.width/3*(p%3),y=t.renderer.height/6+t.renderer.height/3*Math.floor(p/3);const _=Math.min(t.renderer.width,t.renderer.height)*.3,b=new Ze(a);b.anchor.set(.5),b.x=g,b.y=y,b.width=_,b.height=_;const A=new Ze(l);A.anchor.set(.5),A.x=g,A.y=y,A.width=_,A.height=_,A.visible=!1,A.eventMode="static",A.cursor="pointer";const w=new Ze(u);w.anchor.set(.5),w.x=g,w.y=y,w.width=_,w.height=_,w.visible=!1;const S=new Ze(c);S.anchor.set(.5),S.x=g,S.y=y,S.width=_,S.height=_,S.visible=!1,S.eventMode="static",S.cursor="pointer";const T=new Ze(f);T.anchor.set(.5),T.x=g,T.y=y,T.width=_,T.height=_,T.visible=!1,A.on("pointerdown",()=>{if(A.visible){A.visible=!1,w.visible=!0,this.hitSound.currentTime=0,this.hitSound.play(),this.moleVisible[p]=!0,this.showFloatingText("+10",A.x,A.y,16777215),setTimeout(()=>{w.visible=!1,this.moleVisible[p]=!1},500),this.score+=10;const C=Math.floor(this.score/50)+1;C>this.level&&(this.level=C,this.spawnInterval=Math.max(400,this.spawnInterval-100),this.moleVisibleTime=Math.max(400,this.moleVisibleTime-100),this.spawnTimer&&clearInterval(this.spawnTimer),this.spawnTimer=setInterval(()=>this.spawnRandomMole(),this.spawnInterval)),this.onScore&&this.onScore(10,this.level)}}),S.on("pointerdown",()=>{S.visible&&(S.visible=!1,T.visible=!0,this.hitSound.currentTime=0,this.hitSound.play(),this.moleVisible[p]=!0,this.showFloatingText("-5",S.x,S.y,16729156),setTimeout(()=>{T.visible=!1,this.moleVisible[p]=!1},500),this.score=this.score-=5,this.onScore&&this.onScore(-5,this.level))}),t.stage.addChild(b),t.stage.addChild(A),t.stage.addChild(w),t.stage.addChild(S),t.stage.addChild(T),this.moles.push({normal:A,hit:w,fake:S,fakeHit:T}),this.moleVisible[p]=!1}this.spawnTimer=setInterval(()=>this.spawnRandomMole(),this.spawnInterval)}spawnRandomMole(){const t=Math.floor(Math.random()*this.moles.length);this.moleVisible[t]||this.showMole(t)}showMole(t){const i=this.moles[t];if(!i)return;const a=wy[this.difficulty];if(this.difficulty==="hard"&&Math.random()<.3){i.normal.visible=!0,this.moleVisible[t]=!0;const l=this.getAnotherHole(t),u=this.moles[l];u&&(u.fake.visible=!0,this.moleVisible[l]=!0,setTimeout(()=>{u.fake.visible=!1,this.moleVisible[l]=!1},this.moleVisibleTime))}else Math.random()<a.fakeRate?i.fake.visible=!0:i.normal.visible=!0,this.moleVisible[t]=!0;setTimeout(()=>{i.normal.visible=!1,i.fake.visible=!1,this.moleVisible[t]=!1},this.moleVisibleTime)}getAnotherHole(t){let i=t;for(;i===t;)i=Math.floor(Math.random()*this.moles.length);return i}showFloatingText(t,i,a,l){const u=Ke.getApp();if(!u)return;const c=new Xs({fontFamily:"Arial",fontSize:36,fill:l,stroke:{color:0,width:4,join:"round"}}),f=new uT({text:t,style:c});f.anchor.set(.5),f.x=i,f.y=a-40,u.stage.addChild(f);let d=0;const p=60,g=()=>{const y=u.ticker.deltaTime;d+=y,f.y-=1*y,f.alpha=1-d/p,d>=p&&(u.stage.removeChild(f),u.ticker.remove(g))};u.ticker.add(g)}stop(){this.spawnTimer&&clearInterval(this.spawnTimer),this.spawnTimer=null}destroy(){this.stop();const t=Ke.getApp();t&&(t.stage.removeChildren(),this.moles=[],this.moleVisible=[],this.score=0,this.level=1)}}const ef="/playroom/images/whack-a-mole/bg_natural_sougen.jpg",Te=({label:s,onClick:t,color:i="#4CAF50",width:a="250px"})=>Z.jsx("button",{onClick:t,style:{fontSize:"24px",padding:"12px 25px",background:i,color:"white",border:"none",borderRadius:"25px",cursor:"pointer",boxShadow:"0 4px 6px rgba(0,0,0,0.2)",transition:"transform 0.1s ease, box-shadow 0.1s ease",margin:"5px",width:a},onMouseDown:l=>l.target.style.transform="scale(0.95)",onMouseUp:l=>l.target.style.transform="scale(1)",onMouseEnter:l=>l.target.style.boxShadow="0 8px 12px rgba(0,0,0,0.3)",onMouseLeave:l=>l.target.style.boxShadow="0 4px 6px rgba(0,0,0,0.2)",children:s}),gT=()=>{const[s,t]=P.useState(0),[,i]=P.useState(1),[a,l]=P.useState(30),[u,c]=P.useState(!1),[f,d]=P.useState(!1),p=P.useRef(null),g=P.useRef(null),[y,_]=P.useState("normal");P.useEffect(()=>{let S=null;return(async()=>{await Ke.init(),S=new Ty})(),()=>{S?.destroy(),Ke.destroy()}},[]);const b=S=>{t(0),i(1),l(30),c(!0),d(!1),_(S),p.current&&p.current.destroy();const T=new Ty(C=>{t(E=>{const D=E+C;return i(Math.floor(D/100)+1),D})},S);p.current=T,T.start(),g.current=setInterval(()=>{l(C=>C<=1?(A(),0):C-1)},1e3)},A=()=>{g.current&&clearInterval(g.current),p.current&&p.current.stop(),c(!1),d(!0)};function w(){window.location.reload()}return Z.jsxs("div",{style:{position:"relative",width:"100%",height:"100%",overflow:"hidden"},children:[Z.jsx("div",{id:"game-container",style:{width:"100%",height:"100%"}}),u&&Z.jsxs("div",{style:{position:"absolute",top:"10px",left:"10px",color:"white",fontSize:"20px",textAlign:"left",background:"rgba(0,0,0,0.4)",padding:"5px 10px",borderRadius:"8px"},children:[Z.jsxs("div",{children:["スコア: ",s," 点"]}),Z.jsxs("div",{children:["残り時間: ",a," 秒"]})]}),!u&&!f&&Z.jsxs("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundImage:`url(${ef})`,backgroundSize:"cover",backgroundPosition:"center",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"30px"},children:[Z.jsx("h2",{style:{fontSize:"60px",margin:0,color:"#FF69B4",fontFamily:"'Comic Sans MS', 'Arial', sans-serif",textShadow:"2px 2px 0 #FFD700, 4px 4px 0 #FFD700",animation:"bounce 1.5s infinite"},children:"もぐらたたき"}),Z.jsx(Te,{label:"♥️ かんたん",onClick:()=>b("easy"),color:"linear-gradient(135deg, #FFCC00, #FF8C00)"}),Z.jsx(Te,{label:"🙂 ふつう",onClick:()=>b("normal"),color:"linear-gradient(135deg, #FFCC00, #FF8C00)"}),Z.jsx(Te,{label:"💀 むずかしい",onClick:()=>b("hard"),color:"linear-gradient(135deg, #FFCC00, #FF8C00)"}),Z.jsx("style",{children:`
      @keyframes bounce {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(-10px); }
      }
    `})]}),f&&Z.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center"},children:Z.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.9)",color:"#333",padding:"20px 30px",borderRadius:"20px",textAlign:"center",boxShadow:"0 4px 10px rgba(0,0,0,0.3)"},children:[Z.jsx("h2",{style:{fontSize:"32px",margin:"10px 0"},children:"🎉 Game Over 🎉"}),Z.jsxs("p",{style:{fontSize:"22px"},children:["スコア: ",s," 点"]}),Z.jsx(Te,{label:"🔄 もう一回遊ぶ",onClick:()=>b(y),color:"#4CAF50"}),Z.jsx(Te,{label:"⬅ 戻る",onClick:w,color:"#929697"})]})})]})};class Cy{snapThreshold=20;pieces=[];onComplete;rows;cols;imagePath;constructor(t){this.rows=t?.rows??2,this.cols=t?.cols??3,this.imagePath=t?.imagePath??"/images/puzzle/neko.jpg",this.onComplete=t?.onComplete}async start(t){const i=Ke.getApp();if(!i?.canvas)return;t.innerHTML="",t.appendChild(i.canvas),i.stage.sortableChildren=!0;const a=this.rows,l=this.cols;let u;this.imagePath.startsWith("blob")?u=await ri.load({src:this.imagePath,loadParser:"loadTextures"}):u=await ri.load(this.imagePath);const c=u.width,f=u.height,d=i.renderer.width,p=i.renderer.height,g=Math.min(d/c,p/f),y=c*g,_=f*g;this.snapThreshold=Math.max(y,_)*.1;const b=(d-y)/2,A=(p-_)/2,w=y/l,S=_/a,T=new Ze(u);T.width=y,T.height=_,T.x=b,T.y=A,T.alpha=.3,i.stage.addChild(T);const C=new bn().rect(b,A,y,_).stroke({color:0,width:2});i.stage.addChild(C);for(let E=0;E<a;E++)for(let D=0;D<l;D++){const H=new Pt(c/l*D,f/a*E,c/l,f/a),F=new vt({source:u.source,frame:H}),N=new Ze(F);N.width=w,N.height=S,N.x=0,N.y=0;const J=new bn().rect(0,0,w,S).stroke({color:0,width:2});J.x=0,J.y=0;const j=new Xi;j.addChild(N),j.addChild(J);const W=b+D*w,K=A+E*S;j.targetX=W,j.targetY=K,j.snapped=!1,j.x=Math.random()*(d-w),j.y=Math.random()*(p-S),j.eventMode="static",j.cursor="pointer";let ht=0,_t=0;j.on("pointerdown",wt=>{if(j.snapped)return;const O=wt.getLocalPosition(i.stage);ht=O.x-j.x,_t=O.y-j.y,i.stage.setChildIndex(j,i.stage.children.length-1),j.alpha=.8,j.dragging=!0}),j.on("pointermove",wt=>{if(j.dragging){const O=wt.getLocalPosition(i.stage);j.x=O.x-ht,j.y=O.y-_t}});const Ht=()=>{if(j.dragging){if(j.dragging=!1,j.alpha=1,!j.snapped){const wt=j.x-j.targetX,O=j.y-j.targetY;Math.sqrt(wt*wt+O*O)<this.snapThreshold&&(j.x=j.targetX,j.y=j.targetY,j.snapped=!0,i.stage.setChildIndex(j,0))}this.pieces.every(wt=>wt.snapped)&&this.onComplete&&this.onComplete()}};j.on("pointerup",Ht),j.on("pointerupoutside",Ht),i.stage.addChild(j),this.pieces.push(j)}}destroy(){const t=Ke.getApp();t&&(t.stage.removeChildren(),this.pieces.forEach(i=>{i.parent&&i.parent.removeChild(i)}),this.pieces=[])}}const yT=()=>{const[s,t]=P.useState(!1),[i,a]=P.useState(!1),[l,u]=P.useState([]),[c,f]=P.useState(null),d=P.useRef(null);P.useEffect(()=>{let _=null;return(async()=>{await Ke.init(),_=new Cy})(),fetch("/playroom/config/puzzlePresets.json").then(A=>A.json()).then(A=>u(A)),()=>{_?.destroy(),Ke.destroy()}},[]);const p=_=>{t(!0),a(!1),f(_),d.current&&d.current.destroy();const b=new Cy({rows:_.rows,cols:_.cols,imagePath:_.image,onComplete:()=>g()});d.current=b;const A=document.getElementById("game-container");A&&b.start(A)},g=()=>{t(!1),a(!0)},y=()=>{window.location.reload()};return Z.jsxs("div",{style:{position:"relative",width:"100%",height:"100%",overflow:"hidden"},children:[Z.jsx("div",{id:"game-container",style:{width:"100%",height:"100%"}}),!s&&!i&&Z.jsxs("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundImage:`url(${ef})`,backgroundSize:"cover",backgroundPosition:"center",display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",padding:"40px 20px",overflowY:"auto"},children:[Z.jsx("h2",{style:{marginBottom:"40px",color:"#FF69B4",fontFamily:"'Comic Sans MS', 'Arial', sans-serif",textShadow:"2px 2px 0 #FFD700, 4px 4px 0 #FFD700",animation:"bounce 1.5s infinite"},className:"lg:text-6xl md:text-5xl sm:text-4xl text-3xl",children:"ジグソーパズル"}),Z.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"20px",width:"100%",maxWidth:"800px"},children:l.map(_=>Z.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"20px",background:"rgba(255,255,255,0.8)",borderRadius:"12px",padding:"10px 15px",boxShadow:"0 4px 8px rgba(0,0,0,0.2)"},children:[Z.jsx("img",{src:_.image,alt:_.label,style:{width:"150px",height:"100px",objectFit:"cover",borderRadius:"8px",border:"2px solid #fff"}}),Z.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"10px",justifyContent:"flex-end"},children:_.difficulties.map(b=>Z.jsx(Te,{label:b.label,onClick:()=>p({id:_.id,label:b.label,rows:b.rows,cols:b.cols,image:_.image}),color:"linear-gradient(135deg, #00C9FF, #92FE9D)"},b.label))})]},_.id))}),Z.jsxs("div",{style:{marginTop:"20px",padding:"15px",background:"rgba(203, 65, 65, 0.8)",borderRadius:"12px",textAlign:"center",boxShadow:"0 4px 8px rgba(0,0,0,0.2)"},children:[Z.jsx("p",{style:{marginBottom:"10px"},children:"📷 好きな画像で遊ぶ"}),Z.jsx("input",{id:"upload-image-input",type:"file",accept:"image/*",style:{display:"none"},onChange:_=>{const b=_.target.files?.[0];if(b){const A=URL.createObjectURL(b),w=[{label:"かんたん (3x3)",rows:3,cols:3},{label:"ふつう (4x4)",rows:4,cols:4},{label:"むずかしい (5x5)",rows:5,cols:5}];u(S=>[...S,{id:`custom-${Date.now()}`,label:"アップロード画像",image:A,difficulties:w}])}_.target.value=""}}),Z.jsx(Te,{label:"画像アップロード",onClick:()=>{const _=document.getElementById("upload-image-input");_&&_.click()},color:"linear-gradient(135deg, #FFB347, #FFCC33)"})]}),Z.jsx("style",{children:`
      @keyframes bounce {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(-10px); }
      }
    `})]}),i&&c&&Z.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center"},children:Z.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.95)",color:"#333",padding:"20px 30px",borderRadius:"20px",textAlign:"center",boxShadow:"0 4px 10px rgba(0,0,0,0.3)",maxWidth:"600px"},children:[Z.jsx("h2",{style:{fontSize:"32px",margin:"10px 0"},children:"🎉 クリア 🎉"}),Z.jsx("img",{src:c.image,alt:"完成画像",style:{width:"80%",maxWidth:"500px",maxHeight:"500px",borderRadius:"12px",margin:"20px auto",display:"block",boxShadow:"0 4px 8px rgba(0,0,0,0.2)"}}),Z.jsxs("div",{style:{display:"flex",gap:"10px",justifyContent:"center"},children:[Z.jsx(Te,{label:"🔄 もう一回遊ぶ",onClick:()=>{c&&p(c)},color:"#4CAF50"}),Z.jsx(Te,{label:"⬅ 戻る",onClick:y,color:"#929697"})]})]})})]})};class xT{app=null;cards=[];flippedCards=[];onComplete;totalCards;constructor(t){this.onComplete=t?.onComplete,this.totalCards=t?.totalCards??8}async start(t){const i=Ke.getApp();if(!i?.canvas)return;t.innerHTML="",t.appendChild(i.canvas),i.stage.removeChildren(),this.app=i,i.stage.sortableChildren=!0;const a=this.totalCards/2,l=Array.from({length:a},()=>Math.floor(Math.random()*16777215)),u=[...l,...l].sort(()=>Math.random()-.5);for(var c=1,f=0;f*f<this.totalCards;f+=2)c=f+2;const d=Math.ceil(this.totalCards/c),p=120,g=20,y=c*(p+g),_=d*(p+g),b=(i.renderer.width-y)/2,A=(i.renderer.height-_)/2;u.forEach((w,S)=>{const T=S%c,C=Math.floor(S/c),E=b+T*(p+g),D=A+C*(p+g),H=this.createCard(w,p);H.x=E,H.y=D,i.stage.addChild(H),this.cards.push(H)})}createCard(t,i){const a=new Xi,l=new bn().circle(i/2,i/2,i/2-10).fill({color:t});l.visible=!1;const u=new bn().roundRect(0,0,i,i,12).fill({color:11184810});return a.addChild(l,u),a.colorId=t,a.flipped=!1,a.matched=!1,a.front=l,a.back=u,a.eventMode="static",a.cursor="pointer",a.on("pointertap",()=>this.flipCard(a)),a}async flipCard(t){if(!(t.flipped||t.matched)&&!(this.flippedCards.length>=2)&&(t.flipped=!0,t.front.visible=!0,t.back.visible=!1,this.flippedCards.push(t),this.flippedCards.length===2)){const[i,a]=this.flippedCards;i.colorId===a.colorId?(i.matched=!0,a.matched=!0,this.flippedCards=[],this.cards.every(l=>l.matched)&&this.onComplete&&this.onComplete()):(await new Promise(l=>setTimeout(l,800)),this.unflipCard(i),this.unflipCard(a),this.flippedCards=[])}}unflipCard(t){t.flipped=!1,t.front.visible=!1,t.back.visible=!0}destroy(){this.app&&(this.cards.forEach(t=>t.destroy()),this.cards=[],this.flippedCards=[],this.app.stage.removeChildren())}}const _T=()=>{const[s,t]=P.useState(!1),[i,a]=P.useState(!1),l=P.useRef(null),[u,c]=P.useState(2);P.useEffect(()=>(Ke.init(),()=>Ke.destroy()),[]);const f=g=>{t(!0),a(!1),c(g);const y=document.getElementById("game-container"),_=new xT({totalCards:g,onComplete:()=>d()});_.start(y),l.current=_},d=()=>{t(!1),a(!0)},p=()=>{window.location.reload()};return Z.jsxs("div",{style:{width:"100%",height:"100%",position:"relative"},children:[Z.jsx("div",{id:"game-container",style:{width:"100%",height:"100%"}}),!s&&!i&&Z.jsxs("div",{style:{position:"absolute",inset:0,width:"100%",height:"100%",backgroundImage:`url(${ef})`,backgroundSize:"cover",backgroundPosition:"center",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"30px"},children:[Z.jsx("h2",{style:{fontSize:"60px",margin:0,color:"#FF69B4",fontFamily:"'Comic Sans MS', 'Arial', sans-serif",textShadow:"2px 2px 0 #FFD700, 4px 4px 0 #FFD700",animation:"bounce 1.5s infinite"},children:"絵合わせゲーム"}),Z.jsx(Te,{label:"♥️ かんたん",onClick:()=>f(8),color:"#FF69B4"}),Z.jsx(Te,{label:"🙂 ふつう",onClick:()=>f(12),color:"#FF69B4"}),Z.jsx(Te,{label:"💀 むずかしい",onClick:()=>f(18),color:"#FF69B4"}),Z.jsx("style",{children:`
      @keyframes bounce {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(-10px); }
      }
    `})]}),i&&Z.jsx("div",{style:{position:"absolute",inset:0,background:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center"},children:Z.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.95)",color:"#333",padding:"20px 30px",borderRadius:"20px",textAlign:"center",boxShadow:"0 4px 10px rgba(0,0,0,0.3)",maxWidth:"600px"},children:[Z.jsx("h2",{style:{fontSize:"32px",margin:"10px 0"},children:"🎉 クリア 🎉"}),Z.jsxs("div",{style:{display:"flex",gap:"10px",justifyContent:"center"},children:[Z.jsx(Te,{label:"もう一回",onClick:()=>f(u),color:"#4CAF50"}),Z.jsx(Te,{label:"⬅ 戻る",onClick:p,color:"#929697"})]})]})})]})};function bT(){return Z.jsx(e1,{basename:"/",children:Z.jsxs(Ov,{children:[Z.jsx(tr,{path:"/",element:Z.jsx(h1,{})}),Z.jsx(tr,{path:"/whackamolegame",element:Z.jsx(gT,{})})," ",Z.jsx(tr,{path:"/puzzle",element:Z.jsx(yT,{})})," ",Z.jsx(tr,{path:"/memory",element:Z.jsx(_T,{})})," "]})})}jb.createRoot(document.getElementById("root")).render(Z.jsx(bT,{}));export{G0 as $,U0 as A,we as B,Xi as C,Lt as D,nt as E,nS as F,co as G,wg as H,Ze as I,MS as J,GS as K,Qt as L,bt as M,Pt as N,tA as O,ge as P,Cg as Q,Ah as R,xA as S,Pl as T,_h as U,qc as V,Mg as W,rS as X,js as Y,Kt as Z,n0 as _,ui as a,xt as a0,Et as a1,aA as a2,EA as a3,vA as a4,IA as a5,ZA as a6,tw as a7,iw as a8,nw as a9,K0 as aa,Yg as ab,Pg as ac,dy as ad,xi as ae,r2 as af,Nt as ag,bn as ah,M1 as ai,Xs as aj,Ay as ak,tx as al,pr as b,Jl as c,Vh as d,he as e,jg as f,mA as g,O0 as h,d0 as i,ci as j,M0 as k,ao as l,qA as m,WA as n,$A as o,ew as p,Xh as q,P1 as r,vt as s,A0 as t,C1 as u,aw as v,Gt as w,Pi as x,t0 as y,oi as z};
